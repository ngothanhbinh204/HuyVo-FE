var App=(()=>{var As=Object.create;var We=Object.defineProperty,Is=Object.defineProperties,ks=Object.getOwnPropertyDescriptor,Os=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertyNames,mt=Object.getOwnPropertySymbols,Ds=Object.getPrototypeOf,gt=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable;var oe=Math.pow,ht=(s,e,t)=>e in s?We(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,te=(s,e)=>{for(var t in e||(e={}))gt.call(e,t)&&ht(s,t,e[t]);if(mt)for(var t of mt(e))zs.call(e,t)&&ht(s,t,e[t]);return s},Le=(s,e)=>Is(s,Os(e));var O=(s,e)=>()=>(s&&(e=s(s=0)),e);var Pe=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Hs=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $s(e))!gt.call(s,n)&&n!==t&&We(s,n,{get:()=>e[n],enumerable:!(i=ks(e,n))||i.enumerable});return s};var He=(s,e,t)=>(t=s!=null?As(Ds(s)):{},Hs(e||!s||!s.__esModule?We(t,"default",{value:s,enumerable:!0}):t,s));var vt=(s,e,t)=>new Promise((i,n)=>{var r=o=>{try{a(t.next(o))}catch(c){n(c)}},l=o=>{try{a(t.throw(o))}catch(c){n(c)}},a=o=>o.done?i(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(s,e)).next())});var wt=Pe((Ae,Ue)=>{(function(s,e){typeof Ae=="object"&&typeof Ue=="object"?Ue.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ae=="object"?Ae.AOS=e():s.AOS=e()})(Ae,function(){return function(s){function e(i){if(t[i])return t[i].exports;var n=t[i]={exports:{},id:i,loaded:!1};return s[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var t={};return e.m=s,e.c=t,e.p="dist/",e(0)}([function(s,e,t){"use strict";function i(L){return L&&L.__esModule?L:{default:L}}var n=Object.assign||function(L){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(L[k]=I[k])}return L},r=t(1),l=(i(r),t(6)),a=i(l),o=t(7),c=i(o),d=t(8),f=i(d),h=t(9),m=i(h),y=t(10),w=i(y),E=t(11),b=i(E),p=t(14),u=i(p),g=[],T=!1,x={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},A=function(){var L=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(L&&(T=!0),T)return g=(0,b.default)(g,x),(0,w.default)(g,x.once),g},P=function(){g=(0,u.default)(),A()},S=function(){g.forEach(function(L,C){L.node.removeAttribute("data-aos"),L.node.removeAttribute("data-aos-easing"),L.node.removeAttribute("data-aos-duration"),L.node.removeAttribute("data-aos-delay")})},v=function(L){return L===!0||L==="mobile"&&m.default.mobile()||L==="phone"&&m.default.phone()||L==="tablet"&&m.default.tablet()||typeof L=="function"&&L()===!0},M=function(L){x=n(x,L),g=(0,u.default)();var C=document.all&&!window.atob;return v(x.disable)||C?S():(x.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),x.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",x.easing),document.querySelector("body").setAttribute("data-aos-duration",x.duration),document.querySelector("body").setAttribute("data-aos-delay",x.delay),x.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?A(!0):x.startEvent==="load"?window.addEventListener(x.startEvent,function(){A(!0)}):document.addEventListener(x.startEvent,function(){A(!0)}),window.addEventListener("resize",(0,c.default)(A,x.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(A,x.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)(function(){(0,w.default)(g,x.once)},x.throttleDelay)),x.disableMutationObserver||f.default.ready("[data-aos]",P),g)};s.exports={init:M,refresh:A,refreshHard:P}},function(s,e){},,,,,function(s,e){(function(t){"use strict";function i(v,M,L){function C(z){var K=j,pe=re;return j=re=void 0,ue=z,W=v.apply(pe,K)}function I(z){return ue=z,Y=setTimeout(J,M),fe?C(z):W}function k(z){var K=z-Q,pe=z-ue,pt=M-K;return ae?P(pt,ne-pe):pt}function H(z){var K=z-Q,pe=z-ue;return Q===void 0||K>=M||K<0||ae&&pe>=ne}function J(){var z=S();return H(z)?D(z):void(Y=setTimeout(J,k(z)))}function D(z){return Y=void 0,N&&j?C(z):(j=re=void 0,W)}function G(){Y!==void 0&&clearTimeout(Y),ue=0,j=Q=re=Y=void 0}function q(){return Y===void 0?W:D(S())}function F(){var z=S(),K=H(z);if(j=arguments,re=this,Q=z,K){if(Y===void 0)return I(Q);if(ae)return Y=setTimeout(J,M),C(Q)}return Y===void 0&&(Y=setTimeout(J,M)),W}var j,re,ne,W,Y,Q,ue=0,fe=!1,ae=!1,N=!0;if(typeof v!="function")throw new TypeError(d);return M=o(M)||0,r(L)&&(fe=!!L.leading,ae="maxWait"in L,ne=ae?A(o(L.maxWait)||0,M):ne,N="trailing"in L?!!L.trailing:N),F.cancel=G,F.flush=q,F}function n(v,M,L){var C=!0,I=!0;if(typeof v!="function")throw new TypeError(d);return r(L)&&(C="leading"in L?!!L.leading:C,I="trailing"in L?!!L.trailing:I),i(v,M,{leading:C,maxWait:M,trailing:I})}function r(v){var M=typeof v=="undefined"?"undefined":c(v);return!!v&&(M=="object"||M=="function")}function l(v){return!!v&&(typeof v=="undefined"?"undefined":c(v))=="object"}function a(v){return(typeof v=="undefined"?"undefined":c(v))=="symbol"||l(v)&&x.call(v)==h}function o(v){if(typeof v=="number")return v;if(a(v))return f;if(r(v)){var M=typeof v.valueOf=="function"?v.valueOf():v;v=r(M)?M+"":M}if(typeof v!="string")return v===0?v:+v;v=v.replace(m,"");var L=w.test(v);return L||E.test(v)?b(v.slice(2),L?2:8):y.test(v)?f:+v}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},d="Expected a function",f=NaN,h="[object Symbol]",m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,E=/^0o[0-7]+$/i,b=parseInt,p=(typeof t=="undefined"?"undefined":c(t))=="object"&&t&&t.Object===Object&&t,u=(typeof self=="undefined"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,g=p||u||Function("return this")(),T=Object.prototype,x=T.toString,A=Math.max,P=Math.min,S=function(){return g.Date.now()};s.exports=n}).call(e,function(){return this}())},function(s,e){(function(t){"use strict";function i(S,v,M){function L(N){var z=F,K=j;return F=j=void 0,Q=N,ne=S.apply(K,z)}function C(N){return Q=N,W=setTimeout(H,v),ue?L(N):ne}function I(N){var z=N-Y,K=N-Q,pe=v-z;return fe?A(pe,re-K):pe}function k(N){var z=N-Y,K=N-Q;return Y===void 0||z>=v||z<0||fe&&K>=re}function H(){var N=P();return k(N)?J(N):void(W=setTimeout(H,I(N)))}function J(N){return W=void 0,ae&&F?L(N):(F=j=void 0,ne)}function D(){W!==void 0&&clearTimeout(W),Q=0,F=Y=j=W=void 0}function G(){return W===void 0?ne:J(P())}function q(){var N=P(),z=k(N);if(F=arguments,j=this,Y=N,z){if(W===void 0)return C(Y);if(fe)return W=setTimeout(H,v),L(Y)}return W===void 0&&(W=setTimeout(H,v)),ne}var F,j,re,ne,W,Y,Q=0,ue=!1,fe=!1,ae=!0;if(typeof S!="function")throw new TypeError(c);return v=a(v)||0,n(M)&&(ue=!!M.leading,fe="maxWait"in M,re=fe?x(a(M.maxWait)||0,v):re,ae="trailing"in M?!!M.trailing:ae),q.cancel=D,q.flush=G,q}function n(S){var v=typeof S=="undefined"?"undefined":o(S);return!!S&&(v=="object"||v=="function")}function r(S){return!!S&&(typeof S=="undefined"?"undefined":o(S))=="object"}function l(S){return(typeof S=="undefined"?"undefined":o(S))=="symbol"||r(S)&&T.call(S)==f}function a(S){if(typeof S=="number")return S;if(l(S))return d;if(n(S)){var v=typeof S.valueOf=="function"?S.valueOf():S;S=n(v)?v+"":v}if(typeof S!="string")return S===0?S:+S;S=S.replace(h,"");var M=y.test(S);return M||w.test(S)?E(S.slice(2),M?2:8):m.test(S)?d:+S}var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c="Expected a function",d=NaN,f="[object Symbol]",h=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,w=/^0o[0-7]+$/i,E=parseInt,b=(typeof t=="undefined"?"undefined":o(t))=="object"&&t&&t.Object===Object&&t,p=(typeof self=="undefined"?"undefined":o(self))=="object"&&self&&self.Object===Object&&self,u=b||p||Function("return this")(),g=Object.prototype,T=g.toString,x=Math.max,A=Math.min,P=function(){return u.Date.now()};s.exports=i}).call(e,function(){return this}())},function(s,e){"use strict";function t(o){var c=void 0,d=void 0,f=void 0;for(c=0;c<o.length;c+=1)if(d=o[c],d.dataset&&d.dataset.aos||(f=d.children&&t(d.children)))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function n(){return!!i()}function r(o,c){var d=window.document,f=i(),h=new f(l);a=c,h.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(o){o&&o.forEach(function(c){var d=Array.prototype.slice.call(c.addedNodes),f=Array.prototype.slice.call(c.removedNodes),h=d.concat(f);if(t(h))return a()})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};e.default={isSupported:n,ready:r}},function(s,e){"use strict";function t(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function d(f,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,h,m){return h&&d(f.prototype,h),m&&d(f,m),f}}(),r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function d(){t(this,d)}return n(d,[{key:"phone",value:function(){var f=i();return!(!r.test(f)&&!l.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=i();return!(!a.test(f)&&!o.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();e.default=new c},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(n,r,l){var a=n.node.getAttribute("data-aos-once");r>n.position?n.node.classList.add("aos-animate"):typeof a!="undefined"&&(a==="false"||!l&&a!=="true")&&n.node.classList.remove("aos-animate")},i=function(n,r){var l=window.pageYOffset,a=window.innerHeight;n.forEach(function(o,c){t(o,a+l,r)})};e.default=i},function(s,e,t){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var n=t(12),r=i(n),l=function(a,o){return a.forEach(function(c,d){c.node.classList.add("aos-init"),c.position=(0,r.default)(c.node,o.offset)}),a};e.default=l},function(s,e,t){"use strict";function i(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var n=t(13),r=i(n),l=function(a,o){var c=0,d=0,f=window.innerHeight,h={offset:a.getAttribute("data-aos-offset"),anchor:a.getAttribute("data-aos-anchor"),anchorPlacement:a.getAttribute("data-aos-anchor-placement")};switch(h.offset&&!isNaN(h.offset)&&(d=parseInt(h.offset)),h.anchor&&document.querySelectorAll(h.anchor)&&(a=document.querySelectorAll(h.anchor)[0]),c=(0,r.default)(a).top,h.anchorPlacement){case"top-bottom":break;case"center-bottom":c+=a.offsetHeight/2;break;case"bottom-bottom":c+=a.offsetHeight;break;case"top-center":c+=f/2;break;case"bottom-center":c+=f/2+a.offsetHeight;break;case"center-center":c+=f/2+a.offsetHeight/2;break;case"top-top":c+=f;break;case"bottom-top":c+=a.offsetHeight+f;break;case"center-top":c+=a.offsetHeight/2+f}return h.anchorPlacement||h.offset||isNaN(o)||(d=o),c+d};e.default=l},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){for(var n=0,r=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)n+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),r+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:r,left:n}};e.default=t},function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(n){return{node:n}})};e.default=t}])})});var bt=Pe((Ke,Ze)=>{(function(s,e){typeof Ke=="object"&&typeof Ze!="undefined"?Ze.exports=e():typeof define=="function"&&define.amd?define(e):s.lozad=e()})(Ke,function(){"use strict";var s=typeof document!="undefined"&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(r){if(r.nodeName.toLowerCase()==="picture"){var l=r.querySelector("img"),a=!1;l===null&&(l=document.createElement("img"),a=!0),s&&r.getAttribute("data-iesrc")&&(l.src=r.getAttribute("data-iesrc")),r.getAttribute("data-alt")&&(l.alt=r.getAttribute("data-alt")),a&&r.append(l)}if(r.nodeName.toLowerCase()==="video"&&!r.getAttribute("data-src")&&r.children){for(var o=r.children,c=void 0,d=0;d<=o.length-1;d++)(c=o[d].getAttribute("data-src"))&&(o[d].src=c);r.load()}r.getAttribute("data-poster")&&(r.poster=r.getAttribute("data-poster")),r.getAttribute("data-src")&&(r.src=r.getAttribute("data-src")),r.getAttribute("data-srcset")&&r.setAttribute("srcset",r.getAttribute("data-srcset"));var f=",";if(r.getAttribute("data-background-delimiter")&&(f=r.getAttribute("data-background-delimiter")),r.getAttribute("data-background-image"))r.style.backgroundImage="url('"+r.getAttribute("data-background-image").split(f).join("'),url('")+"')";else if(r.getAttribute("data-background-image-set")){var h=r.getAttribute("data-background-image-set").split(f),m=h[0].substr(0,h[0].indexOf(" "))||h[0];m=m.indexOf("url(")===-1?"url("+m+")":m,h.length===1?r.style.backgroundImage=m:r.setAttribute("style",(r.getAttribute("style")||"")+"background-image: "+m+"; background-image: -webkit-image-set("+h+"); background-image: image-set("+h+")")}r.getAttribute("data-toggle-class")&&r.classList.toggle(r.getAttribute("data-toggle-class"))},loaded:function(){}};function t(r){r.setAttribute("data-loaded",!0)}var i=function(r){return r.getAttribute("data-loaded")==="true"},n=function(r){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return r instanceof Element?[r]:r instanceof NodeList?r:l.querySelectorAll(r)};return function(){var r,l,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=Object.assign({},e,o),d=c.root,f=c.rootMargin,h=c.threshold,m=c.load,y=c.loaded,w=void 0;typeof window!="undefined"&&window.IntersectionObserver&&(w=new IntersectionObserver((r=m,l=y,function(u,g){u.forEach(function(T){(0<T.intersectionRatio||T.isIntersecting)&&(g.unobserve(T.target),i(T.target)||(r(T.target),t(T.target),l(T.target)))})}),{root:d,rootMargin:f,threshold:h}));for(var E,b=n(a,d),p=0;p<b.length;p++)(E=b[p]).getAttribute("data-placeholder-background")&&(E.style.background=E.getAttribute("data-placeholder-background"));return{observe:function(){for(var u=n(a,d),g=0;g<u.length;g++)i(u[g])||(w?w.observe(u[g]):(m(u[g]),t(u[g]),y(u[g])))},triggerLoad:function(u){i(u)||(m(u),t(u),y(u))},observer:w}}})});function yt(){$("[setBackground]").each(function(){var s=$(this).attr("setBackground");$(this).css({"background-image":"url("+s+")","background-size":"cover","background-position":"center center"})})}function St(){let s=$(window).height();$(document).on("scroll",function(){let e=$(window).scrollTop(),t=$(document).height();e+s>t-s?$(".button-to-top").addClass("active"):$(".button-to-top").removeClass("active")}),$(document).on("click",".button-to-top",function(){$("html, body").animate({scrollTop:0})})}function Et(){let s=$(".accordion-container");if(s.length){let e=s.find(".accordion-item");e.on("mouseenter",function(){window.innerWidth>=1024&&(e.removeClass("active"),$(this).addClass("active"))}),e.on("click",function(){window.innerWidth<1024&&(e.removeClass("active"),$(this).addClass("active"))})}}function xt(){var s=$("[stick-to-edge]");s.each(function(){let e=$(this),t=e.attr("edge-placement")?"inner":"screen",i=e.attr("stick-to-edge"),n=e.attr("unstick-min")||1200,r=($(window).width()-$(".default-container-js").width())/2;t==="inner"&&e.closest(".container")&&e.closest(".container").closest(".container-fluid")&&(r=Math.abs($(".wide-container-js").offset().left-$(".default-container-js").offset().left)),i==="left"&&e.css({"margin-left":`-${r}px`,"--ml":`${Math.abs(r)}`}),i==="right"&&e.css({"margin-right":`-${r}px`,"--mr":`${Math.abs(r)}`}),$(window).width()<n&&(e.removeAttr("style"),e.css({"--ml":"0","--mr":"0"}))})}function Tt(){var s=document.querySelector("#menu-spy");let e,t=!1;var i=new MenuSpy(s,{activeClass:"active",threshold:300,callback:function(n){let r=$(".section-scrollTo-active");clearTimeout(e),t=!0,e=setTimeout(function(){$(r).scrollTo("li.active",800),t=!1},1e3)}})}var Mt=O(()=>{});var Ct,Lt=O(()=>{Ct={init:()=>{let s=document.querySelector(".header");if(!s)return;let e=window.scrollY,t=()=>{let x=window.scrollY;x>50?s.classList.add("scrolled"):s.classList.remove("scrolled"),e=x};window.addEventListener("scroll",t),t();let i=document.querySelectorAll(".header .menu-item.has-dropdown");i.forEach(x=>{let A=x.querySelector(":scope > .header-link");A&&A.addEventListener("click",P=>{P.preventDefault();let S=x.classList.contains("active");i.forEach(v=>{v.classList.remove("active")}),S?s.classList.remove("menu-open"):(x.classList.add("active"),s.classList.add("menu-open"))})}),document.addEventListener("click",x=>{x.target.closest(".header .menu-item.has-dropdown")||(i.forEach(A=>A.classList.remove("active")),s.classList.remove("menu-open"))}),document.querySelectorAll(".mega-menu .menu-list .has-submenu > a").forEach(x=>{x.addEventListener("click",A=>{A.preventDefault(),x.closest(".has-submenu").classList.toggle("active")})});let r=document.querySelector(".header-hamburger"),l=document.querySelector(".mobile-menu"),a=document.querySelector(".mobile-menu-close"),o=document.querySelector(".mobile-menu-overlay"),c=()=>{r==null||r.classList.add("active"),l==null||l.classList.add("active"),document.body.classList.add("overflow-hidden");let x=l==null?void 0:l.querySelector(".menu-item.is-category");x&&!x.classList.contains("active")&&x.classList.add("active")},d=()=>{r==null||r.classList.remove("active"),l==null||l.classList.remove("active"),document.body.classList.remove("overflow-hidden")};r==null||r.addEventListener("click",()=>{l!=null&&l.classList.contains("active")?d():c()}),a==null||a.addEventListener("click",d),o==null||o.addEventListener("click",d),document.querySelectorAll(".mobile-menu .submenu-toggle").forEach(x=>{x.addEventListener("click",A=>{A.preventDefault();let P=x.closest(".menu-item"),S=P.classList.contains("active");P.classList.toggle("active",!S)})}),document.querySelectorAll(".mobile-menu .category-title").forEach(x=>{x.addEventListener("click",A=>{A.preventDefault();let P=x.closest(".menu-item"),S=P.classList.contains("active");P.classList.toggle("active",!S)})}),document.querySelectorAll(".mobile-menu .sub-menu .has-submenu > a").forEach(x=>{x.addEventListener("click",A=>{A.preventDefault(),x.closest(".menu-item").classList.toggle("active")})});let y=document.querySelector(".header .search-btn"),w=document.querySelector(".header-search-overlay"),E=document.querySelector(".header-search-overlay .search-close"),b=document.querySelector(".search-overlay-backdrop"),p=document.querySelector(".header-search-overlay .search-input"),u=()=>{w==null||w.classList.add("active"),document.body.classList.add("overflow-hidden"),setTimeout(()=>{p==null||p.focus()},300)},g=()=>{w==null||w.classList.remove("active"),document.body.classList.remove("overflow-hidden"),p&&(p.value="")};y==null||y.addEventListener("click",u),E==null||E.addEventListener("click",g),b==null||b.addEventListener("click",g),document.addEventListener("keydown",x=>{x.key==="Escape"&&(w!=null&&w.classList.contains("active")&&g(),l!=null&&l.classList.contains("active")&&d())});let T=document.querySelector(".header-search-overlay .search-form");T==null||T.addEventListener("submit",x=>{p!=null&&p.value.trim()||(x.preventDefault(),p==null||p.focus())})}}});var Pt,At=O(()=>{Pt={init:()=>{let s=document.querySelector(".section-home-banner");if(!s)return;let e=s.querySelector(".banner-media"),t=s.querySelector(".banner-video"),i=s.querySelector(".sound-toggle"),n=s.querySelector(".banner-poster");if(!t)return;let r=()=>{e==null||e.classList.add("video-playing")},l=()=>{e==null||e.classList.add("video-ready")};t.addEventListener("playing",r),t.addEventListener("canplay",l),t.paused||r(),i&&i.addEventListener("click",()=>{t.muted?(t.muted=!1,i.classList.add("active")):(t.muted=!0,i.classList.remove("active"))});let a=()=>vt(void 0,null,function*(){try{yield t.play()}catch(f){console.log("Autoplay blocked, showing poster fallback"),e==null||e.classList.add("autoplay-blocked")}});t.paused&&a();let o={root:null,rootMargin:"0px",threshold:.1},c=f=>{f.forEach(h=>{h.isIntersecting?t.paused&&t.play().catch(()=>{}):t.paused||t.pause()})},d=new IntersectionObserver(c,o);return d.observe(s),()=>{d.disconnect(),t.removeEventListener("playing",r),t.removeEventListener("canplay",l)}}}});function It(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function Je(s,e){s===void 0&&(s={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof s[t]=="undefined"?s[t]=e[t]:It(e[t])&&It(s[t])&&Object.keys(e[t]).length>0&&Je(s[t],e[t])})}function X(){let s=typeof document!="undefined"?document:{};return Je(s,kt),s}function V(){let s=typeof window!="undefined"?window:{};return Je(s,qs),s}var kt,qs,ee=O(()=>{kt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};qs={document:kt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout=="undefined"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout!="undefined"&&clearTimeout(s)}}});function Ot(s){return s===void 0&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function $t(s){let e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}function le(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function U(){return Date.now()}function Bs(s){let e=V(),t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function Qe(s,e){e===void 0&&(e="x");let t=V(),i,n,r,l=Bs(s);return t.WebKitCSSMatrix?(n=l.transform||l.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(n==="none"?"":n)):(r=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=r.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?n=r.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function Se(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function Ns(s){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Z(){let s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Ns(i)){let n=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,l=n.length;r<l;r+=1){let a=n[r],o=Object.getOwnPropertyDescriptor(i,a);o!==void 0&&o.enumerable&&(Se(s[a])&&Se(i[a])?i[a].__swiper__?s[a]=i[a]:Z(s[a],i[a]):!Se(s[a])&&Se(i[a])?(s[a]={},i[a].__swiper__?s[a]=i[a]:Z(s[a],i[a])):s[a]=i[a])}}}return s}function Ee(s,e,t){s.style.setProperty(e,t)}function et(s){let{swiper:e,targetPosition:t,side:i}=s,n=V(),r=-e.translate,l=null,a,o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);let c=t>r?"next":"prev",d=(h,m)=>c==="next"&&h>=m||c==="prev"&&h<=m,f=()=>{a=new Date().getTime(),l===null&&(l=a);let h=Math.max(Math.min((a-l)/o,1),0),m=.5-Math.cos(h*Math.PI)/2,y=r+m*(t-r);if(d(y,t)&&(y=t),e.wrapperEl.scrollTo({[i]:y}),d(y,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:y})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(f)};f()}function ce(s){return s.querySelector(".swiper-slide-transform")||s.shadowRoot&&s.shadowRoot.querySelector(".swiper-slide-transform")||s}function _(s,e){return e===void 0&&(e=""),[...s.children].filter(t=>t.matches(e))}function Ie(s){try{console.warn(s);return}catch(e){}}function se(s,e){e===void 0&&(e=[]);let t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:Ot(e)),t}function Dt(s,e){let t=[];for(;s.previousElementSibling;){let i=s.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function zt(s,e){let t=[];for(;s.nextElementSibling;){let i=s.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function de(s,e){return V().getComputedStyle(s,null).getPropertyValue(e)}function he(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function xe(s,e){let t=[],i=s.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function ge(s,e){function t(i){i.target===s&&(e.call(s,i),s.removeEventListener("transitionend",t))}e&&s.addEventListener("transitionend",t)}function ke(s,e,t){let i=V();return t?s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):s.offsetWidth}var B=O(()=>{ee()});function Vs(){let s=V(),e=X();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function Vt(){return tt||(tt=Vs()),tt}function Gs(s){let{userAgent:e}=s===void 0?{}:s,t=Vt(),i=V(),n=i.navigator.platform,r=e||i.navigator.userAgent,l={ios:!1,android:!1},a=i.screen.width,o=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/),d=r.match(/(iPad).*OS\s([\d_]+)/),f=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=n==="Win32",y=n==="MacIntel",w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&t.touch&&w.indexOf(`${a}x${o}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!m&&(l.os="android",l.android=!0),(d||h||f)&&(l.os="ios",l.ios=!0),l}function Ys(s){return s===void 0&&(s={}),st||(st=Gs(s)),st}function Rs(){let s=V(),e=!1;function t(){let i=s.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){let i=String(s.navigator.userAgent);if(i.includes("Version/")){let[n,r]=i.split("Version/")[1].split(" ")[0].split(".").map(l=>Number(l));e=n<16||n===16&&r<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent)}}function Fs(){return it||(it=Rs()),it}function Xs(s){let{swiper:e,on:t,emit:i}=s,n=V(),r=null,l=null,a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},o=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(f=>{l=n.requestAnimationFrame(()=>{let{width:h,height:m}=e,y=h,w=m;f.forEach(E=>{let{contentBoxSize:b,contentRect:p,target:u}=E;u&&u!==e.el||(y=p?p.width:(b[0]||b).inlineSize,w=p?p.height:(b[0]||b).blockSize)}),(y!==h||w!==m)&&a()})}),r.observe(e.el))},c=()=>{l&&n.cancelAnimationFrame(l),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver!="undefined"){o();return}n.addEventListener("resize",a),n.addEventListener("orientationchange",d)}),t("destroy",()=>{c(),n.removeEventListener("resize",a),n.removeEventListener("orientationchange",d)})}function _s(s){let{swiper:e,extendParams:t,on:i,emit:n}=s,r=[],l=V(),a=function(d,f){f===void 0&&(f={});let h=l.MutationObserver||l.WebkitMutationObserver,m=new h(y=>{if(e.__preventObserver__)return;if(y.length===1){n("observerUpdate",y[0]);return}let w=function(){n("observerUpdate",y[0])};l.requestAnimationFrame?l.requestAnimationFrame(w):l.setTimeout(w,0)});m.observe(d,{attributes:typeof f.attributes=="undefined"?!0:f.attributes,childList:typeof f.childList=="undefined"?!0:f.childList,characterData:typeof f.characterData=="undefined"?!0:f.characterData}),r.push(m)},o=()=>{if(e.params.observer){if(e.params.observeParents){let d=xe(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",o),i("destroy",c)}function Ws(){let s=this,e,t,i=s.el;typeof s.params.width!="undefined"&&s.params.width!==null?e=s.params.width:e=i.clientWidth,typeof s.params.height!="undefined"&&s.params.height!==null?t=s.params.height:t=i.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(de(i,"padding-left")||0,10)-parseInt(de(i,"padding-right")||0,10),t=t-parseInt(de(i,"padding-top")||0,10)-parseInt(de(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function Us(){let s=this;function e(v,M){return parseFloat(v.getPropertyValue(s.getDirectionLabel(M))||0)}let t=s.params,{wrapperEl:i,slidesEl:n,size:r,rtlTranslate:l,wrongRTL:a}=s,o=s.virtual&&t.virtual.enabled,c=o?s.virtual.slides.length:s.slides.length,d=_(n,`.${s.params.slideClass}, swiper-slide`),f=o?s.virtual.slides.length:d.length,h=[],m=[],y=[],w=t.slidesOffsetBefore;typeof w=="function"&&(w=t.slidesOffsetBefore.call(s));let E=t.slidesOffsetAfter;typeof E=="function"&&(E=t.slidesOffsetAfter.call(s));let b=s.snapGrid.length,p=s.slidesGrid.length,u=t.spaceBetween,g=-w,T=0,x=0;if(typeof r=="undefined")return;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*r:typeof u=="string"&&(u=parseFloat(u)),s.virtualSize=-u,d.forEach(v=>{l?v.style.marginLeft="":v.style.marginRight="",v.style.marginBottom="",v.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Ee(i,"--swiper-centered-offset-before",""),Ee(i,"--swiper-centered-offset-after",""));let A=t.grid&&t.grid.rows>1&&s.grid;A?s.grid.initSlides(d):s.grid&&s.grid.unsetSlides();let P,S=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(v=>typeof t.breakpoints[v].slidesPerView!="undefined").length>0;for(let v=0;v<f;v+=1){P=0;let M;if(d[v]&&(M=d[v]),A&&s.grid.updateSlide(v,M,d),!(d[v]&&de(M,"display")==="none")){if(t.slidesPerView==="auto"){S&&(d[v].style[s.getDirectionLabel("width")]="");let L=getComputedStyle(M),C=M.style.transform,I=M.style.webkitTransform;if(C&&(M.style.transform="none"),I&&(M.style.webkitTransform="none"),t.roundLengths)P=s.isHorizontal()?ke(M,"width",!0):ke(M,"height",!0);else{let k=e(L,"width"),H=e(L,"padding-left"),J=e(L,"padding-right"),D=e(L,"margin-left"),G=e(L,"margin-right"),q=L.getPropertyValue("box-sizing");if(q&&q==="border-box")P=k+D+G;else{let{clientWidth:F,offsetWidth:j}=M;P=k+H+J+D+G+(j-F)}}C&&(M.style.transform=C),I&&(M.style.webkitTransform=I),t.roundLengths&&(P=Math.floor(P))}else P=(r-(t.slidesPerView-1)*u)/t.slidesPerView,t.roundLengths&&(P=Math.floor(P)),d[v]&&(d[v].style[s.getDirectionLabel("width")]=`${P}px`);d[v]&&(d[v].swiperSlideSize=P),y.push(P),t.centeredSlides?(g=g+P/2+T/2+u,T===0&&v!==0&&(g=g-r/2-u),v===0&&(g=g-r/2-u),Math.abs(g)<1/1e3&&(g=0),t.roundLengths&&(g=Math.floor(g)),x%t.slidesPerGroup===0&&h.push(g),m.push(g)):(t.roundLengths&&(g=Math.floor(g)),(x-Math.min(s.params.slidesPerGroupSkip,x))%s.params.slidesPerGroup===0&&h.push(g),m.push(g),g=g+P+u),s.virtualSize+=P+u,T=P,x+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+E,l&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${s.virtualSize+u}px`),t.setWrapperSize&&(i.style[s.getDirectionLabel("width")]=`${s.virtualSize+u}px`),A&&s.grid.updateWrapperSize(P,h),!t.centeredSlides){let v=[];for(let M=0;M<h.length;M+=1){let L=h[M];t.roundLengths&&(L=Math.floor(L)),h[M]<=s.virtualSize-r&&v.push(L)}h=v,Math.floor(s.virtualSize-r)-Math.floor(h[h.length-1])>1&&h.push(s.virtualSize-r)}if(o&&t.loop){let v=y[0]+u;if(t.slidesPerGroup>1){let M=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),L=v*t.slidesPerGroup;for(let C=0;C<M;C+=1)h.push(h[h.length-1]+L)}for(let M=0;M<s.virtual.slidesBefore+s.virtual.slidesAfter;M+=1)t.slidesPerGroup===1&&h.push(h[h.length-1]+v),m.push(m[m.length-1]+v),s.virtualSize+=v}if(h.length===0&&(h=[0]),u!==0){let v=s.isHorizontal()&&l?"marginLeft":s.getDirectionLabel("marginRight");d.filter((M,L)=>!t.cssMode||t.loop?!0:L!==d.length-1).forEach(M=>{M.style[v]=`${u}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let v=0;y.forEach(L=>{v+=L+(u||0)}),v-=u;let M=v-r;h=h.map(L=>L<=0?-w:L>M?M+E:L)}if(t.centerInsufficientSlides){let v=0;if(y.forEach(M=>{v+=M+(u||0)}),v-=u,v<r){let M=(r-v)/2;h.forEach((L,C)=>{h[C]=L-M}),m.forEach((L,C)=>{m[C]=L+M})}}if(Object.assign(s,{slides:d,snapGrid:h,slidesGrid:m,slidesSizesGrid:y}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Ee(i,"--swiper-centered-offset-before",`${-h[0]}px`),Ee(i,"--swiper-centered-offset-after",`${s.size/2-y[y.length-1]/2}px`);let v=-s.snapGrid[0],M=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(L=>L+v),s.slidesGrid=s.slidesGrid.map(L=>L+M)}if(f!==c&&s.emit("slidesLengthChange"),h.length!==b&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),m.length!==p&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!o&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let v=`${t.containerModifierClass}backface-hidden`,M=s.el.classList.contains(v);f<=t.maxBackfaceHiddenSlides?M||s.el.classList.add(v):M&&s.el.classList.remove(v)}}function Ks(s){let e=this,t=[],i=e.virtual&&e.params.virtual.enabled,n=0,r;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);let l=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){let a=e.activeIndex+r;if(a>e.slides.length&&!i)break;t.push(l(a))}else t.push(l(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]!="undefined"){let a=t[r].offsetHeight;n=a>n?a:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function Zs(){let s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(s.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-s.cssOverflowAdjustment()}function Js(s){s===void 0&&(s=this&&this.translate||0);let e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let l=-s;n&&(l=s),i.forEach(o=>{o.classList.remove(t.slideVisibleClass,t.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let o=0;o<i.length;o+=1){let c=i[o],d=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=i[0].swiperSlideOffset);let f=(l+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),h=(l-r[0]+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),m=-(l-d),y=m+e.slidesSizesGrid[o],w=m>=0&&m<=e.size-e.slidesSizesGrid[o];(m>=0&&m<e.size-1||y>1&&y<=e.size||m<=0&&y>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(o),i[o].classList.add(t.slideVisibleClass)),w&&i[o].classList.add(t.slideFullyVisibleClass),c.progress=n?-f:f,c.originalProgress=n?-h:h}}function Qs(s){let e=this;if(typeof s=="undefined"){let d=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*d||0}let t=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:n,isBeginning:r,isEnd:l,progressLoop:a}=e,o=r,c=l;if(i===0)n=0,r=!0,l=!0;else{n=(s-e.minTranslate())/i;let d=Math.abs(s-e.minTranslate())<1,f=Math.abs(s-e.maxTranslate())<1;r=d||n<=0,l=f||n>=1,d&&(n=0),f&&(n=1)}if(t.loop){let d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[d],m=e.slidesGrid[f],y=e.slidesGrid[e.slidesGrid.length-1],w=Math.abs(s);w>=h?a=(w-h)/y:a=(w+y-m)/y,a>1&&(a-=1)}Object.assign(e,{progress:n,progressLoop:a,isBeginning:r,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),r&&!o&&e.emit("reachBeginning toEdge"),l&&!c&&e.emit("reachEnd toEdge"),(o&&!r||c&&!l)&&e.emit("fromEdge"),e.emit("progress",n)}function ei(){let s=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=s,r=s.virtual&&t.virtual.enabled,l=s.grid&&t.grid&&t.grid.rows>1,a=f=>_(i,`.${t.slideClass}${f}, swiper-slide${f}`)[0];e.forEach(f=>{f.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let o,c,d;if(r)if(t.loop){let f=n-s.virtual.slidesBefore;f<0&&(f=s.virtual.slides.length+f),f>=s.virtual.slides.length&&(f-=s.virtual.slides.length),o=a(`[data-swiper-slide-index="${f}"]`)}else o=a(`[data-swiper-slide-index="${n}"]`);else l?(o=e.filter(f=>f.column===n)[0],d=e.filter(f=>f.column===n+1)[0],c=e.filter(f=>f.column===n-1)[0]):o=e[n];o&&(o.classList.add(t.slideActiveClass),l?(d&&d.classList.add(t.slideNextClass),c&&c.classList.add(t.slidePrevClass)):(d=zt(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),d&&d.classList.add(t.slideNextClass),c=Dt(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass))),s.emitSlidesClasses()}function ti(s){let{slidesGrid:e,params:t}=s,i=s.rtlTranslate?s.translate:-s.translate,n;for(let r=0;r<e.length;r+=1)typeof e[r+1]!="undefined"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?n=r:i>=e[r]&&i<e[r+1]&&(n=r+1):i>=e[r]&&(n=r);return t.normalizeSlideIndex&&(n<0||typeof n=="undefined")&&(n=0),n}function si(s){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:r,realIndex:l,snapIndex:a}=e,o=s,c,d=m=>{let y=m-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof o=="undefined"&&(o=ti(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{let m=Math.min(n.slidesPerGroupSkip,o);c=m+Math.floor((o-m)/n.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),o===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(o===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(o);return}let f=e.grid&&n.grid&&n.grid.rows>1,h;if(e.virtual&&n.virtual.enabled&&n.loop)h=d(o);else if(f){let m=e.slides.filter(w=>w.column===o)[0],y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(m),0)),h=Math.floor(y/n.grid.rows)}else if(e.slides[o]){let m=e.slides[o].getAttribute("data-swiper-slide-index");m?h=parseInt(m,10):h=o}else h=o;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:l,realIndex:h,previousIndex:r,activeIndex:o}),e.initialized&&ot(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function ii(s,e){let t=this,i=t.params,n=s.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(a=>{!n&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(n=a)});let r=!1,l;if(n){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===n){r=!0,l=a;break}}if(n&&r)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}function ni(s){s===void 0&&(s=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=e;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let l=Qe(r,s);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function ai(s,e){let t=this,{rtlTranslate:i,params:n,wrapperEl:r,progress:l}=t,a=0,o=0,c=0;t.isHorizontal()?a=i?-s:s:o=s,n.roundLengths&&(a=Math.floor(a),o=Math.floor(o)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:o,n.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-o:n.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():o-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${o}px, ${c}px)`);let d,f=t.maxTranslate()-t.minTranslate();f===0?d=0:d=(s-t.minTranslate())/f,d!==l&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function oi(){return-this.snapGrid[0]}function li(){return-this.snapGrid[this.snapGrid.length-1]}function ci(s,e,t,i,n){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);let r=this,{params:l,wrapperEl:a}=r;if(r.animating&&l.preventInteractionOnTransition)return!1;let o=r.minTranslate(),c=r.maxTranslate(),d;if(i&&s>o?d=o:i&&s<c?d=c:d=s,r.updateProgress(d),l.cssMode){let f=r.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return et({swiper:r,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(d),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(d),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(h){!r||r.destroyed||h.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}function ui(s,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function Gt(s){let{swiper:e,runCallbacks:t,direction:i,step:n}=s,{activeIndex:r,previousIndex:l}=e,a=i;if(a||(r>l?a="next":r<l?a="prev":a="reset"),e.emit(`transition${n}`),t&&r!==l){if(a==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),a==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function fi(s,e){s===void 0&&(s=!0);let t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Gt({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function pi(s,e){s===void 0&&(s=!0);let t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Gt({swiper:t,runCallbacks:s,direction:e,step:"End"}))}function hi(s,e,t,i,n){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));let r=this,l=s;l<0&&(l=0);let{params:a,snapGrid:o,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:h,wrapperEl:m,enabled:y}=r;if(r.animating&&a.preventInteractionOnTransition||!y&&!i&&!n)return!1;let w=Math.min(r.params.slidesPerGroupSkip,l),E=w+Math.floor((l-w)/r.params.slidesPerGroup);E>=o.length&&(E=o.length-1);let b=-o[E];if(a.normalizeSlideIndex)for(let u=0;u<c.length;u+=1){let g=-Math.floor(b*100),T=Math.floor(c[u]*100),x=Math.floor(c[u+1]*100);typeof c[u+1]!="undefined"?g>=T&&g<x-(x-T)/2?l=u:g>=T&&g<x&&(l=u+1):g>=T&&(l=u)}if(r.initialized&&l!==f&&(!r.allowSlideNext&&(h?b>r.translate&&b>r.minTranslate():b<r.translate&&b<r.minTranslate())||!r.allowSlidePrev&&b>r.translate&&b>r.maxTranslate()&&(f||0)!==l))return!1;l!==(d||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(b);let p;if(l>f?p="next":l<f?p="prev":p="reset",h&&-b===r.translate||!h&&b===r.translate)return r.updateActiveIndex(l),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(b),p!=="reset"&&(r.transitionStart(t,p),r.transitionEnd(t,p)),!1;if(a.cssMode){let u=r.isHorizontal(),g=h?b:-b;if(e===0){let T=r.virtual&&r.params.virtual.enabled;T&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),T&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[u?"scrollLeft":"scrollTop"]=g})):m[u?"scrollLeft":"scrollTop"]=g,T&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return et({swiper:r,targetPosition:g,side:u?"left":"top"}),!0;m.scrollTo({[u?"left":"top"]:g,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(b),r.updateActiveIndex(l),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,p),e===0?r.transitionEnd(t,p):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(g){!r||r.destroyed||g.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,p))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function gi(s,e,t,i){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));let n=this,r=n.grid&&n.params.grid&&n.params.grid.rows>1,l=s;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)l=l+n.virtual.slidesBefore;else{let a;if(r){let h=l*n.params.grid.rows;a=n.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===h)[0].column}else a=n.getSlideIndexByData(l);let o=r?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:c}=n.params,d=n.params.slidesPerView;d==="auto"?d=n.slidesPerViewDynamic():(d=Math.ceil(parseFloat(n.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=o-a<d;if(c&&(f=f||a<Math.ceil(d/2)),f){let h=c?a<n.activeIndex?"prev":"next":a-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-o+1,slideRealIndex:h==="next"?n.realIndex:void 0})}if(r){let h=l*n.params.grid.rows;l=n.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===h)[0].column}else l=n.getSlideIndexByData(l)}return requestAnimationFrame(()=>{n.slideTo(l,e,t,i)}),n}function vi(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this,{enabled:n,params:r,animating:l}=i;if(!n)return i;let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));let o=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(l&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+o,s,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,s,e,t):i.slideTo(i.activeIndex+o,s,e,t)}function wi(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this,{params:n,snapGrid:r,slidesGrid:l,rtlTranslate:a,enabled:o,animating:c}=i;if(!o)return i;let d=i.virtual&&n.virtual.enabled;if(n.loop){if(c&&!d&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let f=a?i.translate:-i.translate;function h(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}let m=h(f),y=r.map(b=>h(b)),w=r[y.indexOf(m)-1];if(typeof w=="undefined"&&n.cssMode){let b;r.forEach((p,u)=>{m>=p&&(b=u)}),typeof b!="undefined"&&(w=r[b>0?b-1:b])}let E=0;if(typeof w!="undefined"&&(E=l.indexOf(w),E<0&&(E=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(E=E-i.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),n.rewind&&i.isBeginning){let b=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(b,s,e,t)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(E,s,e,t)}),!0;return i.slideTo(E,s,e,t)}function bi(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);let i=this;return i.slideTo(i.activeIndex,s,e,t)}function yi(s,e,t,i){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);let n=this,r=n.activeIndex,l=Math.min(n.params.slidesPerGroupSkip,r),a=l+Math.floor((r-l)/n.params.slidesPerGroup),o=n.rtlTranslate?n.translate:-n.translate;if(o>=n.snapGrid[a]){let c=n.snapGrid[a],d=n.snapGrid[a+1];o-c>(d-c)*i&&(r+=n.params.slidesPerGroup)}else{let c=n.snapGrid[a-1],d=n.snapGrid[a];o-c<=(d-c)*i&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,s,e,t)}function Si(){let s=this,{params:e,slidesEl:t}=s,i=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView,n=s.clickedIndex,r,l=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<s.loopedSlides-i/2||n>s.slides.length-s.loopedSlides+i/2?(s.loopFix(),n=s.getSlideIndex(_(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),le(()=>{s.slideTo(n)})):s.slideTo(n):n>s.slides.length-i?(s.loopFix(),n=s.getSlideIndex(_(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),le(()=>{s.slideTo(n)})):s.slideTo(n)}else s.slideTo(n)}function xi(s){let e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;let n=()=>{_(i,`.${t.slideClass}, swiper-slide`).forEach((f,h)=>{f.setAttribute("data-swiper-slide-index",h)})},r=e.grid&&t.grid&&t.grid.rows>1,l=t.slidesPerGroup*(r?t.grid.rows:1),a=e.slides.length%l!==0,o=r&&e.slides.length%t.grid.rows!==0,c=d=>{for(let f=0;f<d;f+=1){let h=e.isElement?se("swiper-slide",[t.slideBlankClass]):se("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(h)}};if(a){if(t.loopAddBlankSlides){let d=l-e.slides.length%l;c(d),e.recalcSlides(),e.updateSlides()}else Ie("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(o){if(t.loopAddBlankSlides){let d=t.grid.rows-e.slides.length%t.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else Ie("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();e.loopFix({slideRealIndex:s,direction:t.centeredSlides?void 0:"next"})}function Ti(s){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:r,byController:l,byMousewheel:a}=s===void 0?{}:s,o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");let{slides:c,allowSlidePrev:d,allowSlideNext:f,slidesEl:h,params:m}=o,{centeredSlides:y}=m;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&m.virtual.enabled){t&&(!m.centeredSlides&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):m.centeredSlides&&o.snapIndex<m.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=d,o.allowSlideNext=f,o.emit("loopFix");return}let w=m.slidesPerView;w==="auto"?w=o.slidesPerViewDynamic():(w=Math.ceil(parseFloat(m.slidesPerView,10)),y&&w%2===0&&(w=w+1));let E=m.slidesPerGroupAuto?w:m.slidesPerGroup,b=E;b%E!==0&&(b+=E-b%E),b+=m.loopAdditionalSlides,o.loopedSlides=b;let p=o.grid&&m.grid&&m.grid.rows>1;c.length<w+b?Ie("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):p&&m.grid.fill==="row"&&Ie("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let u=[],g=[],T=o.activeIndex;typeof r=="undefined"?r=o.getSlideIndex(c.filter(C=>C.classList.contains(m.slideActiveClass))[0]):T=r;let x=i==="next"||!i,A=i==="prev"||!i,P=0,S=0,v=p?Math.ceil(c.length/m.grid.rows):c.length,L=(p?c[r].column:r)+(y&&typeof n=="undefined"?-w/2+.5:0);if(L<b){P=Math.max(b-L,E);for(let C=0;C<b-L;C+=1){let I=C-Math.floor(C/v)*v;if(p){let k=v-I-1;for(let H=c.length-1;H>=0;H-=1)c[H].column===k&&u.push(H)}else u.push(v-I-1)}}else if(L+w>v-b){S=Math.max(L-(v-b*2),E);for(let C=0;C<S;C+=1){let I=C-Math.floor(C/v)*v;p?c.forEach((k,H)=>{k.column===I&&g.push(H)}):g.push(I)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),A&&u.forEach(C=>{c[C].swiperLoopMoveDOM=!0,h.prepend(c[C]),c[C].swiperLoopMoveDOM=!1}),x&&g.forEach(C=>{c[C].swiperLoopMoveDOM=!0,h.append(c[C]),c[C].swiperLoopMoveDOM=!1}),o.recalcSlides(),m.slidesPerView==="auto"?o.updateSlides():p&&(u.length>0&&A||g.length>0&&x)&&o.slides.forEach((C,I)=>{o.grid.updateSlide(I,C,o.slides)}),m.watchSlidesProgress&&o.updateSlidesOffset(),t){if(u.length>0&&A){if(typeof e=="undefined"){let C=o.slidesGrid[T],k=o.slidesGrid[T+P]-C;a?o.setTranslate(o.translate-k):(o.slideTo(T+P,0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-k,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-k))}else if(n){let C=p?u.length/m.grid.rows:u.length;o.slideTo(o.activeIndex+C,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(g.length>0&&x)if(typeof e=="undefined"){let C=o.slidesGrid[T],k=o.slidesGrid[T-S]-C;a?o.setTranslate(o.translate-k):(o.slideTo(T-S,0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-k,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-k))}else{let C=p?g.length/m.grid.rows:g.length;o.slideTo(o.activeIndex-C,0,!1,!0)}}if(o.allowSlidePrev=d,o.allowSlideNext=f,o.controller&&o.controller.control&&!l){let C={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix(Le(te({},C),{slideTo:I.params.slidesPerView===m.slidesPerView?t:!1}))}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix(Le(te({},C),{slideTo:o.controller.control.params.slidesPerView===m.slidesPerView?t:!1}))}o.emit("loopFix")}function Mi(){let s=this,{params:e,slidesEl:t}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();let i=[];s.slides.forEach(n=>{let r=typeof n.swiperSlideIndex=="undefined"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[r]=n}),s.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}function Li(s){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Pi(){let s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}function Ii(s,e){e===void 0&&(e=this);function t(i){if(!i||i===X()||i===V())return null;i.assignedSlot&&(i=i.assignedSlot);let n=i.closest(s);return!n&&!i.getRootNode?null:n||t(i.getRootNode().host)}return t(e)}function Ht(s,e,t){let i=V(),{params:n}=s,r=n.edgeSwipeDetection,l=n.edgeSwipeThreshold;return r&&(t<=l||t>=i.innerWidth-l)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function ki(s){let e=this,t=X(),i=s;i.originalEvent&&(i=i.originalEvent);let n=e.touchEventsData;if(i.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(n.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ht(e,i,i.targetTouches[0].pageX);return}let{params:r,touches:l,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let o=i.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(o)||"which"in i&&i.which===3||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;let c=!!r.noSwipingClass&&r.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(o=d[0]);let f=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,h=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(h?Ii(f,o):o.closest(f))){e.allowClick=!0;return}if(r.swipeHandler&&!o.closest(r.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;let m=l.currentX,y=l.currentY;if(!Ht(e,i,m))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=m,l.startY=y,n.touchStartTime=U(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let w=!0;o.matches(n.focusableElements)&&(w=!1,o.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==o&&t.activeElement.blur();let E=w&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||E)&&!o.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Oi(s){let e=X(),t=this,i=t.touchEventsData,{params:n,touches:r,rtlTranslate:l,enabled:a}=t;if(!a||!n.simulateTouch&&s.pointerType==="mouse")return;let o=s;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(i.touchId!==null||o.pointerId!==i.pointerId))return;let c;if(o.type==="touchmove"){if(c=[...o.changedTouches].filter(x=>x.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=o;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",o);return}let d=c.pageX,f=c.pageY;if(o.preventedByNestedSwiper){r.startX=d,r.startY=f;return}if(!t.allowTouchMove){o.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:d,startY:f,currentX:d,currentY:f}),i.touchStartTime=U());return}if(n.touchReleaseOnEdges&&!n.loop){if(t.isVertical()){if(f<r.startY&&t.translate<=t.maxTranslate()||f>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<r.startX&&t.translate<=t.maxTranslate()||d>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&o.target===e.activeElement&&o.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",o),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=f;let h=r.currentX-r.startX,m=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(oe(h,2)+oe(m,2))<t.params.threshold)return;if(typeof i.isScrolling=="undefined"){let x;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:h*h+m*m>=25&&(x=Math.atan2(Math.abs(m),Math.abs(h))*180/Math.PI,i.isScrolling=t.isHorizontal()?x>n.touchAngle:90-x>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",o),typeof i.startMoving=="undefined"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&o.cancelable&&o.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&o.stopPropagation();let y=t.isHorizontal()?h:m,w=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;n.oneWayMovement&&(y=Math.abs(y)*(l?1:-1),w=Math.abs(w)*(l?1:-1)),r.diff=y,y*=n.touchRatio,l&&(y=-y,w=-w);let E=t.touchesDirection;t.swipeDirection=y>0?"prev":"next",t.touchesDirection=w>0?"prev":"next";let b=t.params.loop&&!n.cssMode,p=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(b&&p&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let x=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(x)}i.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",o)}let u;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&E!==t.touchesDirection&&b&&p&&Math.abs(y)>=1){Object.assign(r,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",o),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let g=!0,T=n.resistanceRatio;if(n.touchReleaseOnEdges&&(T=0),y>0?(b&&p&&!u&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(g=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+oe(-t.minTranslate()+i.startTranslate+y,T)))):y<0&&(b&&p&&!u&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(g=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-oe(t.maxTranslate()-i.startTranslate-y,T)))),g&&(o.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(y)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function $i(s){let e=this,t=e.touchEventsData,i=s;i.originalEvent&&(i=i.originalEvent);let n;if(i.type==="touchend"||i.type==="touchcancel"){if(n=[...i.changedTouches].filter(T=>T.identifier===t.touchId)[0],!n||n.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:l,touches:a,rtlTranslate:o,slidesGrid:c,enabled:d}=e;if(!d||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let f=U(),h=f-t.touchStartTime;if(e.allowClick){let T=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(T&&T[0]||i.target,T),e.emit("tap click",i),h<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=U(),le(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let m;if(l.followFinger?m=o?e.translate:-e.translate:m=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}let y=m>=-e.maxTranslate()&&!e.params.loop,w=0,E=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<l.slidesPerGroupSkip?1:l.slidesPerGroup){let x=T<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof c[T+x]!="undefined"?(y||m>=c[T]&&m<c[T+x])&&(w=T,E=c[T+x]-c[T]):(y||m>=c[T])&&(w=T,E=c[c.length-1]-c[c.length-2])}let b=null,p=null;l.rewind&&(e.isBeginning?p=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));let u=(m-c[w])/E,g=w<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(h>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(u>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?b:w+g):e.slideTo(w)),e.swipeDirection==="prev"&&(u>1-l.longSwipesRatio?e.slideTo(w+g):p!==null&&u<0&&Math.abs(u)>l.longSwipesRatio?e.slideTo(p):e.slideTo(w))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(w+g):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:w+g),e.swipeDirection==="prev"&&e.slideTo(p!==null?p:w))}}function qt(){let s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:n,snapGrid:r}=s,l=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();let a=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!a?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!l?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=n,s.allowSlideNext=i,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function Di(s){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function zi(){let s=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=s;if(!i)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let n,r=s.maxTranslate()-s.minTranslate();r===0?n=0:n=(s.translate-s.minTranslate())/r,n!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function Hi(s){let e=this;qe(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qi(){let s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}function Bi(){let s=this,{params:e}=s;s.onTouchStart=ki.bind(s),s.onTouchMove=Oi.bind(s),s.onTouchEnd=$i.bind(s),s.onDocumentTouchStart=qi.bind(s),e.cssMode&&(s.onScroll=zi.bind(s)),s.onClick=Di.bind(s),s.onLoad=Hi.bind(s),Yt(s,"on")}function Ni(){Yt(this,"off")}function Gi(){let s=this,{realIndex:e,initialized:t,params:i,el:n}=s,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;let l=s.getBreakpoint(r,s.params.breakpointsBase,s.el);if(!l||s.currentBreakpoint===l)return;let o=(l in r?r[l]:void 0)||s.originalParams,c=Bt(s,i),d=Bt(s,o),f=i.enabled;c&&!d?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),s.emitContainerClasses()):!c&&d&&(n.classList.add(`${i.containerModifierClass}grid`),(o.grid.fill&&o.grid.fill==="column"||!o.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),s.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(b=>{if(typeof o[b]=="undefined")return;let p=i[b]&&i[b].enabled,u=o[b]&&o[b].enabled;p&&!u&&s[b].disable(),!p&&u&&s[b].enable()});let h=o.direction&&o.direction!==i.direction,m=i.loop&&(o.slidesPerView!==i.slidesPerView||h),y=i.loop;h&&t&&s.changeDirection(),Z(s.params,o);let w=s.params.enabled,E=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),f&&!w?s.disable():!f&&w&&s.enable(),s.currentBreakpoint=l,s.emit("_beforeBreakpoint",o),t&&(m?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!y&&E?(s.loopCreate(e),s.updateSlides()):y&&!E&&s.loopDestroy()),s.emit("breakpoint",o)}function Yi(s,e,t){if(e===void 0&&(e="window"),!s||e==="container"&&!t)return;let i=!1,n=V(),r=e==="window"?n.innerHeight:t.clientHeight,l=Object.keys(s).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let o=parseFloat(a.substr(1));return{value:r*o,point:a}}return{value:a,point:a}});l.sort((a,o)=>parseInt(a.value,10)-parseInt(o.value,10));for(let a=0;a<l.length;a+=1){let{point:o,value:c}=l[a];e==="window"?n.matchMedia(`(min-width: ${c}px)`).matches&&(i=o):c<=t.clientWidth&&(i=o)}return i||"max"}function Fi(s,e){let t=[];return s.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):typeof i=="string"&&t.push(e+i)}),t}function Xi(){let s=this,{classNames:e,params:t,rtl:i,el:n,device:r}=s,l=Fi(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),n.classList.add(...e),s.emitContainerClasses()}function _i(){let s=this,{el:e,classNames:t}=s;e.classList.remove(...t),s.emitContainerClasses()}function Wi(){let s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:i}=t;if(i){let n=s.slides.length-1,r=s.slidesGrid[n]+s.slidesSizesGrid[n]+i*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}function Ki(s,e){return function(i){i===void 0&&(i={});let n=Object.keys(i)[0],r=i[n];if(typeof r!="object"||r===null){Z(e,i);return}if(s[n]===!0&&(s[n]={enabled:!0}),n==="navigation"&&s[n]&&s[n].enabled&&!s[n].prevEl&&!s[n].nextEl&&(s[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&s[n]&&s[n].enabled&&!s[n].el&&(s[n].auto=!0),!(n in s&&"enabled"in r)){Z(e,i);return}typeof s[n]=="object"&&!("enabled"in s[n])&&(s[n].enabled=!0),s[n]||(s[n]={enabled:!1}),Z(e,i)}}var tt,st,it,js,qe,rt,ot,ri,di,mi,Ei,Ci,Ai,Yt,Vi,Bt,Ri,ji,Ui,Nt,nt,at,R,Rt=O(()=>{ee();B();js={on(s,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let n=t?"unshift":"push";return s.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][n](e)}),i},once(s,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(s,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];e.apply(i,l)}return n.__emitterProxy=e,i.on(s,n,t)},onAny(s,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;let i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[i](s),t},offAny(s){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(i=>{typeof e=="undefined"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){let s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,i;for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=s):(e=r[0].events,t=r[0].data,i=r[0].context||s),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(o=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(c=>{c.apply(i,[o,...t])}),s.eventsListeners&&s.eventsListeners[o]&&s.eventsListeners[o].forEach(c=>{c.apply(i,t)})}),s}};qe=(s,e)=>{if(!s||s.destroyed||!s.params)return;let t=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,i=e.closest(t());if(i){let n=i.querySelector(`.${s.params.lazyPreloaderClass}`);!n&&s.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},rt=(s,e)=>{if(!s.slides[e])return;let t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ot=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext,t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let i=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),n=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){let l=n,a=[l-e];a.push(...Array.from({length:e}).map((o,c)=>l+i+c)),s.slides.forEach((o,c)=>{a.includes(o.column)&&rt(s,c)});return}let r=n+i-1;if(s.params.rewind||s.params.loop)for(let l=n-e;l<=r+e;l+=1){let a=(l%t+t)%t;(a<n||a>r)&&rt(s,a)}else for(let l=Math.max(n-e,0);l<=Math.min(r+e,t-1);l+=1)l!==n&&(l>r||l<n)&&rt(s,l)};ri={updateSize:Ws,updateSlides:Us,updateAutoHeight:Ks,updateSlidesOffset:Zs,updateSlidesProgress:Js,updateProgress:Qs,updateSlidesClasses:ei,updateActiveIndex:si,updateClickedSlide:ii};di={getTranslate:ni,setTranslate:ai,minTranslate:oi,maxTranslate:li,translateTo:ci};mi={setTransition:ui,transitionStart:fi,transitionEnd:pi};Ei={slideTo:hi,slideToLoop:gi,slideNext:vi,slidePrev:wi,slideReset:bi,slideToClosest:yi,slideToClickedSlide:Si};Ci={loopCreate:xi,loopFix:Ti,loopDestroy:Mi};Ai={setGrabCursor:Li,unsetGrabCursor:Pi};Yt=(s,e)=>{let t=X(),{params:i,el:n,wrapperEl:r,device:l}=s,a=!!i.nested,o=e==="on"?"addEventListener":"removeEventListener",c=e;t[o]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:a}),n[o]("touchstart",s.onTouchStart,{passive:!1}),n[o]("pointerdown",s.onTouchStart,{passive:!1}),t[o]("touchmove",s.onTouchMove,{passive:!1,capture:a}),t[o]("pointermove",s.onTouchMove,{passive:!1,capture:a}),t[o]("touchend",s.onTouchEnd,{passive:!0}),t[o]("pointerup",s.onTouchEnd,{passive:!0}),t[o]("pointercancel",s.onTouchEnd,{passive:!0}),t[o]("touchcancel",s.onTouchEnd,{passive:!0}),t[o]("pointerout",s.onTouchEnd,{passive:!0}),t[o]("pointerleave",s.onTouchEnd,{passive:!0}),t[o]("contextmenu",s.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[o]("click",s.onClick,!0),i.cssMode&&r[o]("scroll",s.onScroll),i.updateOnWindowResize?s[c](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",qt,!0):s[c]("observerUpdate",qt,!0),n[o]("load",s.onLoad,{capture:!0})};Vi={attachEvents:Bi,detachEvents:Ni},Bt=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;Ri={setBreakpoint:Gi,getBreakpoint:Yi};ji={addClasses:Xi,removeClasses:_i};Ui={checkOverflow:Wi},Nt={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};nt={eventsEmitter:js,update:ri,translate:di,transition:mi,slide:Ei,loop:Ci,grabCursor:Ai,events:Vi,breakpoints:Ri,checkOverflow:Ui,classes:ji},at={},R=class s{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?t=n[0]:[e,t]=n,t||(t={}),t=Z({},t),e&&!t.el&&(t.el=e);let l=X();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){let d=[];return l.querySelectorAll(t.el).forEach(f=>{let h=Z({},t,{el:f});d.push(new s(h))}),d}let a=this;a.__swiper__=!0,a.support=Vt(),a.device=Ys({userAgent:t.userAgent}),a.browser=Fs(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);let o={};a.modules.forEach(d=>{d({params:t,swiper:a,extendParams:Ki(t,o),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let c=Z({},Nt,o);return a.params=Z({},c,at,t),a.originalParams=Z({},a.params),a.passedParams=Z({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/oe(2,23))*oe(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:i}=this,n=_(t,`.${i.slideClass}, swiper-slide`),r=he(n[0]);return he(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){let e=this,{slidesEl:t,params:i}=e;e.slides=_(t,`.${i.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let i=this;e=Math.min(Math.max(e,0),1);let n=i.minTranslate(),l=(i.maxTranslate()-n)*e+n;i.translateTo(l,typeof t=="undefined"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(i=>{let n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let i=this,{params:n,slides:r,slidesGrid:l,slidesSizesGrid:a,size:o,activeIndex:c}=i,d=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let f=r[c]?r[c].swiperSlideSize:0,h;for(let m=c+1;m<r.length;m+=1)r[m]&&!h&&(f+=r[m].swiperSlideSize,d+=1,f>o&&(h=!0));for(let m=c-1;m>=0;m-=1)r[m]&&!h&&(f+=r[m].swiperSlideSize,d+=1,f>o&&(h=!0))}else if(e==="current")for(let f=c+1;f<r.length;f+=1)(t?l[f]+a[f]-l[c]<o:l[f]-l[c]<o)&&(d+=1);else for(let f=c-1;f>=0;f-=1)l[c]-l[f]<o&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&qe(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){let l=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){let l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(l.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);let n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):_(i,n())[0];return!l&&t.params.createElements&&(l=se("div",t.params.wrapperClass),i.append(l),_(i,`.${t.params.slideClass}`).forEach(a=>{l.append(a)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||de(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||de(i,"direction")==="rtl"),wrongRTL:de(l,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();let n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(r=>{r.complete?qe(t,r):r.addEventListener("load",l=>{qe(t,l.target)})}),ot(t),t.initialized=!0,ot(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let i=this,{params:n,el:r,wrapperEl:l,slides:a}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),l.removeAttribute("style"),a&&a.length&&a.forEach(o=>{o.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(o=>{i.off(o)}),e!==!1&&(i.el.swiper=null,$t(i)),i.destroyed=!0),null}static extendDefaults(e){Z(at,e)}static get extendedDefaults(){return at}static get defaults(){return Nt}static installModule(e){s.prototype.__modules__||(s.prototype.__modules__=[]);let t=s.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>s.installModule(t)),s):(s.installModule(e),s)}};Object.keys(nt).forEach(s=>{Object.keys(nt[s]).forEach(e=>{R.prototype[e]=nt[s][e]})});R.use([Xs,_s])});var Be=O(()=>{Rt()});var Ft=O(()=>{ee();B()});var _t=O(()=>{ee();B()});function lt(s){let{swiper:e,extendParams:t,on:i,emit:n}=s,r=V();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let l,a=U(),o,c=[];function d(u){let A=0,P=0,S=0,v=0;return"detail"in u&&(P=u.detail),"wheelDelta"in u&&(P=-u.wheelDelta/120),"wheelDeltaY"in u&&(P=-u.wheelDeltaY/120),"wheelDeltaX"in u&&(A=-u.wheelDeltaX/120),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(A=P,P=0),S=A*10,v=P*10,"deltaY"in u&&(v=u.deltaY),"deltaX"in u&&(S=u.deltaX),u.shiftKey&&!S&&(S=v,v=0),(S||v)&&u.deltaMode&&(u.deltaMode===1?(S*=40,v*=40):(S*=800,v*=800)),S&&!A&&(A=S<1?-1:1),v&&!P&&(P=v<1?-1:1),{spinX:A,spinY:P,pixelX:S,pixelY:v}}function f(){e.enabled&&(e.mouseEntered=!0)}function h(){e.enabled&&(e.mouseEntered=!1)}function m(u){return e.params.mousewheel.thresholdDelta&&u.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&U()-a<e.params.mousewheel.thresholdTime?!1:u.delta>=6&&U()-a<60?!0:(u.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),n("scroll",u.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),n("scroll",u.raw)),a=new r.Date().getTime(),!1)}function y(u){let g=e.params.mousewheel;if(u.direction<0){if(e.isEnd&&!e.params.loop&&g.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&g.releaseOnEdges)return!0;return!1}function w(u){let g=u,T=!0;if(!e.enabled||u.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let x=e.params.mousewheel;e.params.cssMode&&g.preventDefault();let A=e.el;e.params.mousewheel.eventsTarget!=="container"&&(A=document.querySelector(e.params.mousewheel.eventsTarget));let P=A&&A.contains(g.target);if(!e.mouseEntered&&!P&&!x.releaseOnEdges)return!0;g.originalEvent&&(g=g.originalEvent);let S=0,v=e.rtlTranslate?-1:1,M=d(g);if(x.forceToAxis)if(e.isHorizontal())if(Math.abs(M.pixelX)>Math.abs(M.pixelY))S=-M.pixelX*v;else return!0;else if(Math.abs(M.pixelY)>Math.abs(M.pixelX))S=-M.pixelY;else return!0;else S=Math.abs(M.pixelX)>Math.abs(M.pixelY)?-M.pixelX*v:-M.pixelY;if(S===0)return!0;x.invert&&(S=-S);let L=e.getTranslate()+S*x.sensitivity;if(L>=e.minTranslate()&&(L=e.minTranslate()),L<=e.maxTranslate()&&(L=e.maxTranslate()),T=e.params.loop?!0:!(L===e.minTranslate()||L===e.maxTranslate()),T&&e.params.nested&&g.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let C={time:U(),delta:Math.abs(S),direction:Math.sign(S),raw:u};c.length>=2&&c.shift();let I=c.length?c[c.length-1]:void 0;if(c.push(C),I?(C.direction!==I.direction||C.delta>I.delta||C.time>I.time+150)&&m(C):m(C),y(C))return!0}else{let C={time:U(),delta:Math.abs(S),direction:Math.sign(S)},I=o&&C.time<o.time+500&&C.delta<=o.delta&&C.direction===o.direction;if(!I){o=void 0;let k=e.getTranslate()+S*x.sensitivity,H=e.isBeginning,J=e.isEnd;if(k>=e.minTranslate()&&(k=e.minTranslate()),k<=e.maxTranslate()&&(k=e.maxTranslate()),e.setTransition(0),e.setTranslate(k),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!H&&e.isBeginning||!J&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:C.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(l),l=void 0,c.length>=15&&c.shift();let D=c.length?c[c.length-1]:void 0,G=c[0];if(c.push(C),D&&(C.delta>D.delta||C.direction!==D.direction))c.splice(0);else if(c.length>=15&&C.time-G.time<500&&G.delta-C.delta>=1&&C.delta<=6){let q=S>0?.8:.2;o=C,c.splice(0),l=le(()=>{e.slideToClosest(e.params.speed,!0,void 0,q)},0)}l||(l=le(()=>{o=C,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(I||n("scroll",g),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),x.releaseOnEdges&&(k===e.minTranslate()||k===e.maxTranslate()))return!0}}return g.preventDefault?g.preventDefault():g.returnValue=!1,!1}function E(u){let g=e.el;e.params.mousewheel.eventsTarget!=="container"&&(g=document.querySelector(e.params.mousewheel.eventsTarget)),g[u]("mouseenter",f),g[u]("mouseleave",h),g[u]("wheel",w)}function b(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",w),!0):e.mousewheel.enabled?!1:(E("addEventListener"),e.mousewheel.enabled=!0,!0)}function p(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,w),!0):e.mousewheel.enabled?(E("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&p(),e.params.mousewheel.enabled&&b()}),i("destroy",()=>{e.params.cssMode&&b(),e.mousewheel.enabled&&p()}),Object.assign(e.mousewheel,{enable:b,disable:p})}var jt=O(()=>{ee();B()});function Oe(s,e,t,i){return s.params.createElements&&Object.keys(i).forEach(n=>{if(!t[n]&&t.auto===!0){let r=_(s.el,`.${i[n]}`)[0];r||(r=se("div",i[n]),r.className=i[n],s.el.append(r)),t[n]=r,e[n]=r}}),t}var Ne=O(()=>{B()});function ie(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let r=w=>(Array.isArray(w)?w:[w]).filter(E=>!!E);function l(w){let E;return w&&typeof w=="string"&&e.isElement&&(E=e.el.querySelector(w),E)?E:(w&&(typeof w=="string"&&(E=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&typeof w=="string"&&E.length>1&&e.el.querySelectorAll(w).length===1&&(E=e.el.querySelector(w))),w&&!E?w:E)}function a(w,E){let b=e.params.navigation;w=r(w),w.forEach(p=>{p&&(p.classList[E?"add":"remove"](...b.disabledClass.split(" ")),p.tagName==="BUTTON"&&(p.disabled=E),e.params.watchOverflow&&e.enabled&&p.classList[e.isLocked?"add":"remove"](b.lockClass))})}function o(){let{nextEl:w,prevEl:E}=e.navigation;if(e.params.loop){a(E,!1),a(w,!1);return}a(E,e.isBeginning&&!e.params.rewind),a(w,e.isEnd&&!e.params.rewind)}function c(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function d(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function f(){let w=e.params.navigation;if(e.params.navigation=Oe(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let E=l(w.nextEl),b=l(w.prevEl);Object.assign(e.navigation,{nextEl:E,prevEl:b}),E=r(E),b=r(b);let p=(u,g)=>{u&&u.addEventListener("click",g==="next"?d:c),!e.enabled&&u&&u.classList.add(...w.lockClass.split(" "))};E.forEach(u=>p(u,"next")),b.forEach(u=>p(u,"prev"))}function h(){let{nextEl:w,prevEl:E}=e.navigation;w=r(w),E=r(E);let b=(p,u)=>{p.removeEventListener("click",u==="next"?d:c),p.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(p=>b(p,"next")),E.forEach(p=>b(p,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?y():(f(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:w,prevEl:E}=e.navigation;if(w=r(w),E=r(E),e.enabled){o();return}[...w,...E].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),i("click",(w,E)=>{let{nextEl:b,prevEl:p}=e.navigation;b=r(b),p=r(p);let u=E.target;if(e.params.navigation.hideOnClick&&!p.includes(u)&&!b.includes(u)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===u||e.pagination.el.contains(u)))return;let g;b.length?g=b[0].classList.contains(e.params.navigation.hiddenClass):p.length&&(g=p[0].classList.contains(e.params.navigation.hiddenClass)),n(g===!0?"navigationShow":"navigationHide"),[...b,...p].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});let m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),o()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:m,disable:y,update:o,init:f,destroy:h})}var Wt=O(()=>{Ne()});function me(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}var Ve=O(()=>{});function ve(s){let{swiper:e,extendParams:t,on:i,emit:n}=s,r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let l,a=0,o=p=>(Array.isArray(p)?p:[p]).filter(u=>!!u);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(p,u){let{bulletActiveClass:g}=e.params.pagination;p&&(p=p[`${u==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${g}-${u}`),p=p[`${u==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${g}-${u}-${u}`)))}function f(p){let u=p.target.closest(me(e.params.pagination.bulletClass));if(!u)return;p.preventDefault();let g=he(u)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===g)return;e.slideToLoop(g)}else e.slideTo(g)}function h(){let p=e.rtl,u=e.params.pagination;if(c())return;let g=e.pagination.el;g=o(g);let T,x,A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(x=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(T=e.snapIndex,x=e.previousSnapIndex):(x=e.previousIndex||0,T=e.activeIndex||0),u.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let S=e.pagination.bullets,v,M,L;if(u.dynamicBullets&&(l=ke(S[0],e.isHorizontal()?"width":"height",!0),g.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${l*(u.dynamicMainBullets+4)}px`}),u.dynamicMainBullets>1&&x!==void 0&&(a+=T-(x||0),a>u.dynamicMainBullets-1?a=u.dynamicMainBullets-1:a<0&&(a=0)),v=Math.max(T-a,0),M=v+(Math.min(S.length,u.dynamicMainBullets)-1),L=(M+v)/2),S.forEach(C=>{let I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${u.bulletActiveClass}${k}`)].map(k=>typeof k=="string"&&k.includes(" ")?k.split(" "):k).flat();C.classList.remove(...I)}),g.length>1)S.forEach(C=>{let I=he(C);I===T?C.classList.add(...u.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),u.dynamicBullets&&(I>=v&&I<=M&&C.classList.add(...`${u.bulletActiveClass}-main`.split(" ")),I===v&&d(C,"prev"),I===M&&d(C,"next"))});else{let C=S[T];if(C&&C.classList.add(...u.bulletActiveClass.split(" ")),e.isElement&&S.forEach((I,k)=>{I.setAttribute("part",k===T?"bullet-active":"bullet")}),u.dynamicBullets){let I=S[v],k=S[M];for(let H=v;H<=M;H+=1)S[H]&&S[H].classList.add(...`${u.bulletActiveClass}-main`.split(" "));d(I,"prev"),d(k,"next")}}if(u.dynamicBullets){let C=Math.min(S.length,u.dynamicMainBullets+4),I=(l*C-l)/2-L*l,k=p?"right":"left";S.forEach(H=>{H.style[e.isHorizontal()?k:"top"]=`${I}px`})}}g.forEach((S,v)=>{if(u.type==="fraction"&&(S.querySelectorAll(me(u.currentClass)).forEach(M=>{M.textContent=u.formatFractionCurrent(T+1)}),S.querySelectorAll(me(u.totalClass)).forEach(M=>{M.textContent=u.formatFractionTotal(P)})),u.type==="progressbar"){let M;u.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";let L=(T+1)/P,C=1,I=1;M==="horizontal"?C=L:I=L,S.querySelectorAll(me(u.progressbarFillClass)).forEach(k=>{k.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${I})`,k.style.transitionDuration=`${e.params.speed}ms`})}u.type==="custom"&&u.renderCustom?(S.innerHTML=u.renderCustom(e,T+1,P),v===0&&n("paginationRender",S)):(v===0&&n("paginationRender",S),n("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](u.lockClass)})}function m(){let p=e.params.pagination;if(c())return;let u=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,g=e.pagination.el;g=o(g);let T="";if(p.type==="bullets"){let x=e.params.loop?Math.ceil(u/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&x>u&&(x=u);for(let A=0;A<x;A+=1)p.renderBullet?T+=p.renderBullet.call(e,A,p.bulletClass):T+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?T=p.renderFraction.call(e,p.currentClass,p.totalClass):T=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?T=p.renderProgressbar.call(e,p.progressbarFillClass):T=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],g.forEach(x=>{p.type!=="custom"&&(x.innerHTML=T||""),p.type==="bullets"&&e.pagination.bullets.push(...x.querySelectorAll(me(p.bulletClass)))}),p.type!=="custom"&&n("paginationRender",g[0])}function y(){e.params.pagination=Oe(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let p=e.params.pagination;if(!p.el)return;let u;typeof p.el=="string"&&e.isElement&&(u=e.el.querySelector(p.el)),!u&&typeof p.el=="string"&&(u=[...document.querySelectorAll(p.el)]),u||(u=p.el),!(!u||u.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(u)&&u.length>1&&(u=[...e.el.querySelectorAll(p.el)],u.length>1&&(u=u.filter(g=>xe(g,".swiper")[0]===e.el)[0])),Array.isArray(u)&&u.length===1&&(u=u[0]),Object.assign(e.pagination,{el:u}),u=o(u),u.forEach(g=>{p.type==="bullets"&&p.clickable&&g.classList.add(...(p.clickableClass||"").split(" ")),g.classList.add(p.modifierClass+p.type),g.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(g.classList.add(`${p.modifierClass}${p.type}-dynamic`),a=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&g.classList.add(p.progressbarOppositeClass),p.clickable&&g.addEventListener("click",f),e.enabled||g.classList.add(p.lockClass)}))}function w(){let p=e.params.pagination;if(c())return;let u=e.pagination.el;u&&(u=o(u),u.forEach(g=>{g.classList.remove(p.hiddenClass),g.classList.remove(p.modifierClass+p.type),g.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(g.classList.remove(...(p.clickableClass||"").split(" ")),g.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(g=>g.classList.remove(...p.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let p=e.params.pagination,{el:u}=e.pagination;u=o(u),u.forEach(g=>{g.classList.remove(p.horizontalClass,p.verticalClass),g.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?b():(y(),m(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{m(),h()}),i("destroy",()=>{w()}),i("enable disable",()=>{let{el:p}=e.pagination;p&&(p=o(p),p.forEach(u=>u.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(p,u)=>{let g=u.target,T=o(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!g.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&g===e.navigation.nextEl||e.navigation.prevEl&&g===e.navigation.prevEl))return;let x=T[0].classList.contains(e.params.pagination.hiddenClass);n(x===!0?"paginationShow":"paginationHide"),T.forEach(A=>A.classList.toggle(e.params.pagination.hiddenClass))}});let E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=o(p),p.forEach(u=>u.classList.remove(e.params.pagination.paginationDisabledClass))),y(),m(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=o(p),p.forEach(u=>u.classList.add(e.params.pagination.paginationDisabledClass))),w()};Object.assign(e.pagination,{enable:E,disable:b,render:m,update:h,init:y,destroy:w})}var Ut=O(()=>{Ve();Ne();B()});var Kt=O(()=>{ee();B();Ne();Ve()});var Zt=O(()=>{B()});var Jt=O(()=>{ee();B()});var Qt=O(()=>{B()});var es=O(()=>{Ve();B()});var ts=O(()=>{ee()});var ss=O(()=>{ee();B()});function Te(s){let{swiper:e,extendParams:t,on:i,emit:n,params:r}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,a,o=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,d,f=new Date().getTime(),h,m,y,w,E,b,p;function u(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",u),!p&&v())}let g=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=d,h=!1);let D=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=D,n("autoplayTimeLeft",D,D/o),a=requestAnimationFrame(()=>{g()})},T=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.filter(q=>q.classList.contains("swiper-slide-active"))[0]:D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},x=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),g();let G=typeof D=="undefined"?e.params.autoplay.delay:D;o=e.params.autoplay.delay,c=e.params.autoplay.delay;let q=T();!Number.isNaN(q)&&q>0&&typeof D=="undefined"&&(G=q,o=q,c=q),d=G;let F=e.params.speed,j=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(F,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,F,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(F,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,F,!0,!0),n("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return G>0?(clearTimeout(l),l=setTimeout(()=>{j()},G)):requestAnimationFrame(()=>{j()}),G},A=()=>{f=new Date().getTime(),e.autoplay.running=!0,x(),n("autoplayStart")},P=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(a),n("autoplayStop")},S=(D,G)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),D||(b=!0);let q=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",u):v()};if(e.autoplay.paused=!0,G){E&&(d=e.params.autoplay.delay),E=!1,q();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),q())},v=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,x(d)):x(),e.autoplay.paused=!1,n("autoplayResume"))},M=()=>{if(e.destroyed||!e.autoplay.running)return;let D=X();D.visibilityState==="hidden"&&(b=!0,S(!0)),D.visibilityState==="visible"&&v()},L=D=>{D.pointerType==="mouse"&&(b=!0,p=!0,!(e.animating||e.autoplay.paused)&&S(!0))},C=D=>{D.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&v())},I=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",L),e.el.addEventListener("pointerleave",C))},k=()=>{e.el.removeEventListener("pointerenter",L),e.el.removeEventListener("pointerleave",C)},H=()=>{X().addEventListener("visibilitychange",M)},J=()=>{X().removeEventListener("visibilitychange",M)};i("init",()=>{e.params.autoplay.enabled&&(I(),H(),A())}),i("destroy",()=>{k(),J(),e.autoplay.running&&P()}),i("_freeModeStaticRelease",()=>{(y||b)&&v()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?P():S(!0,!0)}),i("beforeTransitionStart",(D,G,q)=>{e.destroyed||!e.autoplay.running||(q||!e.params.autoplay.disableOnInteraction?S(!0,!0):P())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){P();return}m=!0,y=!1,b=!1,w=setTimeout(()=>{b=!0,y=!0,S(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(w),clearTimeout(l),e.params.autoplay.disableOnInteraction){y=!1,m=!1;return}y&&e.params.cssMode&&v(),y=!1,m=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(E=!0)}),Object.assign(e.autoplay,{start:A,stop:P,pause:S,resume:v})}var is=O(()=>{ee()});function ct(s){let{swiper:e,extendParams:t,on:i}=s;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,r=!1;e.thumbs={swiper:null};function l(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,f=c.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d=="undefined"||d===null)return;let h;c.params.loop?h=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):h=d,e.params.loop?e.slideToLoop(h):e.slideTo(h)}function a(){let{thumbs:c}=e.params;if(n)return!1;n=!0;let d=e.constructor;if(c.swiper instanceof d)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Se(c.swiper)){let f=Object.assign({},c.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(f),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",l),!0}function o(c){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let f=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,h=1,m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(h=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),d.slides.forEach(E=>E.classList.remove(m)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let E=0;E<h;E+=1)_(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+E}"]`).forEach(b=>{b.classList.add(m)});else for(let E=0;E<h;E+=1)d.slides[e.realIndex+E]&&d.slides[e.realIndex+E].classList.add(m);let y=e.params.thumbs.autoScrollOffset,w=y&&!d.params.loop;if(e.realIndex!==d.realIndex||w){let E=d.activeIndex,b,p;if(d.params.loop){let u=d.slides.filter(g=>g.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];b=d.slides.indexOf(u),p=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,p=b>e.previousIndex?"next":"prev";w&&(b+=p==="next"?y:-1*y),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(b)<0&&(d.params.centeredSlides?b>E?b=b-Math.floor(f/2)+1:b=b+Math.floor(f/2)-1:b>E&&d.params.slidesPerGroup,d.slideTo(b,c?0:void 0))}}i("beforeInit",()=>{let{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=X(),f=()=>{let m=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(m&&m.swiper)c.swiper=m.swiper,a(),o(!0);else if(m){let y=w=>{c.swiper=w.detail[0],m.removeEventListener("init",y),a(),o(!0),c.swiper.update(),e.update()};m.addEventListener("init",y)}return m},h=()=>{if(e.destroyed)return;f()||requestAnimationFrame(h)};requestAnimationFrame(h)}else a(),o(!0)}),i("slideChange update resize observerUpdate",()=>{o()}),i("setTransition",(c,d)=>{let f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(d)}),i("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||r&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:o})}var rs=O(()=>{ee();B()});function dt(s){let{swiper:e,extendParams:t,emit:i,once:n}=s;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;let o=e.getTranslate();e.setTranslate(o),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function l(){if(e.params.cssMode)return;let{touchEventsData:o,touches:c}=e;o.velocities.length===0&&o.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:o.touchStartTime}),o.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:U()})}function a(o){let{currentPos:c}=o;if(e.params.cssMode)return;let{params:d,wrapperEl:f,rtlTranslate:h,snapGrid:m,touchEventsData:y}=e,E=U()-y.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<m.length?e.slideTo(m.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(y.velocities.length>1){let P=y.velocities.pop(),S=y.velocities.pop(),v=P.position-S.position,M=P.time-S.time;e.velocity=v/M,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(M>150||U()-P.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,y.velocities.length=0;let b=1e3*d.freeMode.momentumRatio,p=e.velocity*b,u=e.translate+p;h&&(u=-u);let g=!1,T,x=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio,A;if(u<e.maxTranslate())d.freeMode.momentumBounce?(u+e.maxTranslate()<-x&&(u=e.maxTranslate()-x),T=e.maxTranslate(),g=!0,y.allowMomentumBounce=!0):u=e.maxTranslate(),d.loop&&d.centeredSlides&&(A=!0);else if(u>e.minTranslate())d.freeMode.momentumBounce?(u-e.minTranslate()>x&&(u=e.minTranslate()+x),T=e.minTranslate(),g=!0,y.allowMomentumBounce=!0):u=e.minTranslate(),d.loop&&d.centeredSlides&&(A=!0);else if(d.freeMode.sticky){let P;for(let S=0;S<m.length;S+=1)if(m[S]>-u){P=S;break}Math.abs(m[P]-u)<Math.abs(m[P-1]-u)||e.swipeDirection==="next"?u=m[P]:u=m[P-1],u=-u}if(A&&n("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(h?b=Math.abs((-u-e.translate)/e.velocity):b=Math.abs((u-e.translate)/e.velocity),d.freeMode.sticky){let P=Math.abs((h?-u:u)-e.translate),S=e.slidesSizesGrid[e.activeIndex];P<S?b=d.speed:P<2*S?b=d.speed*1.5:b=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&g?(e.updateProgress(T),e.setTransition(b),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ge(f,()=>{!e||e.destroyed||!y.allowMomentumBounce||(i("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(T),ge(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(u),e.setTransition(b),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ge(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(u),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&i("_freeModeNoMomentumRelease");(!d.freeMode.momentum||E>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:l,onTouchEnd:a}})}var ns=O(()=>{B()});var as=O(()=>{});var os=O(()=>{});function we(s){let{effect:e,swiper:t,on:i,setTranslate:n,setTransition:r,overwriteParams:l,perspective:a,recreateShadows:o,getEffectParams:c}=s;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let f=l?l():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),i("setTranslate",()=>{t.params.effect===e&&n()}),i("setTransition",(f,h)=>{t.params.effect===e&&r(h)}),i("transitionEnd",()=>{if(t.params.effect===e&&o){if(!c||!c().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),o()}});let d;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(n(),d=!1)}))})}var be=O(()=>{});function Me(s,e){let t=ce(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}var Ce=O(()=>{B()});function $e(s){let{swiper:e,duration:t,transformElements:i,allSlides:n}=s,{activeIndex:r}=e,l=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let a=!1,o;n?o=i:o=i.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?l(c):c;return e.getSlideIndex(d)===r}),o.forEach(c=>{ge(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}var De=O(()=>{B()});function ye(s){let{swiper:e,extendParams:t,on:i}=s;t({fadeEffect:{crossFade:!1}}),we({effect:"fade",swiper:e,on:i,setTranslate:()=>{let{slides:l}=e,a=e.params.fadeEffect;for(let o=0;o<l.length;o+=1){let c=e.slides[o],f=-c.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let h=0;e.isHorizontal()||(h=f,f=0);let m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),y=Me(a,c);y.style.opacity=m,y.style.transform=`translate3d(${f}px, ${h}px, 0px)`}},setTransition:l=>{let a=e.slides.map(o=>ce(o));a.forEach(o=>{o.style.transitionDuration=`${l}ms`}),$e({swiper:e,duration:l,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}var ls=O(()=>{be();Ce();De();B()});var cs=O(()=>{be();B()});var ze=O(()=>{B()});var ds=O(()=>{ze();be();Ce();De();B()});var us=O(()=>{ze();be();Ce();B()});var fs=O(()=>{ze();be();Ce();De();B()});var ps=O(()=>{ze();be();Ce();De();B()});var Ge=O(()=>{Ft();_t();jt();Wt();Ut();Kt();Zt();Jt();Qt();es();ts();ss();is();rs();ns();as();os();ls();cs();ds();us();fs();ps()});function ms(){$(".swiper-column-auto").each(function(s){let e=$(this),t={loop:e.hasClass("swiper-loop"),touchMove:e.hasClass("allow-touchMove")||!0,mouseWheel:e.hasClass("allow-mouseWheel")?{forceToAxis:!0}:!1,autoHeight:e.hasClass("auto-height"),hasVideo:e.hasClass("auto-detect-video"),progressbar:e.hasClass("progressbar"),time:e.attr("data-time")||3500,autoplay:e.hasClass("autoplay")};e.addClass(`swiper-column-auto-id-${s}`),new R(`.swiper-column-auto-id-${s} .swiper`,Le(te({modules:[ie,ve,lt],speed:500,observer:!0,observeParents:!0,spaceBetween:0,loop:t.loop},t.autoplay&&{autoplay:{delay:t.time}}),{slidesPerView:"auto",pagination:te({el:`.swiper-column-auto-id-${s} .swiper-pagination`,clickable:!0},t.progressbar&&{type:"progressbar"}),mousewheel:t.mouseWheel,allowTouchMove:t.touchMove,navigation:{prevEl:`.swiper-column-auto-id-${s} .btn-prev`,nextEl:`.swiper-column-auto-id-${s} .btn-next`},watchSlidesProgress:!0,autoHeight:t.autoHeight,on:{init:function(){},slideChange:function(){}}}))}),new R(".section-home-banner .swiper",{slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,effect:"fade",autoplay:{delay:3500},modules:[ve,ie,Te,ye],pagination:{el:".section-home-banner .swiper-pagination",clickable:!0,renderBullet:function(s,e){let i=this.slides[s].getAttribute("data-title")||`Slide ${s+1}`;return`<span class="${e}">${i}</span>`}},navigation:{nextEl:".section-home-banner .btn-next",prevEl:".section-home-banner .btn-prev"}}),new R(".page-banner .banner-swiper",{slidesPerView:1,spaceBetween:0,speed:300,loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},modules:[ve,ie,Te,ye],pagination:{el:".page-banner .banner-pagination",clickable:!0},navigation:{nextEl:".page-banner .banner-next",prevEl:".page-banner .banner-prev"}}),new R(".home-3 .customer-slider",{slidesPerView:2,spaceBetween:16,speed:500,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:[ve,Te,ye],navigation:{nextEl:".home-3 .btn-next",prevEl:".home-3 .btn-prev"},pagination:{el:".home-3 .home-3-pagination",clickable:!0},breakpoints:{640:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:24},1024:{slidesPerView:5,spaceBetween:30}}}),$(".section-home-explore .swiper").length>0&&new R(".section-home-explore .swiper",{modules:[ve,Te],slidesPerView:1,spaceBetween:0,speed:800,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".section-home-explore .swiper-pagination",clickable:!0}}),$(".section-home-new-arrivals .swiper").length>0&&new R(".section-home-new-arrivals .swiper",{modules:[ie],slidesPerView:2,spaceBetween:12,speed:600,loop:!1,navigation:{nextEl:".section-home-new-arrivals .nav-next",prevEl:".section-home-new-arrivals .nav-prev"},breakpoints:{640:{slidesPerView:3,spaceBetween:12},768:{slidesPerView:4,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:20}}}),$(".category-block .slider-wrapper").each(function(s){$(this).addClass(`moderne-slider-${s}`),new R(`.moderne-slider-${s} .swiper`,{modules:[ie],slidesPerView:1,spaceBetween:12,speed:600,loop:!1,navigation:{nextEl:`.moderne-slider-${s} .nav-next`,prevEl:`.moderne-slider-${s} .nav-prev`},breakpoints:{640:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}})})}var hs=O(()=>{Be();Ge()});function ft(){let s={container:document.querySelector(".product-media"),thumbParent:document.getElementById("mediaThumbDragParent"),cursor:document.getElementById("mediaThumbDragBox")};if(!s.container||!s.thumbParent||!s.cursor||s.container.classList.contains("is-initialized")||(s.container.classList.add("is-initialized"),window.innerWidth<1024))return;let e={isDragging:!1,startY:0,startCursorTop:0,rafId:null},t=()=>{if(window.innerWidth<1024||e.isDragging)return;let a=s.container.getBoundingClientRect(),o=window.innerHeight,c=100,f=s.container.offsetHeight-o+c,m=(c-a.top)/f;m=Math.max(0,Math.min(1,m));let y=s.thumbParent.offsetHeight,w=s.cursor.offsetHeight,E=y-w,b=m*E;s.cursor.style.top=`${b}px`},i=a=>{var o,c;window.innerWidth<1024||(a.preventDefault(),e.isDragging=!0,e.startY=a.clientY||((c=(o=a.touches)==null?void 0:o[0])==null?void 0:c.clientY),e.startCursorTop=parseFloat(s.cursor.style.top)||0,s.cursor.style.cursor="grabbing",document.body.style.userSelect="none",document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r))},n=a=>{var T,x;if(!e.isDragging)return;a.preventDefault();let c=(a.clientY||((x=(T=a.touches)==null?void 0:T[0])==null?void 0:x.clientY))-e.startY,d=s.thumbParent.offsetHeight,f=s.cursor.offsetHeight,h=d-f,m=e.startCursorTop+c;m=Math.max(0,Math.min(h,m)),s.cursor.style.top=`${m}px`;let y=m/h,E=s.container.getBoundingClientRect().top+window.scrollY,b=window.innerHeight,p=100,u=s.container.offsetHeight-b+p,g=E+y*u-p;window.scrollTo(0,g)},r=()=>{e.isDragging=!1,s.cursor.style.cursor="",document.body.style.userSelect="",document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)},l=a=>{if(window.innerWidth<1024||s.cursor.contains(a.target))return;let o=s.thumbParent.getBoundingClientRect(),c=a.clientY-o.top,d=s.thumbParent.offsetHeight,f=s.cursor.offsetHeight,h=d-f,m=c-f/2;m=Math.max(0,Math.min(h,m));let y=m/h,E=s.container.getBoundingClientRect().top+window.scrollY,b=window.innerHeight,p=100,u=s.container.offsetHeight-b+p,g=E+y*u-p;window.scrollTo({top:g,behavior:"smooth"})};window.addEventListener("scroll",()=>{e.rafId||(e.rafId=requestAnimationFrame(()=>{t(),e.rafId=null}))}),s.cursor.addEventListener("mousedown",i),s.cursor.addEventListener("touchstart",i,{passive:!1}),s.thumbParent.addEventListener("dblclick",l),t()}function gs(){let s=null,e=null,t=()=>{if(window.innerWidth>=1024){if(s&&typeof s.destroy=="function"){try{s.destroy(!0,!0)}catch(l){console.warn("Swiper destroy error:",l)}s=null}if(e&&typeof e.destroy=="function"){try{e.destroy(!0,!0)}catch(l){console.warn("Swiper destroy error:",l)}e=null}return}if(s)return;let n=document.querySelector(".product-images"),r=document.querySelector(".product-thumbs");!n||!r||(e=new R(r,{modules:[dt],spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0}),s=new R(n,{modules:[ct,ie],spaceBetween:10,slidesPerView:1,thumbs:{swiper:e}}))};t();let i;window.addEventListener("resize",()=>{clearTimeout(i),i=setTimeout(()=>{t(),window.innerWidth>=1024&&ft()},200)})}function vs(){let s=document.querySelector(".size-guide-link"),e=document.getElementById("popupSizeGuide");if(!s||!e)return;let t=e.querySelector(".popup-close"),i=e.querySelector(".popup-backdrop"),n=e.querySelectorAll(".tab-item"),r=e.querySelectorAll(".tab-content");s.addEventListener("click",a=>{a.preventDefault(),e.classList.add("active"),document.body.style.overflow="hidden"});let l=()=>{e.classList.remove("active"),document.body.style.overflow=""};t.addEventListener("click",l),i.addEventListener("click",l),document.addEventListener("keydown",a=>{a.key==="Escape"&&e.classList.contains("active")&&l()}),n.forEach(a=>{a.addEventListener("click",()=>{n.forEach(f=>f.classList.remove("active")),e.querySelectorAll(".popup-tab-content").forEach(f=>f.classList.remove("active")),a.classList.add("active");let c=a.getAttribute("data-tab"),d=document.getElementById(c);d&&d.classList.add("active")})})}function ws(){let s=document.querySelector(".product-desc");if(!s)return;let e=window.pageYOffset||document.documentElement.scrollTop,t;window.addEventListener("scroll",()=>{if(window.innerWidth<1024){s.classList.remove("collapsed");return}let i=window.pageYOffset||document.documentElement.scrollTop;i<0||Math.abs(e-i)<5||(window.cancelAnimationFrame(t),t=window.requestAnimationFrame(()=>{i<e?s.classList.remove("collapsed"):s.classList.add("collapsed"),e=i}))},{passive:!0})}var bs=O(()=>{Be();Ge()});var ys,Ss=O(()=>{Be();Ge();ys=()=>{let s=document.getElementById("timeline-section");if(!s)return;let e=s.querySelector(".timeline-slider");if(e){let r=function(l){let a=window.innerWidth,o=i.length;a<768?o=3:a<1280&&(o=5);let c=0,d=i.length-1;if(o<i.length){let m=Math.floor(o/2);c=l-m,d=l+m,c<0?(c=0,d=o-1):d>=i.length&&(d=i.length-1,c=i.length-o)}let f=0,h=0;if(i.forEach((m,y)=>{m.classList.remove("current","active","is-hidden"),y>=c&&y<=d?(m.style.display="",f++,y===l&&(h=y-c)):(m.classList.add("is-hidden"),m.style.display="none"),y<=l&&m.classList.add("active"),y===l&&m.classList.add("current")}),n&&f>1){let m=h/(f-1)*100;n.style.width=`${m}%`}else n&&(n.style.width="0%")},t=new R(e,{modules:[ie,ye],speed:800,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".slider-controls .btn-nav.prev",nextEl:".slider-controls .btn-nav.next"},on:{slideChange:function(){r(this.activeIndex)}}}),i=s.querySelectorAll(".dots-list .dot-item"),n=s.querySelector(".timeline-progress");i.forEach(l=>{l.addEventListener("click",function(){let a=parseInt(this.getAttribute("data-index"));isNaN(a)||t.slideTo(a)})}),window.addEventListener("resize",()=>{r(t.activeIndex)}),r(0)}}});var Es,xs=O(()=>{Es=()=>{let s=document.querySelector(".section-home-popular .section-desc-wrapper"),e=document.querySelector(".section-home-popular .btn-readmore");s&&e&&e.addEventListener("click",function(t){t.preventDefault(),s.classList.contains("is-expanded")?(s.classList.remove("is-expanded"),this.classList.remove("active"),s.style.maxHeight=null,this.querySelector("span").textContent="Read more"):(s.classList.add("is-expanded"),this.classList.add("active"),s.style.maxHeight=s.scrollHeight+"px",this.querySelector("span").textContent="Show less")})}});var Ts=Pe((eo,Ye)=>{var Re=class{constructor(){this.dropdowns=document.querySelectorAll(".filter-dropdown"),this.init()}init(){this.dropdowns.length&&(this.dropdowns.forEach(e=>{this.initDropdown(e)}),document.addEventListener("click",e=>{e.target.closest(".filter-dropdown")||this.closeAllDropdowns()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.closeAllDropdowns()}),this.initFromURL())}initDropdown(e){let t=e.querySelector(".filter-trigger"),i=e.querySelector(".filter-clear"),n=e.querySelectorAll(".filter-option a");t.addEventListener("click",r=>{if(r.target.closest(".filter-clear")){r.stopPropagation(),this.clearSelection(e);return}this.toggleDropdown(e)}),i&&i.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),this.clearSelection(e)}),n.forEach(r=>{r.addEventListener("click",l=>{l.preventDefault(),this.selectOption(e,r)})})}toggleDropdown(e){let t=e.classList.contains("is-open");this.closeAllDropdowns(),t||e.classList.add("is-open")}closeAllDropdowns(){this.dropdowns.forEach(e=>e.classList.remove("is-open"))}selectOption(e,t){let i=e.dataset.taxonomy,n=t.dataset.filterValue,r=t.querySelector(".option-label").textContent,l=e.querySelector(".filter-label"),a=t.closest(".filter-option");e.classList.add("has-value"),e.classList.remove("is-open"),l.textContent=r,e.querySelectorAll(".filter-option").forEach(o=>{o.classList.remove("is-selected")}),a.classList.add("is-selected"),e.dataset.selectedValue=n,this.updateURL(i,n),this.triggerFilter()}clearSelection(e){let t=e.dataset.taxonomy,i=e.querySelector(".filter-trigger").dataset.filterName,n=e.querySelector(".filter-label");e.classList.remove("has-value"),e.classList.remove("is-open"),n.textContent=i,e.querySelectorAll(".filter-option").forEach(r=>{r.classList.remove("is-selected")}),delete e.dataset.selectedValue,this.updateURL(t,null),this.triggerFilter()}updateURL(e,t){let i=new URL(window.location.href);t?i.searchParams.set(e,t):i.searchParams.delete(e),window.history.replaceState({},"",i.toString())}initFromURL(){let e=new URL(window.location.href);this.dropdowns.forEach(t=>{let i=t.dataset.taxonomy,n=e.searchParams.get(i);if(n){let r=t.querySelector(`[data-filter-value="${n}"]`);r&&this.selectOption(t,r)}})}triggerFilter(){let e={};this.dropdowns.forEach(i=>{let n=i.dataset.taxonomy,r=i.dataset.selectedValue;r&&(e[n]=r)});let t=new CustomEvent("shopFilterChange",{detail:{filters:e,url:window.location.href}});document.dispatchEvent(t),console.log("Active Filters:",e)}getActiveFilters(){let e={};return this.dropdowns.forEach(t=>{let i=t.dataset.taxonomy,n=t.dataset.selectedValue;n&&(e[i]=n)}),e}};document.addEventListener("DOMContentLoaded",()=>{window.shopToolbar=new Re});typeof Ye!="undefined"&&Ye.exports&&(Ye.exports=Re)});var Ms=Pe((to,Fe)=>{var Xe=class{constructor(e={}){this.options=te({storageKey:"huyvo_welcome_shown",shippingStorageKey:"huyvo_shipping_location",newsletterStorageKey:"huyvo_newsletter_subscribed",showDelay:1e3,sequence:["shipping","newsletter"]},e),this.popups={shipping:document.getElementById("popup-shipping"),newsletter:document.getElementById("popup-newsletter")},this.currentPopupIndex=0,this.init()}init(){!this.popups.shipping&&!this.popups.newsletter||(this.bindEvents(),this.shouldShowPopups()&&setTimeout(()=>{this.showNextPopup()},this.options.showDelay))}shouldShowPopups(){return!sessionStorage.getItem(this.options.storageKey)}bindEvents(){document.querySelectorAll(".popup-close").forEach(i=>{i.addEventListener("click",n=>{let r=n.target.closest(".popup-overlay");this.closePopup(r),this.markAsComplete()})}),document.querySelectorAll(".popup-overlay").forEach(i=>{i.addEventListener("click",n=>{n.target===i&&(this.closePopup(i),this.markAsComplete())})}),document.addEventListener("keydown",i=>{if(i.key==="Escape"){let n=document.querySelector(".popup-overlay.is-active");n&&(this.closePopup(n),this.markAsComplete())}}),document.querySelectorAll("[data-popup-trigger]").forEach(i=>{i.addEventListener("click",n=>{n.preventDefault();let r=i.dataset.popupTrigger;this.showPopup(r)})});let e=document.querySelector('[data-action="submit-shipping"]');e&&e.addEventListener("click",i=>{i.preventDefault(),this.handleShippingSubmit()});let t=document.querySelector(".popup-newsletter-form");t&&t.addEventListener("submit",i=>{i.preventDefault(),this.handleNewsletterSubmit(i)})}showPopup(e){let t=this.popups[e];t&&(document.body.style.overflow="hidden",t.classList.add("is-active"),t.dispatchEvent(new CustomEvent("popup:open",{detail:{popupId:e}})))}closePopup(e){e&&(e.classList.remove("is-active"),document.querySelector(".popup-overlay.is-active")||(document.body.style.overflow=""),e.dispatchEvent(new CustomEvent("popup:close",{detail:{popupId:e.dataset.popup}})))}showNextPopup(){let e=this.options.sequence;if(this.currentPopupIndex<e.length){let t=e[this.currentPopupIndex];this.currentPopupIndex++,setTimeout(()=>{this.showPopup(t)},300)}else this.markAsComplete()}handleShippingSubmit(){var n,r;let e=(n=document.getElementById("shipping-country"))==null?void 0:n.value,t=(r=document.getElementById("shipping-language"))==null?void 0:r.value,i={country:e,language:t,timestamp:new Date().toISOString()};localStorage.setItem(this.options.shippingStorageKey,JSON.stringify(i)),document.dispatchEvent(new CustomEvent("shipping:selected",{detail:i})),console.log("Shipping location saved:",i),this.closePopup(this.popups.shipping),this.showNextPopup()}handleNewsletterSubmit(e){var l,a;let t=e.target,i=(l=t.querySelector('input[type="email"]'))==null?void 0:l.value,n=(a=t.querySelector('input[name="marketing-consent"]'))==null?void 0:a.checked;if(!i){alert("Please enter your email address");return}let r={email:i,marketingConsent:n,timestamp:new Date().toISOString()};localStorage.setItem(this.options.newsletterStorageKey,JSON.stringify(r)),document.dispatchEvent(new CustomEvent("newsletter:subscribed",{detail:r})),console.log("Newsletter subscription:",r),window.wpcf7&&t.classList.contains("wpcf7-form")?setTimeout(()=>{this.closePopup(this.popups.newsletter),this.markAsComplete()},1e3):(this.closePopup(this.popups.newsletter),this.markAsComplete())}markAsComplete(){sessionStorage.setItem(this.options.storageKey,JSON.stringify({shown:!0,timestamp:new Date().toISOString()})),console.log("Welcome popups completed")}reset(){sessionStorage.removeItem(this.options.storageKey),localStorage.removeItem(this.options.shippingStorageKey),localStorage.removeItem(this.options.newsletterStorageKey),this.currentPopupIndex=0,console.log("Welcome popups reset")}forceShow(e){e&&this.popups[e]?this.showPopup(e):(this.currentPopupIndex=0,this.showNextPopup())}getShippingData(){let e=localStorage.getItem(this.options.shippingStorageKey);return e?JSON.parse(e):null}isSubscribed(){return!!localStorage.getItem(this.options.newsletterStorageKey)}};document.addEventListener("DOMContentLoaded",()=>{window.welcomePopups=new Xe});typeof Fe!="undefined"&&Fe.exports&&(Fe.exports=Xe)});var Zi=Pe((po,_e)=>{var Cs=He(wt()),Ls=He(bt());Mt();Lt();At();hs();bs();Ss();xs();var uo=He(Ts()),fo=He(Ms());$(document).ready(function(){yt(),xt(),Tt(),St(),Et(),Ct.init(),Pt.init(),ms(),ft(),gs(),vs(),ws(),ys(),Es()});Cs.default.init({offset:50,once:!0});var Ps=(0,Ls.default)();Ps.observe();window.FE={lozad:Ps.observe};(function(s){"use strict";s("#product-orderby").on("change",function(){let e=s(this).val(),t=new URL(window.location);e?t.searchParams.set("orderby",e):t.searchParams.delete("orderby"),window.location=t.toString()}),s(".category-item .toggle-icon").on("click",function(e){e.preventDefault(),console.log("Click");let i=s(this).closest(".category-item").find(".sub-category");i.length&&(i.slideToggle(300),s(this).html(s(this).html()==='<i class="fa-solid fa-plus"></i>'?'<i class="fa-solid fa-minus"></i>':'<i class="fa-solid fa-plus"></i>'))}),s(".product-pagination a").on("click",function(e){s("html, body").animate({scrollTop:s(".product-header").offset().top-100},500)})})(jQuery);var je=class s{constructor(e,t={}){this.element=e,this.options=te({onChange:t.onChange||null,onOpen:t.onOpen||null,onClose:t.onClose||null,closeOnSelect:t.closeOnSelect!==!1,searchable:t.searchable||!1,placeholder:t.placeholder||"Select an option"},t),this.trigger=this.element.querySelector(".select-trigger"),this.dropdown=this.element.querySelector(".select-dropdown"),this.selectOptions=this.element.querySelectorAll(".select-option"),this.selectedValue=this.element.querySelector(".selected-value"),this.name=this.element.dataset.name||"",this.isOpen=!1,this.selectedOption=null,this.focusedIndex=-1,this.init()}init(){this.bindEvents(),this.setInitialValue()}bindEvents(){this.trigger.addEventListener("click",e=>{e.stopPropagation(),this.toggle()}),this.selectOptions.forEach((e,t)=>{e.addEventListener("click",i=>{i.stopPropagation(),this.selectOption(e,t)}),e.setAttribute("tabindex","0"),e.addEventListener("keydown",i=>{this.handleOptionKeydown(i,e,t)})}),document.addEventListener("click",e=>{!this.element.contains(e.target)&&this.isOpen&&this.close()}),this.trigger.addEventListener("keydown",e=>{this.handleTriggerKeydown(e)}),this.dropdown.addEventListener("keydown",e=>{["ArrowUp","ArrowDown","Space"].includes(e.key)&&e.preventDefault()})}setInitialValue(){let e=this.element.querySelector(".select-option.active");e&&(this.selectedOption=e,this.selectedValue.textContent=e.textContent.trim())}toggle(){this.isOpen?this.close():this.open()}open(){var t;s.closeAll(this),this.element.classList.add("open"),this.isOpen=!0,this.trigger.setAttribute("aria-expanded","true"),this.dropdown.setAttribute("aria-hidden","false");let e=this.element.querySelector(".select-option.active");e?(this.focusedIndex=Array.from(this.selectOptions).indexOf(e),e.focus()):(this.focusedIndex=0,(t=this.selectOptions[0])==null||t.focus()),typeof this.options.onOpen=="function"&&this.options.onOpen(this),this.element.dispatchEvent(new CustomEvent("select:open",{detail:{select:this}}))}close(){this.element.classList.remove("open"),this.isOpen=!1,this.focusedIndex=-1,this.trigger.setAttribute("aria-expanded","false"),this.dropdown.setAttribute("aria-hidden","true"),this.trigger.focus(),typeof this.options.onClose=="function"&&this.options.onClose(this),this.element.dispatchEvent(new CustomEvent("select:close",{detail:{select:this}}))}selectOption(e,t){let i=e.dataset.value,n=e.textContent.trim();this.selectOptions.forEach(r=>r.classList.remove("active")),e.classList.add("active"),this.selectedOption=e,this.selectedValue.textContent=n,this.options.closeOnSelect&&this.close(),typeof this.options.onChange=="function"&&this.options.onChange(i,n,this),this.element.dispatchEvent(new CustomEvent("select:change",{detail:{value:i,text:n,name:this.name,select:this}}))}handleTriggerKeydown(e){switch(e.key){case"Enter":case" ":case"ArrowDown":e.preventDefault(),this.isOpen||this.open();break;case"ArrowUp":e.preventDefault(),this.isOpen||this.open();break;case"Escape":e.preventDefault(),this.isOpen&&this.close();break}}handleOptionKeydown(e,t,i){var n,r;switch(e.key){case"Enter":case" ":e.preventDefault(),this.selectOption(t,i);break;case"ArrowDown":e.preventDefault(),this.focusNextOption();break;case"ArrowUp":e.preventDefault(),this.focusPreviousOption();break;case"Escape":e.preventDefault(),this.close();break;case"Home":e.preventDefault(),this.focusedIndex=0,(n=this.selectOptions[0])==null||n.focus();break;case"End":e.preventDefault(),this.focusedIndex=this.selectOptions.length-1,(r=this.selectOptions[this.focusedIndex])==null||r.focus();break}}focusNextOption(){var e;this.focusedIndex=Math.min(this.focusedIndex+1,this.selectOptions.length-1),(e=this.selectOptions[this.focusedIndex])==null||e.focus()}focusPreviousOption(){var e;this.focusedIndex=Math.max(this.focusedIndex-1,0),(e=this.selectOptions[this.focusedIndex])==null||e.focus()}getValue(){return this.selectedOption?this.selectedOption.dataset.value:null}getText(){return this.selectedValue.textContent.trim()}setValue(e){let t=Array.from(this.selectOptions).find(i=>i.dataset.value===e);if(t){let i=Array.from(this.selectOptions).indexOf(t);this.selectOption(t,i)}}disable(){this.element.classList.add("disabled"),this.trigger.setAttribute("disabled","true")}enable(){this.element.classList.remove("disabled"),this.trigger.removeAttribute("disabled")}destroy(){this.element.removeEventListener("click",this.toggle),this.element=null}static closeAll(e=null){document.querySelectorAll(".custom-select.open").forEach(t=>{t!==(e==null?void 0:e.element)&&t.classList.remove("open")})}static initAll(e=".custom-select",t={}){let i=[];return document.querySelectorAll(e).forEach(n=>{i.push(new s(n,t))}),i}};document.addEventListener("DOMContentLoaded",()=>{let s=je.initAll(".custom-select"),e={orderby:"",perpage:"12",category:""};document.querySelectorAll(".custom-select").forEach(r=>{r.addEventListener("select:change",l=>{let{name:a,value:o,text:c}=l.detail;e[a]=o,console.log("Filter changed:",{name:a,value:o,text:c}),console.log("Current filters:",e),t(e)})});function t(r){let l=new URL(window.location);Object.keys(r).forEach(a=>{r[a]?l.searchParams.set(a,r[a]):l.searchParams.delete(a)}),window.location=l.toString()}function i(r){let l=document.querySelector(".product-grid");fetch(wpAjax.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(te({action:"filter_products"},r))}).then(a=>a.json()).then(a=>{a.success&&(l.innerHTML=a.data.html,updatePagination(a.data.pagination))}).catch(a=>{console.error("Filter error:",a)})}function n(){let r={};return s.forEach(l=>{let a=l.name,o=l.getValue();a&&o&&(r[a]=o)}),r}});typeof _e!="undefined"&&_e.exports&&(_e.exports=je);(function(){"use strict";let s=document.querySelectorAll(".manufacturer-tabs .tab-btn"),e=document.querySelectorAll(".manufacturer-tabs .tab-pane");s.length>0&&e.length>0&&(s.forEach(t=>{t.addEventListener("click",function(){let i=this.dataset.tab;s.forEach(n=>n.classList.remove("active")),this.classList.add("active"),e.forEach(n=>{n.classList.remove("active")}),setTimeout(()=>{let n=document.getElementById(i);n&&(n.classList.add("active"),n.scrollIntoView({behavior:"smooth",block:"nearest"}))},100)})}),s.forEach((t,i)=>{t.addEventListener("keydown",function(n){let r;n.key==="ArrowRight"?(n.preventDefault(),r=(i+1)%s.length,s[r].click(),s[r].focus()):n.key==="ArrowLeft"&&(n.preventDefault(),r=(i-1+s.length)%s.length,s[r].click(),s[r].focus())})}))})()});return Zi();})();
/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2Fvcy9kaXN0L2Fvcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbG96YWQvZGlzdC9sb3phZC5taW4uanMiLCAiLi4vLi4vc3JjL2pzL2hlbHBlci5qcyIsICIuLi8uLi9zcmMvanMvaGVhZGVyLmpzIiwgIi4uLy4uL3NyYy9qcy9oZXJvQmFubmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC91dGlscy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvc3dpcGVyLWNvcmUubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc3dpcGVyLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdmlydHVhbC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2tleWJvYXJkLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvbW91c2V3aGVlbC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9uYXZpZ2F0aW9uLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvcGFnaW5hdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3Njcm9sbGJhci5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL3BhcmFsbGF4Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvem9vbS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2NvbnRyb2xsZXIubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9hMTF5Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvaGlzdG9yeS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2hhc2gtbmF2aWdhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2F1dG9wbGF5Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvdGh1bWJzLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZnJlZS1tb2RlLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZ3JpZC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL21hbmlwdWxhdGlvbi5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LWluaXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWZhZGUubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9lZmZlY3QtY3ViZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1mbGlwLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWNvdmVyZmxvdy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jcmVhdGl2ZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1jYXJkcy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2luZGV4Lm1qcyIsICIuLi8uLi9zcmMvanMvc3dpcGVyLmpzIiwgIi4uLy4uL3NyYy9qcy9zaG9wRGV0YWlsLmpzIiwgIi4uLy4uL3NyYy9qcy9hYm91dC5qcyIsICIuLi8uLi9zcmMvanMvaG9tZS5qcyIsICIuLi8uLi9zcmMvY29tcG9uZW50cy9nbG9iYWwvU2hvcFRvb2xiYXIvU2hvcFRvb2xiYXIuanMiLCAiLi4vLi4vc3JjL2NvbXBvbmVudHMvZ2xvYmFsL1BvcHVwL1BvcHVwLmpzIiwgIi4uLy4uL3NyYy9qcy9tYWluLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkFPUz10KCk6ZS5BT1M9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobyl7aWYobltvXSlyZXR1cm4gbltvXS5leHBvcnRzO3ZhciBpPW5bb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiBlW29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5wPVwiZGlzdC9cIix0KDApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIG8gaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixvKSYmKGVbb109bltvXSl9cmV0dXJuIGV9LHI9bigxKSxhPShvKHIpLG4oNikpLHU9byhhKSxjPW4oNykscz1vKGMpLGY9big4KSxkPW8oZiksbD1uKDkpLHA9byhsKSxtPW4oMTApLGI9byhtKSx2PW4oMTEpLHk9byh2KSxnPW4oMTQpLGg9byhnKSx3PVtdLGs9ITEseD17b2Zmc2V0OjEyMCxkZWxheTowLGVhc2luZzpcImVhc2VcIixkdXJhdGlvbjo0MDAsZGlzYWJsZTohMSxvbmNlOiExLHN0YXJ0RXZlbnQ6XCJET01Db250ZW50TG9hZGVkXCIsdGhyb3R0bGVEZWxheTo5OSxkZWJvdW5jZURlbGF5OjUwLGRpc2FibGVNdXRhdGlvbk9ic2VydmVyOiExfSxqPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtpZihlJiYoaz0hMCksaylyZXR1cm4gdz0oMCx5LmRlZmF1bHQpKHcseCksKDAsYi5kZWZhdWx0KSh3LHgub25jZSksd30sTz1mdW5jdGlvbigpe3c9KDAsaC5kZWZhdWx0KSgpLGooKX0sTT1mdW5jdGlvbigpe3cuZm9yRWFjaChmdW5jdGlvbihlLHQpe2Uubm9kZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWFvc1wiKSxlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3MtZWFzaW5nXCIpLGUubm9kZS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWFvcy1kdXJhdGlvblwiKSxlLm5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1hb3MtZGVsYXlcIil9KX0sUz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PSEwfHxcIm1vYmlsZVwiPT09ZSYmcC5kZWZhdWx0Lm1vYmlsZSgpfHxcInBob25lXCI9PT1lJiZwLmRlZmF1bHQucGhvbmUoKXx8XCJ0YWJsZXRcIj09PWUmJnAuZGVmYXVsdC50YWJsZXQoKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpPT09ITB9LF89ZnVuY3Rpb24oZSl7eD1pKHgsZSksdz0oMCxoLmRlZmF1bHQpKCk7dmFyIHQ9ZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2I7cmV0dXJuIFMoeC5kaXNhYmxlKXx8dD9NKCk6KHguZGlzYWJsZU11dGF0aW9uT2JzZXJ2ZXJ8fGQuZGVmYXVsdC5pc1N1cHBvcnRlZCgpfHwoY29uc29sZS5pbmZvKCdcXG4gICAgICBhb3M6IE11dGF0aW9uT2JzZXJ2ZXIgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIsXFxuICAgICAgY29kZSBtdXRhdGlvbnMgb2JzZXJ2aW5nIGhhcyBiZWVuIGRpc2FibGVkLlxcbiAgICAgIFlvdSBtYXkgaGF2ZSB0byBjYWxsIFwicmVmcmVzaEhhcmQoKVwiIGJ5IHlvdXJzZWxmLlxcbiAgICAnKSx4LmRpc2FibGVNdXRhdGlvbk9ic2VydmVyPSEwKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1lYXNpbmdcIix4LmVhc2luZyksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtZHVyYXRpb25cIix4LmR1cmF0aW9uKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1kZWxheVwiLHguZGVsYXkpLFwiRE9NQ29udGVudExvYWRlZFwiPT09eC5zdGFydEV2ZW50JiZbXCJjb21wbGV0ZVwiLFwiaW50ZXJhY3RpdmVcIl0uaW5kZXhPZihkb2N1bWVudC5yZWFkeVN0YXRlKT4tMT9qKCEwKTpcImxvYWRcIj09PXguc3RhcnRFdmVudD93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih4LnN0YXJ0RXZlbnQsZnVuY3Rpb24oKXtqKCEwKX0pOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoeC5zdGFydEV2ZW50LGZ1bmN0aW9uKCl7aighMCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCgwLHMuZGVmYXVsdCkoaix4LmRlYm91bmNlRGVsYXksITApKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsKDAscy5kZWZhdWx0KShqLHguZGVib3VuY2VEZWxheSwhMCkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsKDAsdS5kZWZhdWx0KShmdW5jdGlvbigpeygwLGIuZGVmYXVsdCkodyx4Lm9uY2UpfSx4LnRocm90dGxlRGVsYXkpKSx4LmRpc2FibGVNdXRhdGlvbk9ic2VydmVyfHxkLmRlZmF1bHQucmVhZHkoXCJbZGF0YS1hb3NdXCIsTyksdyl9O2UuZXhwb3J0cz17aW5pdDpfLHJlZnJlc2g6aixyZWZyZXNoSGFyZDpPfX0sZnVuY3Rpb24oZSx0KXt9LCwsLCxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuKXtmdW5jdGlvbiBvKHQpe3ZhciBuPWIsbz12O3JldHVybiBiPXY9dm9pZCAwLGs9dCxnPWUuYXBwbHkobyxuKX1mdW5jdGlvbiByKGUpe3JldHVybiBrPWUsaD1zZXRUaW1lb3V0KGYsdCksTT9vKGUpOmd9ZnVuY3Rpb24gYShlKXt2YXIgbj1lLXcsbz1lLWssaT10LW47cmV0dXJuIFM/aihpLHktbyk6aX1mdW5jdGlvbiBjKGUpe3ZhciBuPWUtdyxvPWUtaztyZXR1cm4gdm9pZCAwPT09d3x8bj49dHx8bjwwfHxTJiZvPj15fWZ1bmN0aW9uIGYoKXt2YXIgZT1PKCk7cmV0dXJuIGMoZSk/ZChlKTp2b2lkKGg9c2V0VGltZW91dChmLGEoZSkpKX1mdW5jdGlvbiBkKGUpe3JldHVybiBoPXZvaWQgMCxfJiZiP28oZSk6KGI9dj12b2lkIDAsZyl9ZnVuY3Rpb24gbCgpe3ZvaWQgMCE9PWgmJmNsZWFyVGltZW91dChoKSxrPTAsYj13PXY9aD12b2lkIDB9ZnVuY3Rpb24gcCgpe3JldHVybiB2b2lkIDA9PT1oP2c6ZChPKCkpfWZ1bmN0aW9uIG0oKXt2YXIgZT1PKCksbj1jKGUpO2lmKGI9YXJndW1lbnRzLHY9dGhpcyx3PWUsbil7aWYodm9pZCAwPT09aClyZXR1cm4gcih3KTtpZihTKXJldHVybiBoPXNldFRpbWVvdXQoZix0KSxvKHcpfXJldHVybiB2b2lkIDA9PT1oJiYoaD1zZXRUaW1lb3V0KGYsdCkpLGd9dmFyIGIsdix5LGcsaCx3LGs9MCxNPSExLFM9ITEsXz0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iocyk7cmV0dXJuIHQ9dSh0KXx8MCxpKG4pJiYoTT0hIW4ubGVhZGluZyxTPVwibWF4V2FpdFwiaW4gbix5PVM/eCh1KG4ubWF4V2FpdCl8fDAsdCk6eSxfPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOl8pLG0uY2FuY2VsPWwsbS5mbHVzaD1wLG19ZnVuY3Rpb24gbyhlLHQsbyl7dmFyIHI9ITAsYT0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iocyk7cmV0dXJuIGkobykmJihyPVwibGVhZGluZ1wiaW4gbz8hIW8ubGVhZGluZzpyLGE9XCJ0cmFpbGluZ1wiaW4gbz8hIW8udHJhaWxpbmc6YSksbihlLHQse2xlYWRpbmc6cixtYXhXYWl0OnQsdHJhaWxpbmc6YX0pfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpjKGUpO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmMoZSkpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJzeW1ib2xcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YyhlKSl8fHIoZSkmJmsuY2FsbChlKT09ZH1mdW5jdGlvbiB1KGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGEoZSkpcmV0dXJuIGY7aWYoaShlKSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1pKHQpP3QrXCJcIjp0fWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiAwPT09ZT9lOitlO2U9ZS5yZXBsYWNlKGwsXCJcIik7dmFyIG49bS50ZXN0KGUpO3JldHVybiBufHxiLnRlc3QoZSk/dihlLnNsaWNlKDIpLG4/Mjo4KTpwLnRlc3QoZSk/ZjorZX12YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxzPVwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLGY9TmFOLGQ9XCJbb2JqZWN0IFN5bWJvbF1cIixsPS9eXFxzK3xcXHMrJC9nLHA9L15bLStdMHhbMC05YS1mXSskL2ksbT0vXjBiWzAxXSskL2ksYj0vXjBvWzAtN10rJC9pLHY9cGFyc2VJbnQseT1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpjKHQpKSYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQsZz1cIm9iamVjdFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/XCJ1bmRlZmluZWRcIjpjKHNlbGYpKSYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsaD15fHxnfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksdz1PYmplY3QucHJvdG90eXBlLGs9dy50b1N0cmluZyx4PU1hdGgubWF4LGo9TWF0aC5taW4sTz1mdW5jdGlvbigpe3JldHVybiBoLkRhdGUubm93KCl9O2UuZXhwb3J0cz1vfSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuKXtmdW5jdGlvbiBpKHQpe3ZhciBuPWIsbz12O3JldHVybiBiPXY9dm9pZCAwLE89dCxnPWUuYXBwbHkobyxuKX1mdW5jdGlvbiByKGUpe3JldHVybiBPPWUsaD1zZXRUaW1lb3V0KGYsdCksTT9pKGUpOmd9ZnVuY3Rpb24gdShlKXt2YXIgbj1lLXcsbz1lLU8saT10LW47cmV0dXJuIFM/eChpLHktbyk6aX1mdW5jdGlvbiBzKGUpe3ZhciBuPWUtdyxvPWUtTztyZXR1cm4gdm9pZCAwPT09d3x8bj49dHx8bjwwfHxTJiZvPj15fWZ1bmN0aW9uIGYoKXt2YXIgZT1qKCk7cmV0dXJuIHMoZSk/ZChlKTp2b2lkKGg9c2V0VGltZW91dChmLHUoZSkpKX1mdW5jdGlvbiBkKGUpe3JldHVybiBoPXZvaWQgMCxfJiZiP2koZSk6KGI9dj12b2lkIDAsZyl9ZnVuY3Rpb24gbCgpe3ZvaWQgMCE9PWgmJmNsZWFyVGltZW91dChoKSxPPTAsYj13PXY9aD12b2lkIDB9ZnVuY3Rpb24gcCgpe3JldHVybiB2b2lkIDA9PT1oP2c6ZChqKCkpfWZ1bmN0aW9uIG0oKXt2YXIgZT1qKCksbj1zKGUpO2lmKGI9YXJndW1lbnRzLHY9dGhpcyx3PWUsbil7aWYodm9pZCAwPT09aClyZXR1cm4gcih3KTtpZihTKXJldHVybiBoPXNldFRpbWVvdXQoZix0KSxpKHcpfXJldHVybiB2b2lkIDA9PT1oJiYoaD1zZXRUaW1lb3V0KGYsdCkpLGd9dmFyIGIsdix5LGcsaCx3LE89MCxNPSExLFM9ITEsXz0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoYyk7cmV0dXJuIHQ9YSh0KXx8MCxvKG4pJiYoTT0hIW4ubGVhZGluZyxTPVwibWF4V2FpdFwiaW4gbix5PVM/ayhhKG4ubWF4V2FpdCl8fDAsdCk6eSxfPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOl8pLG0uY2FuY2VsPWwsbS5mbHVzaD1wLG19ZnVuY3Rpb24gbyhlKXt2YXIgdD1cInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOnUoZSk7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBpKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6dShlKSl9ZnVuY3Rpb24gcihlKXtyZXR1cm5cInN5bWJvbFwiPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjp1KGUpKXx8aShlKSYmdy5jYWxsKGUpPT1mfWZ1bmN0aW9uIGEoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYocihlKSlyZXR1cm4gcztpZihvKGUpKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPW8odCk/dCtcIlwiOnR9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UoZCxcIlwiKTt2YXIgbj1wLnRlc3QoZSk7cmV0dXJuIG58fG0udGVzdChlKT9iKGUuc2xpY2UoMiksbj8yOjgpOmwudGVzdChlKT9zOitlfXZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGM9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIscz1OYU4sZj1cIltvYmplY3QgU3ltYm9sXVwiLGQ9L15cXHMrfFxccyskL2csbD0vXlstK10weFswLTlhLWZdKyQvaSxwPS9eMGJbMDFdKyQvaSxtPS9eMG9bMC03XSskL2ksYj1wYXJzZUludCx2PVwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOnUodCkpJiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCx5PVwib2JqZWN0XCI9PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj9cInVuZGVmaW5lZFwiOnUoc2VsZikpJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixnPXZ8fHl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxoPU9iamVjdC5wcm90b3R5cGUsdz1oLnRvU3RyaW5nLGs9TWF0aC5tYXgseD1NYXRoLm1pbixqPWZ1bmN0aW9uKCl7cmV0dXJuIGcuRGF0ZS5ub3coKX07ZS5leHBvcnRzPW59KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXt2YXIgdD12b2lkIDAsbz12b2lkIDAsaT12b2lkIDA7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrPTEpe2lmKG89ZVt0XSxvLmRhdGFzZXQmJm8uZGF0YXNldC5hb3MpcmV0dXJuITA7aWYoaT1vLmNoaWxkcmVuJiZuKG8uY2hpbGRyZW4pKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oKXtyZXR1cm4gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcn1mdW5jdGlvbiBpKCl7cmV0dXJuISFvKCl9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudCxpPW8oKSxyPW5ldyBpKGEpO3U9dCxyLm9ic2VydmUobi5kb2N1bWVudEVsZW1lbnQse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwLHJlbW92ZWROb2RlczohMH0pfWZ1bmN0aW9uIGEoZSl7ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuYWRkZWROb2Rlcyksbz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnJlbW92ZWROb2RlcyksaT10LmNvbmNhdChvKTtpZihuKGkpKXJldHVybiB1KCl9KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1mdW5jdGlvbigpe307dC5kZWZhdWx0PXtpc1N1cHBvcnRlZDppLHJlYWR5OnJ9fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhfHxcIlwifU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCkscj0vKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2ksYT0vMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaSx1PS8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaSxjPS8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7bih0aGlzLGUpfXJldHVybiBpKGUsW3trZXk6XCJwaG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bygpO3JldHVybiEoIXIudGVzdChlKSYmIWEudGVzdChlLnN1YnN0cigwLDQpKSl9fSx7a2V5OlwibW9iaWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1vKCk7cmV0dXJuISghdS50ZXN0KGUpJiYhYy50ZXN0KGUuc3Vic3RyKDAsNCkpKX19LHtrZXk6XCJ0YWJsZXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vYmlsZSgpJiYhdGhpcy5waG9uZSgpfX1dKSxlfSgpO3QuZGVmYXVsdD1uZXcgc30sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlLHQsbil7dmFyIG89ZS5ub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLW9uY2VcIik7dD5lLnBvc2l0aW9uP2Uubm9kZS5jbGFzc0xpc3QuYWRkKFwiYW9zLWFuaW1hdGVcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG8mJihcImZhbHNlXCI9PT1vfHwhbiYmXCJ0cnVlXCIhPT1vKSYmZS5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoXCJhb3MtYW5pbWF0ZVwiKX0sbz1mdW5jdGlvbihlLHQpe3ZhciBvPXdpbmRvdy5wYWdlWU9mZnNldCxpPXdpbmRvdy5pbm5lckhlaWdodDtlLmZvckVhY2goZnVuY3Rpb24oZSxyKXtuKGUsaStvLHQpfSl9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigxMikscj1vKGkpLGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7ZS5ub2RlLmNsYXNzTGlzdC5hZGQoXCJhb3MtaW5pdFwiKSxlLnBvc2l0aW9uPSgwLHIuZGVmYXVsdCkoZS5ub2RlLHQub2Zmc2V0KX0pLGV9O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigxMykscj1vKGkpLGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLG89MCxpPXdpbmRvdy5pbm5lckhlaWdodCxhPXtvZmZzZXQ6ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFvcy1vZmZzZXRcIiksYW5jaG9yOmUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hb3MtYW5jaG9yXCIpLGFuY2hvclBsYWNlbWVudDplLmdldEF0dHJpYnV0ZShcImRhdGEtYW9zLWFuY2hvci1wbGFjZW1lbnRcIil9O3N3aXRjaChhLm9mZnNldCYmIWlzTmFOKGEub2Zmc2V0KSYmKG89cGFyc2VJbnQoYS5vZmZzZXQpKSxhLmFuY2hvciYmZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhLmFuY2hvcikmJihlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYS5hbmNob3IpWzBdKSxuPSgwLHIuZGVmYXVsdCkoZSkudG9wLGEuYW5jaG9yUGxhY2VtZW50KXtjYXNlXCJ0b3AtYm90dG9tXCI6YnJlYWs7Y2FzZVwiY2VudGVyLWJvdHRvbVwiOm4rPWUub2Zmc2V0SGVpZ2h0LzI7YnJlYWs7Y2FzZVwiYm90dG9tLWJvdHRvbVwiOm4rPWUub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2VcInRvcC1jZW50ZXJcIjpuKz1pLzI7YnJlYWs7Y2FzZVwiYm90dG9tLWNlbnRlclwiOm4rPWkvMitlLm9mZnNldEhlaWdodDticmVhaztjYXNlXCJjZW50ZXItY2VudGVyXCI6bis9aS8yK2Uub2Zmc2V0SGVpZ2h0LzI7YnJlYWs7Y2FzZVwidG9wLXRvcFwiOm4rPWk7YnJlYWs7Y2FzZVwiYm90dG9tLXRvcFwiOm4rPWUub2Zmc2V0SGVpZ2h0K2k7YnJlYWs7Y2FzZVwiY2VudGVyLXRvcFwiOm4rPWUub2Zmc2V0SGVpZ2h0LzIraX1yZXR1cm4gYS5hbmNob3JQbGFjZW1lbnR8fGEub2Zmc2V0fHxpc05hTih0KXx8KG89dCksbitvfTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPTA7ZSYmIWlzTmFOKGUub2Zmc2V0TGVmdCkmJiFpc05hTihlLm9mZnNldFRvcCk7KXQrPWUub2Zmc2V0TGVmdC0oXCJCT0RZXCIhPWUudGFnTmFtZT9lLnNjcm9sbExlZnQ6MCksbis9ZS5vZmZzZXRUb3AtKFwiQk9EWVwiIT1lLnRhZ05hbWU/ZS5zY3JvbGxUb3A6MCksZT1lLm9mZnNldFBhcmVudDtyZXR1cm57dG9wOm4sbGVmdDp0fX07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWFvc11cIiksQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGUsZnVuY3Rpb24oZSl7cmV0dXJue25vZGU6ZX19KX07dC5kZWZhdWx0PW59XSl9KTsiLCAiLyohIGxvemFkLmpzIC0gdjEuMTYuMCAtIDIwMjAtMDktMDZcbiogaHR0cHM6Ly9naXRodWIuY29tL0Fwb29ydlNheGVuYS9sb3phZC5qc1xuKiBDb3B5cmlnaHQgKGMpIDIwMjAgQXBvb3J2IFNheGVuYTsgTGljZW5zZWQgTUlUICovXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTp0LmxvemFkPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO1xuLyoqXG4gICAqIERldGVjdCBJRSBicm93c2VyXG4gICAqIEBjb25zdCB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovdmFyIGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudE1vZGUsZj17cm9vdE1hcmdpbjpcIjBweFwiLHRocmVzaG9sZDowLGxvYWQ6ZnVuY3Rpb24odCl7aWYoXCJwaWN0dXJlXCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPXQucXVlcnlTZWxlY3RvcihcImltZ1wiKSxyPSExO251bGw9PT1lJiYoZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLHI9ITApLGcmJnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZXNyY1wiKSYmKGUuc3JjPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZXNyY1wiKSksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFsdFwiKSYmKGUuYWx0PXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hbHRcIikpLHImJnQuYXBwZW5kKGUpfWlmKFwidmlkZW9cIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmIXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zcmNcIikmJnQuY2hpbGRyZW4pe2Zvcih2YXIgYT10LmNoaWxkcmVuLG89dm9pZCAwLGk9MDtpPD1hLmxlbmd0aC0xO2krKykobz1hW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpKSYmKGFbaV0uc3JjPW8pO3QubG9hZCgpfXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wb3N0ZXJcIikmJih0LnBvc3Rlcj10LmdldEF0dHJpYnV0ZShcImRhdGEtcG9zdGVyXCIpKSx0LmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpJiYodC5zcmM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY3NldFwiKSYmdC5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix0LmdldEF0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpKTt2YXIgbj1cIixcIjtpZih0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1kZWxpbWl0ZXJcIikmJihuPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWRlbGltaXRlclwiKSksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtaW1hZ2VcIikpdC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoJ1wiK3QuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWltYWdlXCIpLnNwbGl0KG4pLmpvaW4oXCInKSx1cmwoJ1wiKStcIicpXCI7ZWxzZSBpZih0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1pbWFnZS1zZXRcIikpe3ZhciBkPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWltYWdlLXNldFwiKS5zcGxpdChuKSx1PWRbMF0uc3Vic3RyKDAsZFswXS5pbmRleE9mKFwiIFwiKSl8fGRbMF07Ly8gU3Vic3RyaW5nIGJlZm9yZSAuLi4gMXhcbnU9LTE9PT11LmluZGV4T2YoXCJ1cmwoXCIpP1widXJsKFwiK3UrXCIpXCI6dSwxPT09ZC5sZW5ndGg/dC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9dTp0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsKHQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpK1wiYmFja2dyb3VuZC1pbWFnZTogXCIrdStcIjsgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1pbWFnZS1zZXQoXCIrZCtcIik7IGJhY2tncm91bmQtaW1hZ2U6IGltYWdlLXNldChcIitkK1wiKVwiKX10LmdldEF0dHJpYnV0ZShcImRhdGEtdG9nZ2xlLWNsYXNzXCIpJiZ0LmNsYXNzTGlzdC50b2dnbGUodC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZS1jbGFzc1wiKSl9LGxvYWRlZDpmdW5jdGlvbigpe319O2Z1bmN0aW9uIEEodCl7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxvYWRlZFwiLCEwKX12YXIgbT1mdW5jdGlvbih0KXtyZXR1cm5cInRydWVcIj09PXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sb2FkZWRcIil9LHY9ZnVuY3Rpb24odCl7dmFyIGU9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmRvY3VtZW50O3JldHVybiB0IGluc3RhbmNlb2YgRWxlbWVudD9bdF06dCBpbnN0YW5jZW9mIE5vZGVMaXN0P3Q6ZS5xdWVyeVNlbGVjdG9yQWxsKHQpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixhLG89MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiLmxvemFkXCIsdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sZT1PYmplY3QuYXNzaWduKHt9LGYsdCksaT1lLnJvb3Qsbj1lLnJvb3RNYXJnaW4sZD1lLnRocmVzaG9sZCx1PWUubG9hZCxnPWUubG9hZGVkLHM9dm9pZCAwO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlciYmKHM9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChyPXUsYT1nLGZ1bmN0aW9uKHQsZSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpeygwPHQuaW50ZXJzZWN0aW9uUmF0aW98fHQuaXNJbnRlcnNlY3RpbmcpJiYoZS51bm9ic2VydmUodC50YXJnZXQpLG0odC50YXJnZXQpfHwocih0LnRhcmdldCksQSh0LnRhcmdldCksYSh0LnRhcmdldCkpKX0pfSkse3Jvb3Q6aSxyb290TWFyZ2luOm4sdGhyZXNob2xkOmR9KSk7Zm9yKHZhciBjLGw9dihvLGkpLGI9MDtiPGwubGVuZ3RoO2IrKykoYz1sW2JdKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyLWJhY2tncm91bmRcIikmJihjLnN0eWxlLmJhY2tncm91bmQ9Yy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyLWJhY2tncm91bmRcIikpO3JldHVybntvYnNlcnZlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXYobyxpKSxlPTA7ZTx0Lmxlbmd0aDtlKyspbSh0W2VdKXx8KHM/cy5vYnNlcnZlKHRbZV0pOih1KHRbZV0pLEEodFtlXSksZyh0W2VdKSkpfSx0cmlnZ2VyTG9hZDpmdW5jdGlvbih0KXttKHQpfHwodSh0KSxBKHQpLGcodCkpfSxvYnNlcnZlcjpzfX19KTtcbiIsICJleHBvcnQgZnVuY3Rpb24gc2V0QmFja2dyb3VuZEVsZW1lbnQoKSB7XHJcbiAgJChcIltzZXRCYWNrZ3JvdW5kXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYWNrZ3JvdW5kID0gJCh0aGlzKS5hdHRyKFwic2V0QmFja2dyb3VuZFwiKTtcclxuICAgICQodGhpcykuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCI6IFwidXJsKFwiICsgYmFja2dyb3VuZCArIFwiKVwiLFxyXG4gICAgICBcImJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXHJcbiAgICAgIFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOiBcImNlbnRlciBjZW50ZXJcIixcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDbG9zZUVsZW1lbnQoeyBib3gsIGJ1dHRvbiwgZnVuY0Nsb3NlIH0pIHtcclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgICEkKGUudGFyZ2V0KS5jbG9zZXN0KGJveCkubGVuZ3RoICYmXHJcbiAgICAgICEkKGUudGFyZ2V0KS5pcyhidXR0b24pICYmXHJcbiAgICAgICEkKGUudGFyZ2V0KS5jbG9zZXN0KGJ1dHRvbikubGVuZ3RoXHJcbiAgICApIHtcclxuICAgICAgZnVuY0Nsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgLy8gZXNjXHJcbiAgJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICBmdW5jQ2xvc2UoKTtcclxuICAgIH1cclxuICB9KTtcclxuICAvLyBvdmVybGF5LWJsdXJcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gYnV0dG9uVG9Ub3AoKSB7XHJcbiAgbGV0IHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuICAkKGRvY3VtZW50KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4gICAgbGV0IGRvY3VtZW50SGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XHJcbiAgICBpZiAoc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0ID4gZG9jdW1lbnRIZWlnaHQgLSB3aW5kb3dIZWlnaHQpIHtcclxuICAgICAgJChcIi5idXR0b24tdG8tdG9wXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChcIi5idXR0b24tdG8tdG9wXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuYnV0dG9uLXRvLXRvcFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlSXRlbSgpIHtcclxuICBjb25zdCBub2RlUGFyZW50ID0gJChcIi53cmFwLWl0ZW0tdG9nZ2xlXCIpO1xyXG4gIGNvbnN0IG5vZGVJdGVtID0gbm9kZVBhcmVudC5maW5kKFwiLml0ZW0tdG9nZ2xlXCIpO1xyXG4gIGNvbnN0IG5vZGVUaXRsZSA9IG5vZGVJdGVtLmZpbmQoXCIudGl0bGVcIik7XHJcbiAgbm9kZVRpdGxlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKVxyXG4gICAgICAudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIilcclxuICAgICAgLm5leHQoKVxyXG4gICAgICAuc2xpZGVUb2dnbGUoKVxyXG4gICAgICAuY2xvc2VzdChcIi5pdGVtLXRvZ2dsZVwiKVxyXG4gICAgICAuc2libGluZ3MoKVxyXG4gICAgICAuZmluZChcIi50aXRsZVwiKVxyXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxuICAgICAgLm5leHQoKVxyXG4gICAgICAuc2xpZGVVcCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFjY29yZGlvbigpIHtcclxuICBjb25zdCAkYWNjb3JkaW9uID0gJChcIi5hY2NvcmRpb24tY29udGFpbmVyXCIpO1xyXG4gIGlmICgkYWNjb3JkaW9uLmxlbmd0aCkge1xyXG4gICAgY29uc3QgJGl0ZW1zID0gJGFjY29yZGlvbi5maW5kKFwiLmFjY29yZGlvbi1pdGVtXCIpO1xyXG5cclxuICAgIC8vIERlc2t0b3AgaG92ZXJcclxuICAgICRpdGVtcy5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMTAyNCkge1xyXG4gICAgICAgICRpdGVtcy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNb2JpbGUgY2xpY2tcclxuICAgICRpdGVtcy5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTAyNCkge1xyXG4gICAgICAgICRpdGVtcy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBwYXJlbnQsIGNoaWxkcmVuLCBpdGVtLCBidXR0b24sIGluaXRJdGVtXHJcbiAqIEBwYXJhbSB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW19IGxpc3ROb2RlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZnVuY0V4cGFuZENvbnRlbnQobGlzdE5vZGUpIHtcclxuICBjb25zdCB7IHBhcmVudCwgY2hpbGRyZW4sIGl0ZW0sIGJ1dHRvbiwgaW5pdEl0ZW0sIGdhcCA9IDAgfSA9IGxpc3ROb2RlO1xyXG4gIGlmICghJChwYXJlbnQpLmxlbmd0aCkgcmV0dXJuO1xyXG4gIGxldCBpdGVtSGVpZ2h0ID0gJChpdGVtKS5vdXRlckhlaWdodCgpO1xyXG4gIGxldCBnYXBDYWxjdWxhdGUgPSBnYXBcclxuICAgID8gTnVtYmVyKCQocGFyZW50KS5maW5kKGNoaWxkcmVuKS5jc3MoXCJjb2x1bW4tZ2FwXCIpLnNsaWNlKDAsIC0yKSkgKiBnYXBcclxuICAgIDogMDtcclxuICBsZXQgaW5pdEhlaWdodCA9IGl0ZW1IZWlnaHQgKiBpbml0SXRlbSArIGdhcENhbGN1bGF0ZTtcclxuICBsZXQgb3JpZ2luYWxIZWlnaHQgPSAkKHBhcmVudCkuZmluZChjaGlsZHJlbikub3V0ZXJIZWlnaHQoKTtcclxuICBpZiAob3JpZ2luYWxIZWlnaHQgPCBpbml0SGVpZ2h0KSB7XHJcbiAgICAkKGJ1dHRvbikucmVtb3ZlKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgaW5pdEhlaWdodCk7XHJcbiAgfVxyXG4gICQoYnV0dG9uKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZXhwYW5kXCIpKSB7XHJcbiAgICAgICQocGFyZW50KS5jc3MoXCJoZWlnaHRcIiwgaW5pdEhlaWdodCk7XHJcbiAgICAgICQodGhpcykuZmluZChcInNwYW5cIikudGV4dChcIlhlbSB0aFx1MDBFQW1cIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKHBhcmVudCkuY3NzKFwiaGVpZ2h0XCIsIG9yaWdpbmFsSGVpZ2h0KTtcclxuICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIC8vIFx0JChwYXJlbnQpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIik7XHJcbiAgICAgIC8vIH0sIDEwMDApO1xyXG4gICAgICAkKHRoaXMpLmZpbmQoXCJzcGFuXCIpLnRleHQoXCJSXHUwMEZBdCBnXHUxRUNEblwiKTtcclxuICAgIH1cclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJleHBhbmRcIik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja1Njcm9sbFRvRGl2KG5vZGVFbGUsIGhlaWdodFNwYWNpbmcgPSAoKSA9PiB7fSkge1xyXG4gICQobm9kZUVsZSkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGxldCBoZWlnaHQgPSAwO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgaWYgKGhlaWdodFNwYWNpbmcpIHtcclxuICAgICAgaGVpZ2h0ID0gaGVpZ2h0U3BhY2luZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGVpZ2h0ID0gMDtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmhhc2ggIT09IFwiXCIpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGhhc2ggPSB0aGlzLmhhc2g7XHJcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2Nyb2xsVG9wOiAkKGhhc2gpLm9mZnNldCgpLnRvcCAtIGhlaWdodCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIDgwMFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2FwdGNoYUFTUCgpIHtcclxuICBpZiAoISQoXCIjY3RsMDBfbWFpbkNvbnRlbnRfY3RsMDFfcG5sRm9ybVdpemFyZFwiKS5sZW5ndGgpIHJldHVybjtcclxuICAvLyBTZWxlY3QgdGhlIGRpdiBlbGVtZW50IHlvdSB3YW50IHRvIG9ic2VydmVcclxuICBjb25zdCBteURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNjdGwwMF9tYWluQ29udGVudF9jdGwwMV9wbmxGb3JtV2l6YXJkXCJcclxuICApO1xyXG4gIC8vIENyZWF0ZSBhIG5ldyBNdXRhdGlvbk9ic2VydmVyIG9iamVjdFxyXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xyXG4gICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiUnVuXCIpO1xyXG4gICAgICBhcHBlbmRDYXB0Y2hhKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICAvLyBDb25maWd1cmUgdGhlIG9ic2VydmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyB0byB0aGUgXCJjbGFzc1wiIGF0dHJpYnV0ZVxyXG4gIGNvbnN0IGNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH07XHJcbiAgLy8gU3RhcnQgb2JzZXJ2aW5nIHRoZSB0YXJnZXQgZGl2IGVsZW1lbnRcclxuICBvYnNlcnZlci5vYnNlcnZlKG15RGl2LCBjb25maWcpO1xyXG4gIGZ1bmN0aW9uIGFwcGVuZENhcHRjaGEoKSB7XHJcbiAgICAkKFwiLmZvcm0tZ3JvdXAuZnJtLWNhcHRjaGFcIikuYXBwZW5kVG8oXCIud3JhcC1mb3JtLXN1Ym1pdFwiKTtcclxuICAgICQoXCIuZm9ybS1ncm91cC5mcm0tYnRud3JhcFwiKS5hcHBlbmRUbyhcIi53cmFwLWZvcm0tc3VibWl0XCIpO1xyXG4gIH1cclxuICBhcHBlbmRDYXB0Y2hhKCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTdmdJbWFnZXMoKSB7XHJcbiAgJChcIi5pbWctc3ZnXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgJGltZyA9ICQodGhpcyk7XHJcbiAgICBjb25zdCBpbWdVUkwgPSAkaW1nLmF0dHIoXCJzcmNcIik7XHJcbiAgICBjb25zdCBpbWdDbGFzcyA9ICRpbWcuYXR0cihcImNsYXNzXCIpO1xyXG4gICAgY29uc3QgaW1nV2lkdGggPSAkaW1nLmF0dHIoXCJ3aWR0aFwiKTtcclxuICAgIGNvbnN0IGltZ0hlaWdodCA9ICRpbWcuYXR0cihcImhlaWdodFwiKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IGltZ1VSTCxcclxuICAgICAgZGF0YVR5cGU6IFwidGV4dFwiLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc3ZnQ29udGVudCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBkaXYgdG8gaG9sZCB0aGUgU1ZHIGNvbnRlbnRcclxuICAgICAgICBjb25zdCAkc3ZnRGl2ID0gJChcIjxkaXY+XCIpLmh0bWwoc3ZnQ29udGVudCk7XHJcbiAgICAgICAgY29uc3QgJHN2ZyA9ICRzdmdEaXYuZmluZChcInN2Z1wiKTtcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgb3JpZ2luYWwgaW1hZ2UgYXR0cmlidXRlcyB0byBTVkdcclxuICAgICAgICBpZiAoaW1nQ2xhc3MpIHtcclxuICAgICAgICAgICRzdmcuYWRkQ2xhc3MoaW1nQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgaW1hZ2Ugd2l0aCB0aGUgU1ZHXHJcbiAgICAgICAgJGltZy5yZXBsYWNlV2l0aCgkc3ZnKTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBTVkc6XCIsIGVycm9yKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRpY2F0b3JTbGlkZSgpIHtcclxuICBpZiAoJChcIi5pbmRpY2F0b3Itc3dpcGVcIikubGVuZ3RoID4gMCkge1xyXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVudHJpZXMpIHtcclxuICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xyXG4gICAgdmFyIGFuaW1hdGlvbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbmRpY2F0b3Itc3dpcGVcIik7XHJcbiAgICBhbmltYXRpb25JdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3VudFVwSW5pdCgpIHtcclxuICBjb25zdCBjb3VudFVwRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvdW50dXBcIik7XHJcbiAgbGV0IGNvdW50VXA7XHJcbiAgY291bnRVcEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldE51bWJlciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1iZXJcIik7XHJcbiAgICAvLyBDaGVjayBpZiBudW1iZXIgaXMgZGVjaW1hbCB2YWx1ZXNcclxuICAgIGNvbnN0IGlzX2RlY2ltYWwgPSB0YXJnZXROdW1iZXI/LmluY2x1ZGVzKFwiLlwiKTtcclxuICAgIGNvdW50VXAgPSBuZXcgQ291bnRVcChlbGVtZW50LCB0YXJnZXROdW1iZXIsIHtcclxuICAgICAgZHVyYXRpb246IDQsXHJcbiAgICAgIHNlcGFyYXRvcjogXCIuXCIsXHJcbiAgICAgIGRlY2ltYWw6IFwiLFwiLFxyXG4gICAgICBlbmFibGVTY3JvbGxTcHk6IHRydWUsXHJcbiAgICAgIGRlY2ltYWxQbGFjZXM6IGlzX2RlY2ltYWwgPyAyIDogMCxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFjb3VudFVwLmVycm9yKSB7XHJcbiAgICAgIGNvdW50VXAuc3RhcnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoY291bnRVcC5lcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc2V0OiAoKSA9PiB7XHJcbiAgICAgIGNvdW50VXAucmVzZXQoKTtcclxuICAgIH0sXHJcbiAgICBzdGFydDogKCkgPT4ge1xyXG4gICAgICBjb3VudFVwLnN0YXJ0KCk7XHJcbiAgICB9LFxyXG4gIH07XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHN0aWNrRWxlbWVudFRvRWRnZSgpIHtcclxuICB2YXIgdGFyZ2V0ID0gJChcIltzdGljay10by1lZGdlXVwiKTtcclxuICB0YXJnZXQuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICBjb25zdCBlZGdlUG9zaXRpb24gPSAkdGhpcy5hdHRyKFwiZWRnZS1wbGFjZW1lbnRcIikgPyBcImlubmVyXCIgOiBcInNjcmVlblwiO1xyXG4gICAgY29uc3QgcG9zaXRpb24gPSAkdGhpcy5hdHRyKFwic3RpY2stdG8tZWRnZVwiKTtcclxuICAgIGNvbnN0IHVuc3RpY2sgPSAkdGhpcy5hdHRyKFwidW5zdGljay1taW5cIikgfHwgMTIwMDtcclxuICAgIGxldCBvZmZzZXQgPSAoJCh3aW5kb3cpLndpZHRoKCkgLSAkKFwiLmRlZmF1bHQtY29udGFpbmVyLWpzXCIpLndpZHRoKCkpIC8gMjtcclxuICAgIGlmIChlZGdlUG9zaXRpb24gPT09IFwiaW5uZXJcIikge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgJHRoaXMuY2xvc2VzdChcIi5jb250YWluZXJcIikgJiZcclxuICAgICAgICAkdGhpcy5jbG9zZXN0KFwiLmNvbnRhaW5lclwiKS5jbG9zZXN0KFwiLmNvbnRhaW5lci1mbHVpZFwiKVxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCBuZXdPZmZzZXQgPSBNYXRoLmFicyhcclxuICAgICAgICAgICQoXCIud2lkZS1jb250YWluZXItanNcIikub2Zmc2V0KCkubGVmdCAtXHJcbiAgICAgICAgICAgICQoXCIuZGVmYXVsdC1jb250YWluZXItanNcIikub2Zmc2V0KCkubGVmdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgb2Zmc2V0ID0gbmV3T2Zmc2V0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocG9zaXRpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgXCJtYXJnaW4tbGVmdFwiOiBgLSR7b2Zmc2V0fXB4YCxcclxuICAgICAgICBcIi0tbWxcIjogYCR7TWF0aC5hYnMob2Zmc2V0KX1gLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChwb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgXCJtYXJnaW4tcmlnaHRcIjogYC0ke29mZnNldH1weGAsXHJcbiAgICAgICAgXCItLW1yXCI6IGAke01hdGguYWJzKG9mZnNldCl9YCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCB1bnN0aWNrKSB7XHJcbiAgICAgICR0aGlzLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcclxuICAgICAgJHRoaXMuY3NzKHtcclxuICAgICAgICBcIi0tbWxcIjogXCIwXCIsXHJcbiAgICAgICAgXCItLW1yXCI6IFwiMFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWVudVNweSgpIHtcclxuICB2YXIgZWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtZW51LXNweVwiKTtcclxuICBsZXQgZGVib3VuY2VUaW1lcjtcclxuICBsZXQgaXNBY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgdmFyIG1zID0gbmV3IE1lbnVTcHkoZWxtLCB7XHJcbiAgICBhY3RpdmVDbGFzczogXCJhY3RpdmVcIixcclxuICAgIHRocmVzaG9sZDogMzAwLFxyXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjdXJyZW50SXRlbSkge1xyXG4gICAgICBjb25zdCBub2RlUGFyZW50ID0gJChcIi5zZWN0aW9uLXNjcm9sbFRvLWFjdGl2ZVwiKTtcclxuICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZXIpO1xyXG4gICAgICBpc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgIGRlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKG5vZGVQYXJlbnQpLnNjcm9sbFRvKFwibGkuYWN0aXZlXCIsIDgwMCk7XHJcbiAgICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG59XHJcbiIsICIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSEVBREVSIE1PRFVMRVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBoZWFkZXIgPSB7XHJcbiAgaW5pdDogKCkgPT4ge1xyXG4gICAgY29uc3QgaGVhZGVyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuICAgIGlmICghaGVhZGVyRWwpIHJldHVybjtcclxuXHJcbiAgICBsZXQgbGFzdFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBTdGlja3kgSGVhZGVyIG9uIFNjcm9sbFxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50U2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgICAgaWYgKGN1cnJlbnRTY3JvbGxZID4gNTApIHtcclxuICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QuYWRkKFwic2Nyb2xsZWRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyRWwuY2xhc3NMaXN0LnJlbW92ZShcInNjcm9sbGVkXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsYXN0U2Nyb2xsWSA9IGN1cnJlbnRTY3JvbGxZO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xyXG4gICAgaGFuZGxlU2Nyb2xsKCk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLy8gRGVza3RvcCBNZWdhIE1lbnUgLSBDbGljayBUb2dnbGVcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLmhlYWRlciAubWVudS1pdGVtLmhhcy1kcm9wZG93blwiXHJcbiAgICApO1xyXG5cclxuICAgIG1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiAuaGVhZGVyLWxpbmtcIik7XHJcblxyXG4gICAgICBpZiAobGluaykge1xyXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpdGVtIGlzIGFscmVhZHkgYWN0aXZlXHJcbiAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgIC8vIENsb3NlIGFsbCBvdGhlciBtZW51c1xyXG4gICAgICAgICAgbWVudUl0ZW1zLmZvckVhY2goKG90aGVySXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBvdGhlckl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIFRvZ2dsZSBjdXJyZW50IG1lbnVcclxuICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QuYWRkKFwibWVudS1vcGVuXCIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGVhZGVyRWwuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnUtb3BlblwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ2xvc2UgbWVnYSBtZW51IHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdChcIi5oZWFkZXIgLm1lbnUtaXRlbS5oYXMtZHJvcGRvd25cIikpIHtcclxuICAgICAgICBtZW51SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKFwibWVudS1vcGVuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBNZWdhIE1lbnUgLSBTdWJtZW51IExldmVsIDIgVG9nZ2xlXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBzdWJtZW51VG9nZ2xlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLm1lZ2EtbWVudSAubWVudS1saXN0IC5oYXMtc3VibWVudSA+IGFcIlxyXG4gICAgKTtcclxuXHJcbiAgICBzdWJtZW51VG9nZ2xlcy5mb3JFYWNoKCh0b2dnbGUpID0+IHtcclxuICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0b2dnbGUuY2xvc2VzdChcIi5oYXMtc3VibWVudVwiKTtcclxuXHJcbiAgICAgICAgLy8gVG9nZ2xlIGFjdGl2ZSBzdGF0ZVxyXG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vIE1vYmlsZSBIYW1idXJnZXIgVG9nZ2xlXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBoYW1idXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1oYW1idXJnZXJcIik7XHJcbiAgICBjb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbWVudVwiKTtcclxuICAgIGNvbnN0IG1vYmlsZU1lbnVDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnUtY2xvc2VcIik7XHJcbiAgICBjb25zdCBtb2JpbGVNZW51T3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnUtb3ZlcmxheVwiKTtcclxuXHJcbiAgICBjb25zdCBvcGVuTW9iaWxlTWVudSA9ICgpID0+IHtcclxuICAgICAgaGFtYnVyZ2VyPy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICBtb2JpbGVNZW51Py5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJvdmVyZmxvdy1oaWRkZW5cIik7XHJcblxyXG4gICAgICAvLyBPcGVuIGZpcnN0IGNhdGVnb3J5IGJ5IGRlZmF1bHRcclxuICAgICAgY29uc3QgZmlyc3RDYXRlZ29yeSA9IG1vYmlsZU1lbnU/LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1pdGVtLmlzLWNhdGVnb3J5XCIpO1xyXG4gICAgICBpZiAoZmlyc3RDYXRlZ29yeSAmJiAhZmlyc3RDYXRlZ29yeS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICBmaXJzdENhdGVnb3J5LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY2xvc2VNb2JpbGVNZW51ID0gKCkgPT4ge1xyXG4gICAgICBoYW1idXJnZXI/LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgIG1vYmlsZU1lbnU/LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJmbG93LWhpZGRlblwiKTtcclxuICAgIH07XHJcblxyXG4gICAgaGFtYnVyZ2VyPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAobW9iaWxlTWVudT8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgY2xvc2VNb2JpbGVNZW51KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3Blbk1vYmlsZU1lbnUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbW9iaWxlTWVudUNsb3NlPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2JpbGVNZW51KTtcclxuICAgIG1vYmlsZU1lbnVPdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2JpbGVNZW51KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBNb2JpbGUgTWVudSAtIENhdGVnb3J5IFRvZ2dsZSAoc3VibWVudS10b2dnbGUgYnV0dG9uKVxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgY29uc3QgbW9iaWxlU3VibWVudVRvZ2dsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5tb2JpbGUtbWVudSAuc3VibWVudS10b2dnbGVcIlxyXG4gICAgKTtcclxuXHJcbiAgICBtb2JpbGVTdWJtZW51VG9nZ2xlcy5mb3JFYWNoKCh0b2dnbGUpID0+IHtcclxuICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBtZW51SXRlbSA9IHRvZ2dsZS5jbG9zZXN0KFwiLm1lbnUtaXRlbVwiKTtcclxuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IG1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgLy8gVG9nZ2xlIGN1cnJlbnQgKGtoXHUwMEY0bmcgXHUwMTExXHUwMEYzbmcgc2libGluZ3MgXHUwMTExXHUxRUMzIGNobyBwaFx1MDBFOXAgbVx1MUVERiBuaGlcdTFFQzF1IGNcdTAwRjluZyBsXHUwMEZBYyBuaFx1MDFCMCB0aGlcdTFFQkZ0IGtcdTFFQkYpXHJcbiAgICAgICAgbWVudUl0ZW0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiLCAhaXNBY3RpdmUpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vIE1vYmlsZSBNZW51IC0gQ2F0ZWdvcnkgVGl0bGUgQ2xpY2sgVG9nZ2xlXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBjYXRlZ29yeVRpdGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLm1vYmlsZS1tZW51IC5jYXRlZ29yeS10aXRsZVwiXHJcbiAgICApO1xyXG5cclxuICAgIGNhdGVnb3J5VGl0bGVzLmZvckVhY2goKHRpdGxlKSA9PiB7XHJcbiAgICAgIHRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBtZW51SXRlbSA9IHRpdGxlLmNsb3Nlc3QoXCIubWVudS1pdGVtXCIpO1xyXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gbWVudUl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAvLyBUb2dnbGUgY3VycmVudFxyXG4gICAgICAgIG1lbnVJdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIiwgIWlzQWN0aXZlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBNb2JpbGUgTWVudSAtIE5lc3RlZCBTdWJtZW51IFRvZ2dsZSAoTGV2ZWwgMilcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IG1vYmlsZU5lc3RlZFRvZ2dsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5tb2JpbGUtbWVudSAuc3ViLW1lbnUgLmhhcy1zdWJtZW51ID4gYVwiXHJcbiAgICApO1xyXG5cclxuICAgIG1vYmlsZU5lc3RlZFRvZ2dsZXMuZm9yRWFjaCgodG9nZ2xlKSA9PiB7XHJcbiAgICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgbWVudUl0ZW0gPSB0b2dnbGUuY2xvc2VzdChcIi5tZW51LWl0ZW1cIik7XHJcbiAgICAgICAgbWVudUl0ZW0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBTZWFyY2ggT3ZlcmxheSBUb2dnbGVcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyIC5zZWFyY2gtYnRuXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLXNlYXJjaC1vdmVybGF5XCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5oZWFkZXItc2VhcmNoLW92ZXJsYXkgLnNlYXJjaC1jbG9zZVwiXHJcbiAgICApO1xyXG4gICAgY29uc3Qgc2VhcmNoQmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1vdmVybGF5LWJhY2tkcm9wXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5oZWFkZXItc2VhcmNoLW92ZXJsYXkgLnNlYXJjaC1pbnB1dFwiXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IG9wZW5TZWFyY2ggPSAoKSA9PiB7XHJcbiAgICAgIHNlYXJjaE92ZXJsYXk/LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIm92ZXJmbG93LWhpZGRlblwiKTtcclxuXHJcbiAgICAgIC8vIEZvY3VzIGlucHV0IGFmdGVyIGFuaW1hdGlvblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZWFyY2hJbnB1dD8uZm9jdXMoKTtcclxuICAgICAgfSwgMzAwKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY2xvc2VTZWFyY2ggPSAoKSA9PiB7XHJcbiAgICAgIHNlYXJjaE92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJmbG93LWhpZGRlblwiKTtcclxuXHJcbiAgICAgIGlmIChzZWFyY2hJbnB1dCkge1xyXG4gICAgICAgIHNlYXJjaElucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzZWFyY2hCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuU2VhcmNoKTtcclxuICAgIHNlYXJjaENsb3NlPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTZWFyY2gpO1xyXG4gICAgc2VhcmNoQmFja2Ryb3A/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVNlYXJjaCk7XHJcblxyXG4gICAgLy8gQ2xvc2Ugc2VhcmNoL21lbnUgd2l0aCBFU0Mga2V5XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICBpZiAoc2VhcmNoT3ZlcmxheT8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICBjbG9zZVNlYXJjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9iaWxlTWVudT8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICBjbG9zZU1vYmlsZU1lbnUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vIFByZXZlbnQgc2VhcmNoIGZvcm0gc3VibWlzc2lvbiBvbiBlbXB0eSBpbnB1dFxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgY29uc3Qgc2VhcmNoRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmhlYWRlci1zZWFyY2gtb3ZlcmxheSAuc2VhcmNoLWZvcm1cIlxyXG4gICAgKTtcclxuXHJcbiAgICBzZWFyY2hGb3JtPy5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGlmICghc2VhcmNoSW5wdXQ/LnZhbHVlLnRyaW0oKSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZWFyY2hJbnB1dD8uZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxufTtcclxuIiwgIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIRVJPIEJBTk5FUiBNT0RVTEVcclxuLy8gVmlkZW8gYXV0b3BsYXkgd2l0aCBzb3VuZCB0b2dnbGUgKyBwb3N0ZXIgZmFsbGJhY2tcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgY29uc3QgaGVyb0Jhbm5lciA9IHtcclxuXHRpbml0OiAoKSA9PiB7XHJcblx0XHRjb25zdCBiYW5uZXJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWhvbWUtYmFubmVyXCIpO1xyXG5cdFx0aWYgKCFiYW5uZXJTZWN0aW9uKSByZXR1cm47XHJcblxyXG5cdFx0Y29uc3QgYmFubmVyTWVkaWEgPSBiYW5uZXJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuYmFubmVyLW1lZGlhXCIpO1xyXG5cdFx0Y29uc3QgdmlkZW8gPSBiYW5uZXJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuYmFubmVyLXZpZGVvXCIpO1xyXG5cdFx0Y29uc3Qgc291bmRUb2dnbGUgPSBiYW5uZXJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuc291bmQtdG9nZ2xlXCIpO1xyXG5cdFx0Y29uc3QgcG9zdGVyID0gYmFubmVyU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmJhbm5lci1wb3N0ZXJcIik7XHJcblxyXG5cdFx0aWYgKCF2aWRlbykgcmV0dXJuO1xyXG5cclxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdC8vIFZpZGVvIFBsYXkgRGV0ZWN0aW9uXHJcblx0XHQvLyBcdTFFQThuIHBvc3RlciBraGkgdmlkZW8gYlx1MUVBRnQgXHUwMTExXHUxRUE3dSBwbGF5XHJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRjb25zdCBoYW5kbGVWaWRlb1BsYXkgPSAoKSA9PiB7XHJcblx0XHRcdGJhbm5lck1lZGlhPy5jbGFzc0xpc3QuYWRkKFwidmlkZW8tcGxheWluZ1wiKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgaGFuZGxlVmlkZW9DYW5QbGF5ID0gKCkgPT4ge1xyXG5cdFx0XHQvLyBWaWRlbyBcdTAxMTFcdTAwRTMgc1x1MUVCNW4gc1x1MDBFMG5nIHBsYXlcclxuXHRcdFx0YmFubmVyTWVkaWE/LmNsYXNzTGlzdC5hZGQoXCJ2aWRlby1yZWFkeVwiKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwgaGFuZGxlVmlkZW9QbGF5KTtcclxuXHRcdHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsIGhhbmRsZVZpZGVvQ2FuUGxheSk7XHJcblxyXG5cdFx0Ly8gRmFsbGJhY2s6IG5cdTFFQkZ1IHZpZGVvIFx1MDExMVx1MDBFMyBwbGF5aW5nIGtoaSBzY3JpcHQgbG9hZFxyXG5cdFx0aWYgKCF2aWRlby5wYXVzZWQpIHtcclxuXHRcdFx0aGFuZGxlVmlkZW9QbGF5KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0Ly8gU291bmQgVG9nZ2xlXHJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRpZiAoc291bmRUb2dnbGUpIHtcclxuXHRcdFx0c291bmRUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0XHRpZiAodmlkZW8ubXV0ZWQpIHtcclxuXHRcdFx0XHRcdHZpZGVvLm11dGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRzb3VuZFRvZ2dsZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2aWRlby5tdXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRzb3VuZFRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0Ly8gTW9iaWxlIEF1dG9wbGF5IEZhbGxiYWNrXHJcblx0XHQvLyBNXHUxRUQ5dCBzXHUxRUQxIG1vYmlsZSBraFx1MDBGNG5nIGNobyBhdXRvcGxheSwgdGhcdTFFRUQgcGxheSBtYW51YWxseVxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0Y29uc3QgYXR0ZW1wdEF1dG9wbGF5ID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGF3YWl0IHZpZGVvLnBsYXkoKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHQvLyBBdXRvcGxheSBiXHUxRUNCIGNoXHUxRUI3biwgcG9zdGVyIHNcdTFFQkQgaGlcdTFFQzNuIHRoXHUxRUNCXHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJBdXRvcGxheSBibG9ja2VkLCBzaG93aW5nIHBvc3RlciBmYWxsYmFja1wiKTtcclxuXHRcdFx0XHRiYW5uZXJNZWRpYT8uY2xhc3NMaXN0LmFkZChcImF1dG9wbGF5LWJsb2NrZWRcIik7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gVGhcdTFFRUQgYXV0b3BsYXkgblx1MUVCRnUgdmlkZW8gY2hcdTAxQjBhIHBsYXlcclxuXHRcdGlmICh2aWRlby5wYXVzZWQpIHtcclxuXHRcdFx0YXR0ZW1wdEF1dG9wbGF5KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0Ly8gUGF1c2UgdmlkZW8ga2hpIGtoXHUwMEY0bmcgdHJvbmcgdmlld3BvcnQgKHRpXHUxRUJGdCBraVx1MUVDN20gdFx1MDBFMGkgbmd1eVx1MDBFQW4pXHJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XHJcblx0XHRcdHJvb3Q6IG51bGwsXHJcblx0XHRcdHJvb3RNYXJnaW46IFwiMHB4XCIsXHJcblx0XHRcdHRocmVzaG9sZDogMC4xLFxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSAoZW50cmllcykgPT4ge1xyXG5cdFx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcblx0XHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcblx0XHRcdFx0XHQvLyBWaWRlbyB0cm9uZyB2aWV3cG9ydCAtIHBsYXlcclxuXHRcdFx0XHRcdGlmICh2aWRlby5wYXVzZWQpIHtcclxuXHRcdFx0XHRcdFx0dmlkZW8ucGxheSgpLmNhdGNoKCgpID0+IHt9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gVmlkZW8gbmdvXHUwMEUwaSB2aWV3cG9ydCAtIHBhdXNlXHJcblx0XHRcdFx0XHRpZiAoIXZpZGVvLnBhdXNlZCkge1xyXG5cdFx0XHRcdFx0XHR2aWRlby5wYXVzZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG5cdFx0XHRoYW5kbGVJbnRlcnNlY3Rpb24sXHJcblx0XHRcdG9ic2VydmVyT3B0aW9uc1xyXG5cdFx0KTtcclxuXHRcdG9ic2VydmVyLm9ic2VydmUoYmFubmVyU2VjdGlvbik7XHJcblxyXG5cdFx0Ly8gQ2xlYW51cCBraGkgY29tcG9uZW50IGJcdTFFQ0IgZGVzdHJveSAoU1BBKVxyXG5cdFx0cmV0dXJuICgpID0+IHtcclxuXHRcdFx0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG5cdFx0XHR2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLCBoYW5kbGVWaWRlb1BsYXkpO1xyXG5cdFx0XHR2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCBoYW5kbGVWaWRlb0NhblBsYXkpO1xyXG5cdFx0fTtcclxuXHR9LFxyXG59O1xyXG4iLCAiLyoqXG4gKiBTU1IgV2luZG93IDQuMC4yXG4gKiBCZXR0ZXIgaGFuZGxpbmcgZm9yIHdpbmRvdyBvYmplY3QgaW4gU1NSIGVudmlyb25tZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9saW1pdHM0d2ViL3Nzci13aW5kb3dcbiAqXG4gKiBDb3B5cmlnaHQgMjAyMSwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAqXG4gKiBSZWxlYXNlZCBvbjogRGVjZW1iZXIgMTMsIDIwMjFcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICdjb25zdHJ1Y3RvcicgaW4gb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc3JjKSB7XG4gIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgIHRhcmdldCA9IHt9O1xuICB9XG4gIGlmIChzcmMgPT09IHZvaWQgMCkge1xuICAgIHNyYyA9IHt9O1xuICB9XG4gIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICd1bmRlZmluZWQnKSB0YXJnZXRba2V5XSA9IHNyY1trZXldO2Vsc2UgaWYgKGlzT2JqZWN0KHNyY1trZXldKSAmJiBpc09iamVjdCh0YXJnZXRba2V5XSkgJiYgT2JqZWN0LmtleXMoc3JjW2tleV0pLmxlbmd0aCA+IDApIHtcbiAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgIH1cbiAgfSk7XG59XG5jb25zdCBzc3JEb2N1bWVudCA9IHtcbiAgYm9keToge30sXG4gIGFkZEV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxuICBhY3RpdmVFbGVtZW50OiB7XG4gICAgYmx1cigpIHt9LFxuICAgIG5vZGVOYW1lOiAnJ1xuICB9LFxuICBxdWVyeVNlbGVjdG9yKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBxdWVyeVNlbGVjdG9yQWxsKCkge1xuICAgIHJldHVybiBbXTtcbiAgfSxcbiAgZ2V0RWxlbWVudEJ5SWQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGNyZWF0ZUV2ZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0RXZlbnQoKSB7fVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgICAgc3R5bGU6IHt9LFxuICAgICAgc2V0QXR0cmlidXRlKCkge30sXG4gICAgICBnZXRFbGVtZW50c0J5VGFnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnROUygpIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIGltcG9ydE5vZGUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgaGFzaDogJycsXG4gICAgaG9zdDogJycsXG4gICAgaG9zdG5hbWU6ICcnLFxuICAgIGhyZWY6ICcnLFxuICAgIG9yaWdpbjogJycsXG4gICAgcGF0aG5hbWU6ICcnLFxuICAgIHByb3RvY29sOiAnJyxcbiAgICBzZWFyY2g6ICcnXG4gIH1cbn07XG5mdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgY29uc3QgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDoge307XG4gIGV4dGVuZChkb2MsIHNzckRvY3VtZW50KTtcbiAgcmV0dXJuIGRvYztcbn1cbmNvbnN0IHNzcldpbmRvdyA9IHtcbiAgZG9jdW1lbnQ6IHNzckRvY3VtZW50LFxuICBuYXZpZ2F0b3I6IHtcbiAgICB1c2VyQWdlbnQ6ICcnXG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgaGFzaDogJycsXG4gICAgaG9zdDogJycsXG4gICAgaG9zdG5hbWU6ICcnLFxuICAgIGhyZWY6ICcnLFxuICAgIG9yaWdpbjogJycsXG4gICAgcGF0aG5hbWU6ICcnLFxuICAgIHByb3RvY29sOiAnJyxcbiAgICBzZWFyY2g6ICcnXG4gIH0sXG4gIGhpc3Rvcnk6IHtcbiAgICByZXBsYWNlU3RhdGUoKSB7fSxcbiAgICBwdXNoU3RhdGUoKSB7fSxcbiAgICBnbygpIHt9LFxuICAgIGJhY2soKSB7fVxuICB9LFxuICBDdXN0b21FdmVudDogZnVuY3Rpb24gQ3VzdG9tRXZlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZEV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LFxuICBnZXRDb21wdXRlZFN0eWxlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgSW1hZ2UoKSB7fSxcbiAgRGF0ZSgpIHt9LFxuICBzY3JlZW46IHt9LFxuICBzZXRUaW1lb3V0KCkge30sXG4gIGNsZWFyVGltZW91dCgpIHt9LFxuICBtYXRjaE1lZGlhKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSxcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gIH0sXG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7XG4gICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoaWQpO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICBjb25zdCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuICBleHRlbmQod2luLCBzc3JXaW5kb3cpO1xuICByZXR1cm4gd2luO1xufVxuXG5leHBvcnQgeyBnZXRXaW5kb3cgYXMgYSwgZ2V0RG9jdW1lbnQgYXMgZyB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93LCBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi9zc3Itd2luZG93LmVzbS5tanMnO1xuXG5mdW5jdGlvbiBjbGFzc2VzVG9Ub2tlbnMoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBjbGFzc2VzLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihjID0+ICEhYy50cmltKCkpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9wcyhvYmopIHtcbiAgY29uc3Qgb2JqZWN0ID0gb2JqO1xuICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goa2V5ID0+IHtcbiAgICB0cnkge1xuICAgICAgb2JqZWN0W2tleV0gPSBudWxsO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIG5vIGdldHRlciBmb3Igb2JqZWN0XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc29tZXRoaW5nIGdvdCB3cm9uZ1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICBkZWxheSA9IDA7XG4gIH1cbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbn1cbmZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgc3R5bGU7XG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICB9XG4gIGlmICghc3R5bGUgJiYgZWwuY3VycmVudFN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGU7XG4gIH1cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZWwuc3R5bGU7XG4gIH1cbiAgcmV0dXJuIHN0eWxlO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKGVsLCBheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gJ3gnO1xuICB9XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgbWF0cml4O1xuICBsZXQgY3VyVHJhbnNmb3JtO1xuICBsZXQgdHJhbnNmb3JtTWF0cml4O1xuICBjb25zdCBjdXJTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkge1xuICAgIGN1clRyYW5zZm9ybSA9IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS53ZWJraXRUcmFuc2Zvcm07XG4gICAgaWYgKGN1clRyYW5zZm9ybS5zcGxpdCgnLCcpLmxlbmd0aCA+IDYpIHtcbiAgICAgIGN1clRyYW5zZm9ybSA9IGN1clRyYW5zZm9ybS5zcGxpdCgnLCAnKS5tYXAoYSA9PiBhLnJlcGxhY2UoJywnLCAnLicpKS5qb2luKCcsICcpO1xuICAgIH1cbiAgICAvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBXZWJraXQgY2hva2Ugd2hlbiAnbm9uZScgaXMgcGFzc2VkOyBwYXNzXG4gICAgLy8gZW1wdHkgc3RyaW5nIGluc3RlYWQgaW4gdGhpcyBjYXNlXG4gICAgdHJhbnNmb3JtTWF0cml4ID0gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoY3VyVHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IGN1clRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNmb3JtTWF0cml4ID0gY3VyU3R5bGUuTW96VHJhbnNmb3JtIHx8IGN1clN0eWxlLk9UcmFuc2Zvcm0gfHwgY3VyU3R5bGUuTXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUubXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpLnJlcGxhY2UoJ3RyYW5zbGF0ZSgnLCAnbWF0cml4KDEsIDAsIDAsIDEsJyk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4LnRvU3RyaW5nKCkuc3BsaXQoJywnKTtcbiAgfVxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MTtcbiAgICAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxMl0pO1xuICAgIC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNF0pO1xuICB9XG4gIGlmIChheGlzID09PSAneScpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQyO1xuICAgIC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEzXSk7XG4gICAgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gIH1cbiAgcmV0dXJuIGN1clRyYW5zZm9ybSB8fCAwO1xufVxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8gIT09IG51bGwgJiYgby5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jztcbn1cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9XG4gIHJldHVybiBub2RlICYmIChub2RlLm5vZGVUeXBlID09PSAxIHx8IG5vZGUubm9kZVR5cGUgPT09IDExKTtcbn1cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgY29uc3QgdG8gPSBPYmplY3QoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKTtcbiAgY29uc3Qgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBuZXh0U291cmNlID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldO1xuICAgIGlmIChuZXh0U291cmNlICE9PSB1bmRlZmluZWQgJiYgbmV4dFNvdXJjZSAhPT0gbnVsbCAmJiAhaXNOb2RlKG5leHRTb3VyY2UpKSB7XG4gICAgICBjb25zdCBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpLmZpbHRlcihrZXkgPT4gbm9FeHRlbmQuaW5kZXhPZihrZXkpIDwgMCk7XG4gICAgICBmb3IgKGxldCBuZXh0SW5kZXggPSAwLCBsZW4gPSBrZXlzQXJyYXkubGVuZ3RoOyBuZXh0SW5kZXggPCBsZW47IG5leHRJbmRleCArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG4gICAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSB7fTtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5mdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShlbCwgdmFyTmFtZSwgdmFyVmFsdWUpIHtcbiAgZWwuc3R5bGUuc2V0UHJvcGVydHkodmFyTmFtZSwgdmFyVmFsdWUpO1xufVxuZnVuY3Rpb24gYW5pbWF0ZUNTU01vZGVTY3JvbGwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICB0YXJnZXRQb3NpdGlvbixcbiAgICBzaWRlXG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IC1zd2lwZXIudHJhbnNsYXRlO1xuICBsZXQgc3RhcnRUaW1lID0gbnVsbDtcbiAgbGV0IHRpbWU7XG4gIGNvbnN0IGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICdub25lJztcbiAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gIGNvbnN0IGRpciA9IHRhcmdldFBvc2l0aW9uID4gc3RhcnRQb3NpdGlvbiA/ICduZXh0JyA6ICdwcmV2JztcbiAgY29uc3QgaXNPdXRPZkJvdW5kID0gKGN1cnJlbnQsIHRhcmdldCkgPT4ge1xuICAgIHJldHVybiBkaXIgPT09ICduZXh0JyAmJiBjdXJyZW50ID49IHRhcmdldCB8fCBkaXIgPT09ICdwcmV2JyAmJiBjdXJyZW50IDw9IHRhcmdldDtcbiAgfTtcbiAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiwgMSksIDApO1xuICAgIGNvbnN0IGVhc2VQcm9ncmVzcyA9IDAuNSAtIE1hdGguY29zKHByb2dyZXNzICogTWF0aC5QSSkgLyAyO1xuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uICsgZWFzZVByb2dyZXNzICogKHRhcmdldFBvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbik7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgY3VycmVudFBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICB9KTtcbiAgICBpZiAoaXNPdXRPZkJvdW5kKGN1cnJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJyc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXBlci5jc3NNb2RlRnJhbWVJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG4gIGFuaW1hdGUoKTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCkge1xuICByZXR1cm4gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpIHx8IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSB8fCBzbGlkZUVsO1xufVxuZnVuY3Rpb24gZWxlbWVudENoaWxkcmVuKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7XG4gICAgc2VsZWN0b3IgPSAnJztcbiAgfVxuICByZXR1cm4gWy4uLmVsZW1lbnQuY2hpbGRyZW5dLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBzaG93V2FybmluZyh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS53YXJuKHRleHQpO1xuICAgIHJldHVybjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZXJyXG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gW107XG4gIH1cbiAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uKEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpKSk7XG4gIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRPZmZzZXQoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgY29uc3QgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gIGNvbnN0IHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wLFxuICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcmV2QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBwcmV2RWxzID0gW107XG4gIHdoaWxlIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgcHJldiA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwcmV2Lm1hdGNoZXMoc2VsZWN0b3IpKSBwcmV2RWxzLnB1c2gocHJldik7XG4gICAgfSBlbHNlIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICBlbCA9IHByZXY7XG4gIH1cbiAgcmV0dXJuIHByZXZFbHM7XG59XG5mdW5jdGlvbiBlbGVtZW50TmV4dEFsbChlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgbmV4dEVscyA9IFtdO1xuICB3aGlsZSAoZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKG5leHQubWF0Y2hlcyhzZWxlY3RvcikpIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIGVsID0gbmV4dDtcbiAgfVxuICByZXR1cm4gbmV4dEVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRTdHlsZShlbCwgcHJvcCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xufVxuZnVuY3Rpb24gZWxlbWVudEluZGV4KGVsKSB7XG4gIGxldCBjaGlsZCA9IGVsO1xuICBsZXQgaTtcbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZWxlbWVudFBhcmVudHMoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAocGFyZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuICAgIGNhbGxiYWNrLmNhbGwoZWwsIGUpO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBlbGVtZW50T3V0ZXJTaXplKGVsLCBzaXplLCBpbmNsdWRlTWFyZ2lucykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgcmV0dXJuIGVsW3NpemUgPT09ICd3aWR0aCcgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCddICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1yaWdodCcgOiAnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoc2l6ZSA9PT0gJ3dpZHRoJyA/ICdtYXJnaW4tbGVmdCcgOiAnbWFyZ2luLWJvdHRvbScpKTtcbiAgfVxuICByZXR1cm4gZWwub2Zmc2V0V2lkdGg7XG59XG5cbmV4cG9ydCB7IGVsZW1lbnRQYXJlbnRzIGFzIGEsIGVsZW1lbnRPZmZzZXQgYXMgYiwgY3JlYXRlRWxlbWVudCBhcyBjLCBub3cgYXMgZCwgZWxlbWVudENoaWxkcmVuIGFzIGUsIGVsZW1lbnRPdXRlclNpemUgYXMgZiwgZWxlbWVudEluZGV4IGFzIGcsIGNsYXNzZXNUb1Rva2VucyBhcyBoLCBnZXRUcmFuc2xhdGUgYXMgaSwgZWxlbWVudFRyYW5zaXRpb25FbmQgYXMgaiwgaXNPYmplY3QgYXMgaywgZ2V0U2xpZGVUcmFuc2Zvcm1FbCBhcyBsLCBlbGVtZW50U3R5bGUgYXMgbSwgbmV4dFRpY2sgYXMgbiwgZWxlbWVudE5leHRBbGwgYXMgbywgZWxlbWVudFByZXZBbGwgYXMgcCwgYW5pbWF0ZUNTU01vZGVTY3JvbGwgYXMgcSwgc2hvd1dhcm5pbmcgYXMgciwgc2V0Q1NTUHJvcGVydHkgYXMgcywgZXh0ZW5kIGFzIHQsIGRlbGV0ZVByb3BzIGFzIHUgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGEgYXMgZWxlbWVudFBhcmVudHMsIG0gYXMgZWxlbWVudFN0eWxlLCBlIGFzIGVsZW1lbnRDaGlsZHJlbiwgcyBhcyBzZXRDU1NQcm9wZXJ0eSwgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBvIGFzIGVsZW1lbnROZXh0QWxsLCBwIGFzIGVsZW1lbnRQcmV2QWxsLCBpIGFzIGdldFRyYW5zbGF0ZSwgcSBhcyBhbmltYXRlQ1NTTW9kZVNjcm9sbCwgbiBhcyBuZXh0VGljaywgciBhcyBzaG93V2FybmluZywgYyBhcyBjcmVhdGVFbGVtZW50LCBkIGFzIG5vdywgdCBhcyBleHRlbmQsIGcgYXMgZWxlbWVudEluZGV4LCB1IGFzIGRlbGV0ZVByb3BzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5sZXQgc3VwcG9ydDtcbmZ1bmN0aW9uIGNhbGNTdXBwb3J0KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICByZXR1cm4ge1xuICAgIHNtb290aFNjcm9sbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdXBwb3J0KCkge1xuICBpZiAoIXN1cHBvcnQpIHtcbiAgICBzdXBwb3J0ID0gY2FsY1N1cHBvcnQoKTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydDtcbn1cblxubGV0IGRldmljZUNhY2hlZDtcbmZ1bmN0aW9uIGNhbGNEZXZpY2UoX3RlbXApIHtcbiAgbGV0IHtcbiAgICB1c2VyQWdlbnRcbiAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICBjb25zdCBzdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudCB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgY29uc3QgZGV2aWNlID0ge1xuICAgIGlvczogZmFsc2UsXG4gICAgYW5kcm9pZDogZmFsc2VcbiAgfTtcbiAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICBjb25zdCBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3QgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgaXBhZCA9IHVhLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IGlwb2QgPSB1YS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pO1xuICBjb25zdCBpcGhvbmUgPSAhaXBhZCAmJiB1YS5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKTtcbiAgY29uc3Qgd2luZG93cyA9IHBsYXRmb3JtID09PSAnV2luMzInO1xuICBsZXQgbWFjb3MgPSBwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcblxuICAvLyBpUGFkT3MgMTMgZml4XG4gIGNvbnN0IGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG4gIGlmICghaXBhZCAmJiBtYWNvcyAmJiBzdXBwb3J0LnRvdWNoICYmIGlQYWRTY3JlZW5zLmluZGV4T2YoYCR7c2NyZWVuV2lkdGh9eCR7c2NyZWVuSGVpZ2h0fWApID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIEFuZHJvaWRcbiAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICBkZXZpY2Uub3MgPSAnYW5kcm9pZCc7XG4gICAgZGV2aWNlLmFuZHJvaWQgPSB0cnVlO1xuICB9XG4gIGlmIChpcGFkIHx8IGlwaG9uZSB8fCBpcG9kKSB7XG4gICAgZGV2aWNlLm9zID0gJ2lvcyc7XG4gICAgZGV2aWNlLmlvcyA9IHRydWU7XG4gIH1cblxuICAvLyBFeHBvcnQgb2JqZWN0XG4gIHJldHVybiBkZXZpY2U7XG59XG5mdW5jdGlvbiBnZXREZXZpY2Uob3ZlcnJpZGVzKSB7XG4gIGlmIChvdmVycmlkZXMgPT09IHZvaWQgMCkge1xuICAgIG92ZXJyaWRlcyA9IHt9O1xuICB9XG4gIGlmICghZGV2aWNlQ2FjaGVkKSB7XG4gICAgZGV2aWNlQ2FjaGVkID0gY2FsY0RldmljZShvdmVycmlkZXMpO1xuICB9XG4gIHJldHVybiBkZXZpY2VDYWNoZWQ7XG59XG5cbmxldCBicm93c2VyO1xuZnVuY3Rpb24gY2FsY0Jyb3dzZXIoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgbmVlZFBlcnNwZWN0aXZlRml4ID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIGNvbnN0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdWEuaW5kZXhPZignc2FmYXJpJykgPj0gMCAmJiB1YS5pbmRleE9mKCdjaHJvbWUnKSA8IDAgJiYgdWEuaW5kZXhPZignYW5kcm9pZCcpIDwgMDtcbiAgfVxuICBpZiAoaXNTYWZhcmkoKSkge1xuICAgIGNvbnN0IHVhID0gU3RyaW5nKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAodWEuaW5jbHVkZXMoJ1ZlcnNpb24vJykpIHtcbiAgICAgIGNvbnN0IFttYWpvciwgbWlub3JdID0gdWEuc3BsaXQoJ1ZlcnNpb24vJylbMV0uc3BsaXQoJyAnKVswXS5zcGxpdCgnLicpLm1hcChudW0gPT4gTnVtYmVyKG51bSkpO1xuICAgICAgbmVlZFBlcnNwZWN0aXZlRml4ID0gbWFqb3IgPCAxNiB8fCBtYWpvciA9PT0gMTYgJiYgbWlub3IgPCAyO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU2FmYXJpOiBuZWVkUGVyc3BlY3RpdmVGaXggfHwgaXNTYWZhcmkoKSxcbiAgICBuZWVkUGVyc3BlY3RpdmVGaXgsXG4gICAgaXNXZWJWaWV3OiAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBicm93c2VyID0gY2FsY0Jyb3dzZXIoKTtcbiAgfVxuICByZXR1cm4gYnJvd3Nlcjtcbn1cblxuZnVuY3Rpb24gUmVzaXplKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBvYnNlcnZlciA9IG51bGw7XG4gIGxldCBhbmltYXRpb25GcmFtZSA9IG51bGw7XG4gIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnYmVmb3JlUmVzaXplJyk7XG4gICAgZW1pdCgncmVzaXplJyk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gc3dpcGVyO1xuICAgICAgICBsZXQgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgY29udGVudEJveFNpemUsXG4gICAgICAgICAgICBjb250ZW50UmVjdCxcbiAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgIG5ld0hlaWdodCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3QuaGVpZ2h0IDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5ibG9ja1NpemU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgcmVzaXplSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZSAmJiBzd2lwZXIuZWwpIHtcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnJlc2l6ZU9ic2VydmVyICYmIHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjcmVhdGVPYnNlcnZlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIHJlbW92ZU9ic2VydmVyKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBPYnNlcnZlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCBvYnNlcnZlcnMgPSBbXTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGF0dGFjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhtdXRhdGlvbnMgPT4ge1xuICAgICAgLy8gVGhlIG9ic2VydmVyVXBkYXRlIGV2ZW50IHNob3VsZCBvbmx5IGJlIHRyaWdnZXJlZFxuICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgLy8gdHJpZ2dlcnMgYXJlIHJlZHVuZGFudCBhbmQgYXJlIHZlcnkgY29zdGx5XG4gICAgICBpZiAoc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18pIHJldHVybjtcbiAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2JzZXJ2ZXJVcGRhdGUgPSBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgfTtcbiAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob2JzZXJ2ZXJVcGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQob2JzZXJ2ZXJVcGRhdGUsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZExpc3Q6IHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGlsZExpc3QsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJEYXRhID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoYXJhY3RlckRhdGFcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLm9ic2VydmVyKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudHMgPSBlbGVtZW50UGFyZW50cyhzd2lwZXIuaG9zdEVsKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ic2VydmUgY29udGFpbmVyXG4gICAgYXR0YWNoKHN3aXBlci5ob3N0RWwsIHtcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlblxuICAgIH0pO1xuXG4gICAgLy8gT2JzZXJ2ZSB3cmFwcGVyXG4gICAgYXR0YWNoKHN3aXBlci53cmFwcGVyRWwsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIG9ic2VydmVycy5zcGxpY2UoMCwgb2JzZXJ2ZXJzLmxlbmd0aCk7XG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgb2JzZXJ2ZXI6IGZhbHNlLFxuICAgIG9ic2VydmVQYXJlbnRzOiBmYWxzZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgfSk7XG4gIG9uKCdpbml0JywgaW5pdCk7XG4gIG9uKCdkZXN0cm95JywgZGVzdHJveSk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5cbnZhciBldmVudHNFbWl0dGVyID0ge1xuICBvbihldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvbmNlKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgc2VsZi5vZmYoZXZlbnRzLCBvbmNlSGFuZGxlcik7XG4gICAgICBpZiAob25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkpIHtcbiAgICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cbiAgICBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIHNlbGYub24oZXZlbnRzLCBvbmNlSGFuZGxlciwgcHJpb3JpdHkpO1xuICB9LFxuICBvbkFueShoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmQW55KGhhbmRsZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzQW55TGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBpbmRleCA9IHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmYoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goKGV2ZW50SGFuZGxlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIGVtaXQoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgbGV0IGV2ZW50cztcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgY29udGV4dDtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdO1xuICAgICAgZGF0YSA9IGFyZ3Muc2xpY2UoMSwgYXJncy5sZW5ndGgpO1xuICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF0uZXZlbnRzO1xuICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgIGNvbnRleHQgPSBhcmdzWzBdLmNvbnRleHQgfHwgc2VsZjtcbiAgICB9XG4gICAgZGF0YS51bnNoaWZ0KGNvbnRleHQpO1xuICAgIGNvbnN0IGV2ZW50c0FycmF5ID0gQXJyYXkuaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgZXZlbnRzQXJyYXkuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgW2V2ZW50LCAuLi5kYXRhXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gbnVsbCkge1xuICAgIHdpZHRoID0gc3dpcGVyLnBhcmFtcy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgaGVpZ2h0ID0gc3dpcGVyLnBhcmFtcy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICB9XG4gIGlmICh3aWR0aCA9PT0gMCAmJiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgfHwgaGVpZ2h0ID09PSAwICYmIHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy10b3AnKSB8fCAwLCAxMCkgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLWJvdHRvbScpIHx8IDAsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzaXplOiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB3aWR0aCA6IGhlaWdodFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKG5vZGUsIGxhYmVsKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobm9kZS5nZXRQcm9wZXJ0eVZhbHVlKHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgc2xpZGVzRWwsXG4gICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cm9uZ1JUTFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGNvbnN0IHNsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICBsZXQgc25hcEdyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNTaXplc0dyaWQgPSBbXTtcbiAgbGV0IG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0QmVmb3JlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKHN3aXBlcik7XG4gIH1cbiAgbGV0IG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuICBpZiAodHlwZW9mIG9mZnNldEFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICB9XG4gIGNvbnN0IHByZXZpb3VzU25hcEdyaWRMZW5ndGggPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGggPSBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGg7XG4gIGxldCBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICBsZXQgc2xpZGVQb3NpdGlvbiA9IC1vZmZzZXRCZWZvcmU7XG4gIGxldCBwcmV2U2xpZGVTaXplID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4ucmVwbGFjZSgnJScsICcnKSkgLyAxMDAgKiBzd2lwZXJTaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IC1zcGFjZUJldHdlZW47XG5cbiAgLy8gcmVzZXQgbWFyZ2luc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBpZiAocnRsKSB7XG4gICAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkxlZnQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xuICAgIH1cbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnO1xuICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luVG9wID0gJyc7XG4gIH0pO1xuXG4gIC8vIHJlc2V0IGNzc01vZGUgb2Zmc2V0c1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsICcnKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCAnJyk7XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBzd2lwZXIuZ3JpZDtcbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQuaW5pdFNsaWRlcyhzbGlkZXMpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5ncmlkKSB7XG4gICAgc3dpcGVyLmdyaWQudW5zZXRTbGlkZXMoKTtcbiAgfVxuXG4gIC8vIENhbGMgc2xpZGVzXG4gIGxldCBzbGlkZVNpemU7XG4gIGNvbnN0IHNob3VsZFJlc2V0U2xpZGVTaXplID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmJyZWFrcG9pbnRzKS5maWx0ZXIoa2V5ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHBhcmFtcy5icmVha3BvaW50c1trZXldLnNsaWRlc1BlclZpZXcgIT09ICd1bmRlZmluZWQnO1xuICB9KS5sZW5ndGggPiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0xlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVTaXplID0gMDtcbiAgICBsZXQgc2xpZGU7XG4gICAgaWYgKHNsaWRlc1tpXSkgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShpLCBzbGlkZSwgc2xpZGVzKTtcbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSAmJiBlbGVtZW50U3R5bGUoc2xpZGUsICdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoc2hvdWxkUmVzZXRTbGlkZVNpemUpIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgYDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSk7XG4gICAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gc2xpZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgY29uc3QgY3VycmVudFdlYktpdFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgICAgIHNsaWRlU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICd3aWR0aCcsIHRydWUpIDogZWxlbWVudE91dGVyU2l6ZShzbGlkZSwgJ2hlaWdodCcsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3dpZHRoJyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctbGVmdCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICBjb25zdCBib3hTaXppbmcgPSBzbGlkZVN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJyk7XG4gICAgICAgIGlmIChib3hTaXppbmcgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGllbnRXaWR0aCxcbiAgICAgICAgICAgIG9mZnNldFdpZHRoXG4gICAgICAgICAgfSA9IHNsaWRlO1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQgKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQgKyAob2Zmc2V0V2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjdXJyZW50V2ViS2l0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVTaXplID0gKHN3aXBlclNpemUgLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgLSAxKSAqIHNwYWNlQmV0d2VlbikgLyBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c2xpZGVTaXplfXB4YDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICB9XG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChwcmV2U2xpZGVTaXplID09PSAwICYmIGkgIT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoaSA9PT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmIChpbmRleCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIH1cbiAgICBzd2lwZXIudmlydHVhbFNpemUgKz0gc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIHByZXZTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG4gIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlLndpZHRoID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBzcGFjZUJldHdlZW59cHhgO1xuICB9XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLnVwZGF0ZVdyYXBwZXJTaXplKHNsaWRlU2l6ZSwgc25hcEdyaWQpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGxhc3QgZ3JpZCBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2lkdGhcbiAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFwR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbaV07XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIGlmIChzbmFwR3JpZFtpXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICBpZiAoTWF0aC5mbG9vcihzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSAtIE1hdGguZmxvb3Ioc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSkge1xuICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcCkge1xuICAgIGNvbnN0IHNpemUgPSBzbGlkZXNTaXplc0dyaWRbMF0gKyBzcGFjZUJldHdlZW47XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IE1hdGguY2VpbCgoc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQWZ0ZXIpIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNpemUgKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSArPSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBncm91cFNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyOyBpICs9IDEpIHtcbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgfVxuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNpemU7XG4gICAgfVxuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggPT09IDApIHNuYXBHcmlkID0gWzBdO1xuICBpZiAoc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgY29uc3Qga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luUmlnaHQnKTtcbiAgICBzbGlkZXMuZmlsdGVyKChfLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBpZiAoIXBhcmFtcy5jc3NNb2RlIHx8IHBhcmFtcy5sb29wKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgc2xpZGVFbC5zdHlsZVtrZXldID0gYCR7c3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBtYXhTbmFwID0gYWxsU2xpZGVzU2l6ZSAtIHN3aXBlclNpemU7XG4gICAgc25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoc25hcCA9PiB7XG4gICAgICBpZiAoc25hcCA8PSAwKSByZXR1cm4gLW9mZnNldEJlZm9yZTtcbiAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgIHJldHVybiBzbmFwO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMuY2VudGVySW5zdWZmaWNpZW50U2xpZGVzKSB7XG4gICAgbGV0IGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKHNsaWRlU2l6ZVZhbHVlID0+IHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAoc3BhY2VCZXR3ZWVuIHx8IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gc3BhY2VCZXR3ZWVuO1xuICAgIGlmIChhbGxTbGlkZXNTaXplIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgY29uc3QgYWxsU2xpZGVzT2Zmc2V0ID0gKHN3aXBlclNpemUgLSBhbGxTbGlkZXNTaXplKSAvIDI7XG4gICAgICBzbmFwR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgICAgc25hcEdyaWRbc25hcEluZGV4XSA9IHNuYXAgLSBhbGxTbGlkZXNPZmZzZXQ7XG4gICAgICB9KTtcbiAgICAgIHNsaWRlc0dyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICAgIHNsaWRlc0dyaWRbc25hcEluZGV4XSA9IHNuYXAgKyBhbGxTbGlkZXNPZmZzZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBzbGlkZXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBzbGlkZXNTaXplc0dyaWRcbiAgfSk7XG4gIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmNzc01vZGUgJiYgIXBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIHNldENTU1Byb3BlcnR5KHdyYXBwZXJFbCwgJy0tc3dpcGVyLWNlbnRlcmVkLW9mZnNldC1iZWZvcmUnLCBgJHstc25hcEdyaWRbMF19cHhgKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCBgJHtzd2lwZXIuc2l6ZSAvIDIgLSBzbGlkZXNTaXplc0dyaWRbc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdIC8gMn1weGApO1xuICAgIGNvbnN0IGFkZFRvU25hcEdyaWQgPSAtc3dpcGVyLnNuYXBHcmlkWzBdO1xuICAgIGNvbnN0IGFkZFRvU2xpZGVzR3JpZCA9IC1zd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICBzd2lwZXIuc25hcEdyaWQgPSBzd2lwZXIuc25hcEdyaWQubWFwKHYgPT4gdiArIGFkZFRvU25hcEdyaWQpO1xuICAgIHN3aXBlci5zbGlkZXNHcmlkID0gc3dpcGVyLnNsaWRlc0dyaWQubWFwKHYgPT4gdiArIGFkZFRvU2xpZGVzR3JpZCk7XG4gIH1cbiAgaWYgKHNsaWRlc0xlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNMZW5ndGgpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVzTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHNuYXBHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbmFwR3JpZExlbmd0aCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cpIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gICAgc3dpcGVyLmVtaXQoJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJyk7XG4gIH1cbiAgaWYgKHNsaWRlc0dyaWQubGVuZ3RoICE9PSBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGgpIHtcbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVzR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2xpZGVzVXBkYXRlZCcpO1xuICBpZiAoIWlzVmlydHVhbCAmJiAhcGFyYW1zLmNzc01vZGUgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2ZhZGUnKSkge1xuICAgIGNvbnN0IGJhY2tGYWNlSGlkZGVuQ2xhc3MgPSBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31iYWNrZmFjZS1oaWRkZW5gO1xuICAgIGNvbnN0IGhhc0NsYXNzQmFja2ZhY2VDbGFzc0FkZGVkID0gc3dpcGVyLmVsLmNsYXNzTGlzdC5jb250YWlucyhiYWNrRmFjZUhpZGRlbkNsYXNzKTtcbiAgICBpZiAoc2xpZGVzTGVuZ3RoIDw9IHBhcmFtcy5tYXhCYWNrZmFjZUhpZGRlblNsaWRlcykge1xuICAgICAgaWYgKCFoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCkgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgfSBlbHNlIGlmIChoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCkge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUF1dG9IZWlnaHQoc3BlZWQpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgYWN0aXZlU2xpZGVzID0gW107XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBsZXQgbmV3SGVpZ2h0ID0gMDtcbiAgbGV0IGk7XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICdudW1iZXInKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICB9IGVsc2UgaWYgKHNwZWVkID09PSB0cnVlKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3dpcGVyLnBhcmFtcy5zcGVlZCk7XG4gIH1cbiAgY29uc3QgZ2V0U2xpZGVCeUluZGV4ID0gaW5kZXggPT4ge1xuICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgIHJldHVybiBzd2lwZXIuc2xpZGVzW3N3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKGluZGV4KV07XG4gICAgfVxuICAgIHJldHVybiBzd2lwZXIuc2xpZGVzW2luZGV4XTtcbiAgfTtcbiAgLy8gRmluZCBzbGlkZXMgY3VycmVudGx5IGluIHZpZXdcbiAgaWYgKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gJ2F1dG8nICYmIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgKHN3aXBlci52aXNpYmxlU2xpZGVzIHx8IFtdKS5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgYWN0aXZlU2xpZGVzLnB1c2goc2xpZGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBNYXRoLmNlaWwoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3KTsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4ICsgaTtcbiAgICAgICAgaWYgKGluZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggJiYgIWlzVmlydHVhbCkgYnJlYWs7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKGdldFNsaWRlQnlJbmRleChpbmRleCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoc3dpcGVyLmFjdGl2ZUluZGV4KSk7XG4gIH1cblxuICAvLyBGaW5kIG5ldyBoZWlnaHQgZnJvbSBoaWdoZXN0IHNsaWRlIGluIHZpZXdcbiAgZm9yIChpID0gMDsgaSA8IGFjdGl2ZVNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2YgYWN0aXZlU2xpZGVzW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYWN0aXZlU2xpZGVzW2ldLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld0hlaWdodCA9IGhlaWdodCA+IG5ld0hlaWdodCA/IGhlaWdodCA6IG5ld0hlaWdodDtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgSGVpZ2h0XG4gIGlmIChuZXdIZWlnaHQgfHwgbmV3SGVpZ2h0ID09PSAwKSBzd2lwZXIud3JhcHBlckVsLnN0eWxlLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc09mZnNldCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qgc2xpZGVzID0gc3dpcGVyLnNsaWRlcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGNvbnN0IG1pbnVzT2Zmc2V0ID0gc3dpcGVyLmlzRWxlbWVudCA/IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHN3aXBlci53cmFwcGVyRWwub2Zmc2V0TGVmdCA6IHN3aXBlci53cmFwcGVyRWwub2Zmc2V0VG9wIDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNbaV0uc3dpcGVyU2xpZGVPZmZzZXQgPSAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gc2xpZGVzW2ldLm9mZnNldExlZnQgOiBzbGlkZXNbaV0ub2Zmc2V0VG9wKSAtIG1pbnVzT2Zmc2V0IC0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNsaWRlc1Byb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSB0aGlzICYmIHRoaXMudHJhbnNsYXRlIHx8IDA7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBzbmFwR3JpZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgbGV0IG9mZnNldENlbnRlciA9IC10cmFuc2xhdGU7XG4gIGlmIChydGwpIG9mZnNldENlbnRlciA9IHRyYW5zbGF0ZTtcblxuICAvLyBWaXNpYmxlIFNsaWRlc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUocGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVGdWxseVZpc2libGVDbGFzcyk7XG4gIH0pO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgc3dpcGVyLnZpc2libGVTbGlkZXMgPSBbXTtcbiAgbGV0IHNwYWNlQmV0d2VlbiA9IHBhcmFtcy5zcGFjZUJldHdlZW47XG4gIGlmICh0eXBlb2Ygc3BhY2VCZXR3ZWVuID09PSAnc3RyaW5nJyAmJiBzcGFjZUJldHdlZW4uaW5kZXhPZignJScpID49IDApIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlci5zaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgbGV0IHNsaWRlT2Zmc2V0ID0gc2xpZGUuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgaWYgKHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVPZmZzZXQgLT0gc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgIH1cbiAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IG9yaWdpbmFsU2xpZGVQcm9ncmVzcyA9IChvZmZzZXRDZW50ZXIgLSBzbmFwR3JpZFswXSArIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgOiAwKSAtIHNsaWRlT2Zmc2V0KSAvIChzbGlkZS5zd2lwZXJTbGlkZVNpemUgKyBzcGFjZUJldHdlZW4pO1xuICAgIGNvbnN0IHNsaWRlQmVmb3JlID0gLShvZmZzZXRDZW50ZXIgLSBzbGlkZU9mZnNldCk7XG4gICAgY29uc3Qgc2xpZGVBZnRlciA9IHNsaWRlQmVmb3JlICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICBjb25zdCBpc0Z1bGx5VmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPD0gc3dpcGVyLnNpemUgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHNsaWRlQmVmb3JlID49IDAgJiYgc2xpZGVCZWZvcmUgPCBzd2lwZXIuc2l6ZSAtIDEgfHwgc2xpZGVBZnRlciA+IDEgJiYgc2xpZGVBZnRlciA8PSBzd2lwZXIuc2l6ZSB8fCBzbGlkZUJlZm9yZSA8PSAwICYmIHNsaWRlQWZ0ZXIgPj0gc3dpcGVyLnNpemU7XG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgc3dpcGVyLnZpc2libGVTbGlkZXMucHVzaChzbGlkZSk7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgIHNsaWRlc1tpXS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bGx5VmlzaWJsZSkge1xuICAgICAgc2xpZGVzW2ldLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MpO1xuICAgIH1cbiAgICBzbGlkZS5wcm9ncmVzcyA9IHJ0bCA/IC1zbGlkZVByb2dyZXNzIDogc2xpZGVQcm9ncmVzcztcbiAgICBzbGlkZS5vcmlnaW5hbFByb2dyZXNzID0gcnRsID8gLW9yaWdpbmFsU2xpZGVQcm9ncmVzcyA6IG9yaWdpbmFsU2xpZGVQcm9ncmVzcztcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgbXVsdGlwbGllciA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyAtMSA6IDE7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgdHJhbnNsYXRlID0gc3dpcGVyICYmIHN3aXBlci50cmFuc2xhdGUgJiYgc3dpcGVyLnRyYW5zbGF0ZSAqIG11bHRpcGxpZXIgfHwgMDtcbiAgfVxuICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgbGV0IHtcbiAgICBwcm9ncmVzcyxcbiAgICBpc0JlZ2lubmluZyxcbiAgICBpc0VuZCxcbiAgICBwcm9ncmVzc0xvb3BcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgd2FzQmVnaW5uaW5nID0gaXNCZWdpbm5pbmc7XG4gIGNvbnN0IHdhc0VuZCA9IGlzRW5kO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBwcm9ncmVzcyA9IDA7XG4gICAgaXNCZWdpbm5pbmcgPSB0cnVlO1xuICAgIGlzRW5kID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBwcm9ncmVzcyA9ICh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gICAgY29uc3QgaXNCZWdpbm5pbmdSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgY29uc3QgaXNFbmRSb3VuZGVkID0gTWF0aC5hYnModHJhbnNsYXRlIC0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSA8IDE7XG4gICAgaXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZ1JvdW5kZWQgfHwgcHJvZ3Jlc3MgPD0gMDtcbiAgICBpc0VuZCA9IGlzRW5kUm91bmRlZCB8fCBwcm9ncmVzcyA+PSAxO1xuICAgIGlmIChpc0JlZ2lubmluZ1JvdW5kZWQpIHByb2dyZXNzID0gMDtcbiAgICBpZiAoaXNFbmRSb3VuZGVkKSBwcm9ncmVzcyA9IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEoMCk7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFtmaXJzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IGxhc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2xhc3RTbGlkZUluZGV4XTtcbiAgICBjb25zdCB0cmFuc2xhdGVNYXggPSBzd2lwZXIuc2xpZGVzR3JpZFtzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCB0cmFuc2xhdGVBYnMgPSBNYXRoLmFicyh0cmFuc2xhdGUpO1xuICAgIGlmICh0cmFuc2xhdGVBYnMgPj0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkge1xuICAgICAgcHJvZ3Jlc3NMb29wID0gKHRyYW5zbGF0ZUFicyAtIGZpcnN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzICsgdHJhbnNsYXRlTWF4IC0gbGFzdFNsaWRlVHJhbnNsYXRlKSAvIHRyYW5zbGF0ZU1heDtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzTG9vcCA+IDEpIHByb2dyZXNzTG9vcCAtPSAxO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NMb29wLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kXG4gIH0pO1xuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgfHwgcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5hdXRvSGVpZ2h0KSBzd2lwZXIudXBkYXRlU2xpZGVzUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgaWYgKGlzQmVnaW5uaW5nICYmICF3YXNCZWdpbm5pbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hCZWdpbm5pbmcgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKGlzRW5kICYmICF3YXNFbmQpIHtcbiAgICBzd2lwZXIuZW1pdCgncmVhY2hFbmQgdG9FZGdlJyk7XG4gIH1cbiAgaWYgKHdhc0JlZ2lubmluZyAmJiAhaXNCZWdpbm5pbmcgfHwgd2FzRW5kICYmICFpc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdmcm9tRWRnZScpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3QgZ2V0RmlsdGVyZWRTbGlkZSA9IHNlbGVjdG9yID0+IHtcbiAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9JHtzZWxlY3Rvcn0sIHN3aXBlci1zbGlkZSR7c2VsZWN0b3J9YClbMF07XG4gIH07XG4gIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICB9KTtcbiAgbGV0IGFjdGl2ZVNsaWRlO1xuICBsZXQgcHJldlNsaWRlO1xuICBsZXQgbmV4dFNsaWRlO1xuICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgICBsZXQgc2xpZGVJbmRleCA9IGFjdGl2ZUluZGV4IC0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgICAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHNsaWRlSW5kZXg7XG4gICAgICBpZiAoc2xpZGVJbmRleCA+PSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoKSBzbGlkZUluZGV4IC09IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGg7XG4gICAgICBhY3RpdmVTbGlkZSA9IGdldEZpbHRlcmVkU2xpZGUoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlU2xpZGUgPSBnZXRGaWx0ZXJlZFNsaWRlKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2FjdGl2ZUluZGV4fVwiXWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleClbMF07XG4gICAgICBuZXh0U2xpZGUgPSBzbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4ICsgMSlbMF07XG4gICAgICBwcmV2U2xpZGUgPSBzbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4IC0gMSlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2FjdGl2ZUluZGV4XTtcbiAgICB9XG4gIH1cbiAgaWYgKGFjdGl2ZVNsaWRlKSB7XG4gICAgLy8gQWN0aXZlIGNsYXNzZXNcbiAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QuYWRkKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKTtcbiAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgIGlmIChuZXh0U2xpZGUpIHtcbiAgICAgICAgbmV4dFNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2U2xpZGUpIHtcbiAgICAgICAgcHJldlNsaWRlLmNsYXNzTGlzdC5hZGQocGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTmV4dCBTbGlkZVxuICAgICAgbmV4dFNsaWRlID0gZWxlbWVudE5leHRBbGwoYWN0aXZlU2xpZGUsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdO1xuICAgICAgaWYgKHBhcmFtcy5sb29wICYmICFuZXh0U2xpZGUpIHtcbiAgICAgICAgbmV4dFNsaWRlID0gc2xpZGVzWzBdO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTbGlkZSkge1xuICAgICAgICBuZXh0U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmV2IFNsaWRlXG4gICAgICBwcmV2U2xpZGUgPSBlbGVtZW50UHJldkFsbChhY3RpdmVTbGlkZSwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYClbMF07XG4gICAgICBpZiAocGFyYW1zLmxvb3AgJiYgIXByZXZTbGlkZSA9PT0gMCkge1xuICAgICAgICBwcmV2U2xpZGUgPSBzbGlkZXNbc2xpZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZTbGlkZSkge1xuICAgICAgICBwcmV2U2xpZGUuY2xhc3NMaXN0LmFkZChwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdFNsaWRlc0NsYXNzZXMoKTtcbn1cblxuY29uc3QgcHJvY2Vzc0xhenlQcmVsb2FkZXIgPSAoc3dpcGVyLCBpbWFnZUVsKSA9PiB7XG4gIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5wYXJhbXMpIHJldHVybjtcbiAgY29uc3Qgc2xpZGVTZWxlY3RvciA9ICgpID0+IHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgY29uc3Qgc2xpZGVFbCA9IGltYWdlRWwuY2xvc2VzdChzbGlkZVNlbGVjdG9yKCkpO1xuICBpZiAoc2xpZGVFbCkge1xuICAgIGxldCBsYXp5RWwgPSBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgIGlmICghbGF6eUVsICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIGlmIChzbGlkZUVsLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgbGF6eUVsID0gc2xpZGVFbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYC4ke3N3aXBlci5wYXJhbXMubGF6eVByZWxvYWRlckNsYXNzfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5pdCBsYXRlclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGlmIChzbGlkZUVsLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIGxhenlFbCA9IHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICAgICAgICAgIGlmIChsYXp5RWwpIGxhenlFbC5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGF6eUVsKSBsYXp5RWwucmVtb3ZlKCk7XG4gIH1cbn07XG5jb25zdCB1bmxhenkgPSAoc3dpcGVyLCBpbmRleCkgPT4ge1xuICBpZiAoIXN3aXBlci5zbGlkZXNbaW5kZXhdKSByZXR1cm47XG4gIGNvbnN0IGltYWdlRWwgPSBzd2lwZXIuc2xpZGVzW2luZGV4XS5xdWVyeVNlbGVjdG9yKCdbbG9hZGluZz1cImxhenlcIl0nKTtcbiAgaWYgKGltYWdlRWwpIGltYWdlRWwucmVtb3ZlQXR0cmlidXRlKCdsb2FkaW5nJyk7XG59O1xuY29uc3QgcHJlbG9hZCA9IHN3aXBlciA9PiB7XG4gIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5wYXJhbXMpIHJldHVybjtcbiAgbGV0IGFtb3VudCA9IHN3aXBlci5wYXJhbXMubGF6eVByZWxvYWRQcmV2TmV4dDtcbiAgY29uc3QgbGVuID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGlmICghbGVuIHx8ICFhbW91bnQgfHwgYW1vdW50IDwgMCkgcmV0dXJuO1xuICBhbW91bnQgPSBNYXRoLm1pbihhbW91bnQsIGxlbik7XG4gIGNvbnN0IHNsaWRlc1BlclZpZXcgPSBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7XG4gIGNvbnN0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBpZiAoc3dpcGVyLnBhcmFtcy5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSkge1xuICAgIGNvbnN0IGFjdGl2ZUNvbHVtbiA9IGFjdGl2ZUluZGV4O1xuICAgIGNvbnN0IHByZWxvYWRDb2x1bW5zID0gW2FjdGl2ZUNvbHVtbiAtIGFtb3VudF07XG4gICAgcHJlbG9hZENvbHVtbnMucHVzaCguLi5BcnJheS5mcm9tKHtcbiAgICAgIGxlbmd0aDogYW1vdW50XG4gICAgfSkubWFwKChfLCBpKSA9PiB7XG4gICAgICByZXR1cm4gYWN0aXZlQ29sdW1uICsgc2xpZGVzUGVyVmlldyArIGk7XG4gICAgfSkpO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGVFbCwgaSkgPT4ge1xuICAgICAgaWYgKHByZWxvYWRDb2x1bW5zLmluY2x1ZGVzKHNsaWRlRWwuY29sdW1uKSkgdW5sYXp5KHN3aXBlciwgaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNsaWRlSW5kZXhMYXN0SW5WaWV3ID0gYWN0aXZlSW5kZXggKyBzbGlkZXNQZXJWaWV3IC0gMTtcbiAgaWYgKHN3aXBlci5wYXJhbXMucmV3aW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIGFtb3VudDsgaSA8PSBzbGlkZUluZGV4TGFzdEluVmlldyArIGFtb3VudDsgaSArPSAxKSB7XG4gICAgICBjb25zdCByZWFsSW5kZXggPSAoaSAlIGxlbiArIGxlbikgJSBsZW47XG4gICAgICBpZiAocmVhbEluZGV4IDwgYWN0aXZlSW5kZXggfHwgcmVhbEluZGV4ID4gc2xpZGVJbmRleExhc3RJblZpZXcpIHVubGF6eShzd2lwZXIsIHJlYWxJbmRleCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSBNYXRoLm1heChhY3RpdmVJbmRleCAtIGFtb3VudCwgMCk7IGkgPD0gTWF0aC5taW4oc2xpZGVJbmRleExhc3RJblZpZXcgKyBhbW91bnQsIGxlbiAtIDEpOyBpICs9IDEpIHtcbiAgICAgIGlmIChpICE9PSBhY3RpdmVJbmRleCAmJiAoaSA+IHNsaWRlSW5kZXhMYXN0SW5WaWV3IHx8IGkgPCBhY3RpdmVJbmRleCkpIHtcbiAgICAgICAgdW5sYXp5KHN3aXBlciwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRBY3RpdmVJbmRleEJ5VHJhbnNsYXRlKHN3aXBlcikge1xuICBjb25zdCB7XG4gICAgc2xpZGVzR3JpZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgbGV0IGFjdGl2ZUluZGV4O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdIC0gKHNsaWRlc0dyaWRbaSArIDFdIC0gc2xpZGVzR3JpZFtpXSkgLyAyKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlID49IHNsaWRlc0dyaWRbaV0gJiYgdHJhbnNsYXRlIDwgc2xpZGVzR3JpZFtpICsgMV0pIHtcbiAgICAgICAgYWN0aXZlSW5kZXggPSBpICsgMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgfVxuICB9XG4gIC8vIE5vcm1hbGl6ZSBzbGlkZUluZGV4XG4gIGlmIChwYXJhbXMubm9ybWFsaXplU2xpZGVJbmRleCkge1xuICAgIGlmIChhY3RpdmVJbmRleCA8IDAgfHwgdHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykgYWN0aXZlSW5kZXggPSAwO1xuICB9XG4gIHJldHVybiBhY3RpdmVJbmRleDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZUluZGV4KG5ld0FjdGl2ZUluZGV4KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGNvbnN0IHtcbiAgICBzbmFwR3JpZCxcbiAgICBwYXJhbXMsXG4gICAgYWN0aXZlSW5kZXg6IHByZXZpb3VzSW5kZXgsXG4gICAgcmVhbEluZGV4OiBwcmV2aW91c1JlYWxJbmRleCxcbiAgICBzbmFwSW5kZXg6IHByZXZpb3VzU25hcEluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBhY3RpdmVJbmRleCA9IG5ld0FjdGl2ZUluZGV4O1xuICBsZXQgc25hcEluZGV4O1xuICBjb25zdCBnZXRWaXJ0dWFsUmVhbEluZGV4ID0gYUluZGV4ID0+IHtcbiAgICBsZXQgcmVhbEluZGV4ID0gYUluZGV4IC0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlO1xuICAgIGlmIChyZWFsSW5kZXggPCAwKSB7XG4gICAgICByZWFsSW5kZXggPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgcmVhbEluZGV4O1xuICAgIH1cbiAgICBpZiAocmVhbEluZGV4ID49IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgIHJlYWxJbmRleCAtPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVhbEluZGV4O1xuICB9O1xuICBpZiAodHlwZW9mIGFjdGl2ZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjdGl2ZUluZGV4ID0gZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZShzd2lwZXIpO1xuICB9XG4gIGlmIChzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSkgPj0gMCkge1xuICAgIHNuYXBJbmRleCA9IHNuYXBHcmlkLmluZGV4T2YodHJhbnNsYXRlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBza2lwID0gTWF0aC5taW4ocGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgYWN0aXZlSW5kZXgpO1xuICAgIHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChhY3RpdmVJbmRleCAtIHNraXApIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgfVxuICBpZiAoc25hcEluZGV4ID49IHNuYXBHcmlkLmxlbmd0aCkgc25hcEluZGV4ID0gc25hcEdyaWQubGVuZ3RoIC0gMTtcbiAgaWYgKGFjdGl2ZUluZGV4ID09PSBwcmV2aW91c0luZGV4ICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc25hcEluZGV4ICE9PSBwcmV2aW91c1NuYXBJbmRleCkge1xuICAgICAgc3dpcGVyLnNuYXBJbmRleCA9IHNuYXBJbmRleDtcbiAgICAgIHN3aXBlci5lbWl0KCdzbmFwSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCAmJiBzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICBzd2lwZXIucmVhbEluZGV4ID0gZ2V0VmlydHVhbFJlYWxJbmRleChhY3RpdmVJbmRleCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG5cbiAgLy8gR2V0IHJlYWwgaW5kZXhcbiAgbGV0IHJlYWxJbmRleDtcbiAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgcGFyYW1zLmxvb3ApIHtcbiAgICByZWFsSW5kZXggPSBnZXRWaXJ0dWFsUmVhbEluZGV4KGFjdGl2ZUluZGV4KTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCkge1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbkNvbHVtbiA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5jb2x1bW4gPT09IGFjdGl2ZUluZGV4KVswXTtcbiAgICBsZXQgYWN0aXZlU2xpZGVJbmRleCA9IHBhcnNlSW50KGZpcnN0U2xpZGVJbkNvbHVtbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKGFjdGl2ZVNsaWRlSW5kZXgpKSB7XG4gICAgICBhY3RpdmVTbGlkZUluZGV4ID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlcy5pbmRleE9mKGZpcnN0U2xpZGVJbkNvbHVtbiksIDApO1xuICAgIH1cbiAgICByZWFsSW5kZXggPSBNYXRoLmZsb29yKGFjdGl2ZVNsaWRlSW5kZXggLyBwYXJhbXMuZ3JpZC5yb3dzKTtcbiAgfSBlbHNlIGlmIChzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XSkge1xuICAgIGNvbnN0IHNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzW2FjdGl2ZUluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHNsaWRlSW5kZXgsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhbEluZGV4ID0gYWN0aXZlSW5kZXg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWxJbmRleCA9IGFjdGl2ZUluZGV4O1xuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgcHJldmlvdXNTbmFwSW5kZXgsXG4gICAgc25hcEluZGV4LFxuICAgIHByZXZpb3VzUmVhbEluZGV4LFxuICAgIHJlYWxJbmRleCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4XG4gIH0pO1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkKSB7XG4gICAgcHJlbG9hZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5lbWl0KCdhY3RpdmVJbmRleENoYW5nZScpO1xuICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gIGlmIChzd2lwZXIuaW5pdGlhbGl6ZWQgfHwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpIHtcbiAgICBpZiAocHJldmlvdXNSZWFsSW5kZXggIT09IHJlYWxJbmRleCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ3JlYWxJbmRleENoYW5nZScpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVDaGFuZ2UnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDbGlja2VkU2xpZGUoZWwsIHBhdGgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcztcbiAgbGV0IHNsaWRlID0gZWwuY2xvc2VzdChgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgaWYgKCFzbGlkZSAmJiBzd2lwZXIuaXNFbGVtZW50ICYmIHBhdGggJiYgcGF0aC5sZW5ndGggPiAxICYmIHBhdGguaW5jbHVkZXMoZWwpKSB7XG4gICAgWy4uLnBhdGguc2xpY2UocGF0aC5pbmRleE9mKGVsKSArIDEsIHBhdGgubGVuZ3RoKV0uZm9yRWFjaChwYXRoRWwgPT4ge1xuICAgICAgaWYgKCFzbGlkZSAmJiBwYXRoRWwubWF0Y2hlcyAmJiBwYXRoRWwubWF0Y2hlcyhgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkge1xuICAgICAgICBzbGlkZSA9IHBhdGhFbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXQgc2xpZGVGb3VuZCA9IGZhbHNlO1xuICBsZXQgc2xpZGVJbmRleDtcbiAgaWYgKHNsaWRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpXSA9PT0gc2xpZGUpIHtcbiAgICAgICAgc2xpZGVGb3VuZCA9IHRydWU7XG4gICAgICAgIHNsaWRlSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlICYmIHNsaWRlRm91bmQpIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gc2xpZGU7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gcGFyc2VJbnQoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSBzbGlkZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuY2xpY2tlZFNsaWRlID0gdW5kZWZpbmVkO1xuICAgIHN3aXBlci5jbGlja2VkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMuc2xpZGVUb0NsaWNrZWRTbGlkZSAmJiBzd2lwZXIuY2xpY2tlZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gc3dpcGVyLmFjdGl2ZUluZGV4KSB7XG4gICAgc3dpcGVyLnNsaWRlVG9DbGlja2VkU2xpZGUoKTtcbiAgfVxufVxuXG52YXIgdXBkYXRlID0ge1xuICB1cGRhdGVTaXplLFxuICB1cGRhdGVTbGlkZXMsXG4gIHVwZGF0ZUF1dG9IZWlnaHQsXG4gIHVwZGF0ZVNsaWRlc09mZnNldCxcbiAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3MsXG4gIHVwZGF0ZVByb2dyZXNzLFxuICB1cGRhdGVTbGlkZXNDbGFzc2VzLFxuICB1cGRhdGVBY3RpdmVJbmRleCxcbiAgdXBkYXRlQ2xpY2tlZFNsaWRlXG59O1xuXG5mdW5jdGlvbiBnZXRTd2lwZXJUcmFuc2xhdGUoYXhpcykge1xuICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgYXhpcyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAneCcgOiAneSc7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB0cmFuc2xhdGUsXG4gICAgd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybiB0cmFuc2xhdGU7XG4gIH1cbiAgbGV0IGN1cnJlbnRUcmFuc2xhdGUgPSBnZXRUcmFuc2xhdGUod3JhcHBlckVsLCBheGlzKTtcbiAgY3VycmVudFRyYW5zbGF0ZSArPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gIGlmIChydGwpIGN1cnJlbnRUcmFuc2xhdGUgPSAtY3VycmVudFRyYW5zbGF0ZTtcbiAgcmV0dXJuIGN1cnJlbnRUcmFuc2xhdGUgfHwgMDtcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBwYXJhbXMsXG4gICAgd3JhcHBlckVsLFxuICAgIHByb2dyZXNzXG4gIH0gPSBzd2lwZXI7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICBjb25zdCB6ID0gMDtcbiAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgIHggPSBydGwgPyAtdHJhbnNsYXRlIDogdHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIHkgPSB0cmFuc2xhdGU7XG4gIH1cbiAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHtcbiAgICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgICB5ID0gTWF0aC5mbG9vcih5KTtcbiAgfVxuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBzd2lwZXIudHJhbnNsYXRlID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8geCA6IHk7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAteCA6IC15O1xuICB9IGVsc2UgaWYgKCFwYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkge1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggLT0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5IC09IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgICB9XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9cHgsICR7eX1weCwgJHt6fXB4KWA7XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSBwcm9ncmVzc1xuICBsZXQgbmV3UHJvZ3Jlc3M7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBpZiAodHJhbnNsYXRlc0RpZmYgPT09IDApIHtcbiAgICBuZXdQcm9ncmVzcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gcHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3ModHJhbnNsYXRlKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gbWluVHJhbnNsYXRlKCkge1xuICByZXR1cm4gLXRoaXMuc25hcEdyaWRbMF07XG59XG5cbmZ1bmN0aW9uIG1heFRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkW3RoaXMuc25hcEdyaWQubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZVRvKHRyYW5zbGF0ZSwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgdHJhbnNsYXRlQm91bmRzLCBpbnRlcm5hbCkge1xuICBpZiAodHJhbnNsYXRlID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGUgPSAwO1xuICB9XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgPT09IHZvaWQgMCkge1xuICAgIHRyYW5zbGF0ZUJvdW5kcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB3cmFwcGVyRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBtaW5UcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGNvbnN0IG1heFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgbGV0IG5ld1RyYW5zbGF0ZTtcbiAgaWYgKHRyYW5zbGF0ZUJvdW5kcyAmJiB0cmFuc2xhdGUgPiBtaW5UcmFuc2xhdGUpIG5ld1RyYW5zbGF0ZSA9IG1pblRyYW5zbGF0ZTtlbHNlIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlIDwgbWF4VHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtYXhUcmFuc2xhdGU7ZWxzZSBuZXdUcmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdUcmFuc2xhdGUpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBjb25zdCBpc0ggPSBzd2lwZXIuaXNIb3Jpem9udGFsKCk7XG4gICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICB3cmFwcGVyRWxbaXNIID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gLW5ld1RyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzd2lwZXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpIHtcbiAgICAgICAgYW5pbWF0ZUNTU01vZGVTY3JvbGwoe1xuICAgICAgICAgIHN3aXBlcixcbiAgICAgICAgICB0YXJnZXRQb3NpdGlvbjogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgICBzaWRlOiBpc0ggPyAnbGVmdCcgOiAndG9wJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB3cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgICBbaXNIID8gJ2xlZnQnIDogJ3RvcCddOiAtbmV3VHJhbnNsYXRlLFxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbihzcGVlZCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25TdGFydCcpO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgaWYgKCFzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSB7XG4gICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgICAgaWYgKHJ1bkNhbGxiYWNrcykge1xuICAgICAgICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbnZhciB0cmFuc2xhdGUgPSB7XG4gIGdldFRyYW5zbGF0ZTogZ2V0U3dpcGVyVHJhbnNsYXRlLFxuICBzZXRUcmFuc2xhdGUsXG4gIG1pblRyYW5zbGF0ZSxcbiAgbWF4VHJhbnNsYXRlLFxuICB0cmFuc2xhdGVUb1xufTtcblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSBkdXJhdGlvbiA9PT0gMCA/IGAwbXNgIDogJyc7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zaXRpb24nLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVtaXQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXBcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleCxcbiAgICBwcmV2aW91c0luZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGxldCBkaXIgPSBkaXJlY3Rpb247XG4gIGlmICghZGlyKSB7XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gcHJldmlvdXNJbmRleCkgZGlyID0gJ25leHQnO2Vsc2UgaWYgKGFjdGl2ZUluZGV4IDwgcHJldmlvdXNJbmRleCkgZGlyID0gJ3ByZXYnO2Vsc2UgZGlyID0gJ3Jlc2V0JztcbiAgfVxuICBzd2lwZXIuZW1pdChgdHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgaWYgKHJ1bkNhbGxiYWNrcyAmJiBhY3RpdmVJbmRleCAhPT0gcHJldmlvdXNJbmRleCkge1xuICAgIGlmIChkaXIgPT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZVJlc2V0VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoYHNsaWRlQ2hhbmdlVHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICBpZiAoZGlyID09PSAnbmV4dCcpIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZU5leHRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZW1pdChgc2xpZGVQcmV2VHJhbnNpdGlvbiR7c3RlcH1gKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvblN0YXJ0KHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgfVxuICB0cmFuc2l0aW9uRW1pdCh7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcDogJ1N0YXJ0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbikge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnRW5kJ1xuICB9KTtcbn1cblxudmFyIHRyYW5zaXRpb24gPSB7XG4gIHNldFRyYW5zaXRpb24sXG4gIHRyYW5zaXRpb25TdGFydCxcbiAgdHJhbnNpdGlvbkVuZFxufTtcblxuZnVuY3Rpb24gc2xpZGVUbyhpbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwsIGluaXRpYWwpIHtcbiAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICBpbmRleCA9IDA7XG4gIH1cbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICBpbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgbGV0IHNsaWRlSW5kZXggPSBpbmRleDtcbiAgaWYgKHNsaWRlSW5kZXggPCAwKSBzbGlkZUluZGV4ID0gMDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHByZXZpb3VzSW5kZXgsXG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgd3JhcHBlckVsLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHN3aXBlci5hbmltYXRpbmcgJiYgcGFyYW1zLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbiB8fCAhZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBzbGlkZUluZGV4KTtcbiAgbGV0IHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChzbGlkZUluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IC1zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSAtTWF0aC5mbG9vcih0cmFuc2xhdGUgKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaV0gKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWROZXh0ID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2kgKyAxXSAqIDEwMCk7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0IC0gKG5vcm1hbGl6ZWRHcmlkTmV4dCAtIG5vcm1hbGl6ZWRHcmlkKSAvIDIpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkICYmIHNsaWRlSW5kZXggIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgKHJ0bCA/IHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogdHJhbnNsYXRlIDwgc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPCBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoKGFjdGl2ZUluZGV4IHx8IDApICE9PSBzbGlkZUluZGV4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlSW5kZXggIT09IChwcmV2aW91c0luZGV4IHx8IDApICYmIHJ1bkNhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Jyk7XG4gIH1cblxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIGxldCBkaXJlY3Rpb247XG4gIGlmIChzbGlkZUluZGV4ID4gYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICduZXh0JztlbHNlIGlmIChzbGlkZUluZGV4IDwgYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICdwcmV2JztlbHNlIGRpcmVjdGlvbiA9ICdyZXNldCc7XG5cbiAgLy8gVXBkYXRlIEluZGV4XG4gIGlmIChydGwgJiYgLXRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSB8fCAhcnRsICYmIHRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSkge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgICAvLyBVcGRhdGUgSGVpZ2h0XG4gICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgIH1cbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIGlmIChwYXJhbXMuZWZmZWN0ICE9PSAnc2xpZGUnKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgfVxuICAgIGlmIChkaXJlY3Rpb24gIT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgY29uc3QgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHQgPSBydGwgPyB0cmFuc2xhdGUgOiAtdHJhbnNsYXRlO1xuICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsICYmICFzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCAmJiBzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSA+IDApIHtcbiAgICAgICAgc3dpcGVyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgfVxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgICAgICBzd2lwZXIuX2ltbWVkaWF0ZVZpcnR1YWwgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IHQsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogdCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIH0gZWxzZSBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9Mb29wKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGluZGV4QXNOdW1iZXIgPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgIGluZGV4ID0gaW5kZXhBc051bWJlcjtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGxldCBuZXdJbmRleCA9IGluZGV4O1xuICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5ld0luZGV4ID0gbmV3SW5kZXggKyBzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0YXJnZXRTbGlkZUluZGV4O1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSW5kZXggPSBuZXdJbmRleCAqIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgICB0YXJnZXRTbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IHNsaWRlSW5kZXgpWzBdLmNvbHVtbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xzID0gZ3JpZEVuYWJsZWQgPyBNYXRoLmNlaWwoc3dpcGVyLnNsaWRlcy5sZW5ndGggLyBzd2lwZXIucGFyYW1zLmdyaWQucm93cykgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2VudGVyZWRTbGlkZXNcbiAgICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgICAgbGV0IHNsaWRlc1BlclZpZXcgPSBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAoc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXcgPSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlc1BlclZpZXcgPSBNYXRoLmNlaWwocGFyc2VGbG9hdChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgICAgIGlmIChjZW50ZXJlZFNsaWRlcyAmJiBzbGlkZXNQZXJWaWV3ICUgMiA9PT0gMCkge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXcgPSBzbGlkZXNQZXJWaWV3ICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IG5lZWRMb29wRml4ID0gY29scyAtIHRhcmdldFNsaWRlSW5kZXggPCBzbGlkZXNQZXJWaWV3O1xuICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgIG5lZWRMb29wRml4ID0gbmVlZExvb3BGaXggfHwgdGFyZ2V0U2xpZGVJbmRleCA8IE1hdGguY2VpbChzbGlkZXNQZXJWaWV3IC8gMik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExvb3BGaXgpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY2VudGVyZWRTbGlkZXMgPyB0YXJnZXRTbGlkZUluZGV4IDwgc3dpcGVyLmFjdGl2ZUluZGV4ID8gJ3ByZXYnIDogJ25leHQnIDogdGFyZ2V0U2xpZGVJbmRleCAtIHN3aXBlci5hY3RpdmVJbmRleCAtIDEgPCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPyAnbmV4dCcgOiAncHJldic7XG4gICAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgc2xpZGVUbzogdHJ1ZSxcbiAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiBkaXJlY3Rpb24gPT09ICduZXh0JyA/IHRhcmdldFNsaWRlSW5kZXggKyAxIDogdGFyZ2V0U2xpZGVJbmRleCAtIGNvbHMgKyAxLFxuICAgICAgICAgIHNsaWRlUmVhbEluZGV4OiBkaXJlY3Rpb24gPT09ICduZXh0JyA/IHN3aXBlci5yZWFsSW5kZXggOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IG5ld0luZGV4ICogc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICAgIG5ld0luZGV4ID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IHNsaWRlSW5kZXgpWzBdLmNvbHVtbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXhCeURhdGEobmV3SW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0pO1xuICByZXR1cm4gc3dpcGVyO1xufVxuXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIHNsaWRlTmV4dChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgZW5hYmxlZCxcbiAgICBwYXJhbXMsXG4gICAgYW5pbWF0aW5nXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuIHN3aXBlcjtcbiAgbGV0IHBlckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgIHBlckdyb3VwID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdjdXJyZW50JywgdHJ1ZSksIDEpO1xuICB9XG4gIGNvbnN0IGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGVyR3JvdXA7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ25leHQnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICAgIGlmIChzd2lwZXIuYWN0aXZlSW5kZXggPT09IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVByZXYoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHNwZWVkID09PSB2b2lkIDApIHtcbiAgICBzcGVlZCA9IHRoaXMucGFyYW1zLnNwZWVkO1xuICB9XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbmFwR3JpZCxcbiAgICBzbGlkZXNHcmlkLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybiBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ3ByZXYnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICB9XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHJ0bFRyYW5zbGF0ZSA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbCkge1xuICAgIGlmICh2YWwgPCAwKSByZXR1cm4gLU1hdGguZmxvb3IoTWF0aC5hYnModmFsKSk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkVHJhbnNsYXRlID0gbm9ybWFsaXplKHRyYW5zbGF0ZSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTbmFwR3JpZCA9IHNuYXBHcmlkLm1hcCh2YWwgPT4gbm9ybWFsaXplKHZhbCkpO1xuICBsZXQgcHJldlNuYXAgPSBzbmFwR3JpZFtub3JtYWxpemVkU25hcEdyaWQuaW5kZXhPZihub3JtYWxpemVkVHJhbnNsYXRlKSAtIDFdO1xuICBpZiAodHlwZW9mIHByZXZTbmFwID09PSAndW5kZWZpbmVkJyAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIGxldCBwcmV2U25hcEluZGV4O1xuICAgIHNuYXBHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgaWYgKG5vcm1hbGl6ZWRUcmFuc2xhdGUgPj0gc25hcCkge1xuICAgICAgICAvLyBwcmV2U25hcCA9IHNuYXA7XG4gICAgICAgIHByZXZTbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBwcmV2U25hcEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcHJldlNuYXAgPSBzbmFwR3JpZFtwcmV2U25hcEluZGV4ID4gMCA/IHByZXZTbmFwSW5kZXggLSAxIDogcHJldlNuYXBJbmRleF07XG4gICAgfVxuICB9XG4gIGxldCBwcmV2SW5kZXggPSAwO1xuICBpZiAodHlwZW9mIHByZXZTbmFwICE9PSAndW5kZWZpbmVkJykge1xuICAgIHByZXZJbmRleCA9IHNsaWRlc0dyaWQuaW5kZXhPZihwcmV2U25hcCk7XG4gICAgaWYgKHByZXZJbmRleCA8IDApIHByZXZJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCAtIDE7XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cEF1dG8pIHtcbiAgICAgIHByZXZJbmRleCA9IHByZXZJbmRleCAtIHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygncHJldmlvdXMnLCB0cnVlKSArIDE7XG4gICAgICBwcmV2SW5kZXggPSBNYXRoLm1heChwcmV2SW5kZXgsIDApO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICBjb25zdCBsYXN0SW5kZXggPSBzd2lwZXIucGFyYW1zLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8obGFzdEluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gIH0gZWxzZSBpZiAocGFyYW1zLmxvb3AgJiYgc3dpcGVyLmFjdGl2ZUluZGV4ID09PSAwICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHByZXZJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVJlc2V0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVRvQ2xvc2VzdChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgdGhyZXNob2xkKSB7XG4gIGlmIChzcGVlZCA9PT0gdm9pZCAwKSB7XG4gICAgc3BlZWQgPSB0aGlzLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgIHRocmVzaG9sZCA9IDAuNTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBsZXQgaW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gIGNvbnN0IHNraXAgPSBNYXRoLm1pbihzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCwgaW5kZXgpO1xuICBjb25zdCBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoaW5kZXggLSBza2lwKSAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBpZiAodHJhbnNsYXRlID49IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlIGlzIG9uIG9yIGFmdGVyIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGFmdGVyIGl0LlxuICAgIGNvbnN0IGN1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG4gICAgY29uc3QgbmV4dFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4ICsgMV07XG4gICAgaWYgKHRyYW5zbGF0ZSAtIGN1cnJlbnRTbmFwID4gKG5leHRTbmFwIC0gY3VycmVudFNuYXApICogdGhyZXNob2xkKSB7XG4gICAgICBpbmRleCArPSBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgYmVmb3JlIHRoZSBjdXJyZW50IHNuYXAgaW5kZXgsIHNvIHRoZSBjaG9pY2VcbiAgICAvLyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGluZGV4IGFuZCB0aGUgb25lIGJlZm9yZSBpdC5cbiAgICBjb25zdCBwcmV2U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggLSAxXTtcbiAgICBjb25zdCBjdXJyZW50U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAgIGlmICh0cmFuc2xhdGUgLSBwcmV2U25hcCA8PSAoY3VycmVudFNuYXAgLSBwcmV2U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4IC09IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9XG4gIGluZGV4ID0gTWF0aC5tYXgoaW5kZXgsIDApO1xuICBpbmRleCA9IE1hdGgubWluKGluZGV4LCBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9DbGlja2VkU2xpZGUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICBsZXQgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgbGV0IHJlYWxJbmRleDtcbiAgY29uc3Qgc2xpZGVTZWxlY3RvciA9IHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtwYXJhbXMuc2xpZGVDbGFzc31gO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykgcmV0dXJuO1xuICAgIHJlYWxJbmRleCA9IHBhcnNlSW50KHN3aXBlci5jbGlja2VkU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgaWYgKHNsaWRlVG9JbmRleCA8IHN3aXBlci5sb29wZWRTbGlkZXMgLSBzbGlkZXNQZXJWaWV3IC8gMiB8fCBzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHN3aXBlci5sb29wZWRTbGlkZXMgKyBzbGlkZXNQZXJWaWV3IC8gMikge1xuICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICBzbGlkZVRvSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAke3NsaWRlU2VsZWN0b3J9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdYClbMF0pO1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xpZGVUb0luZGV4ID4gc3dpcGVyLnNsaWRlcy5sZW5ndGggLSBzbGlkZXNQZXJWaWV3KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgc2xpZGVUb0luZGV4ID0gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgJHtzbGlkZVNlbGVjdG9yfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7cmVhbEluZGV4fVwiXWApWzBdKTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICB9XG59XG5cbnZhciBzbGlkZSA9IHtcbiAgc2xpZGVUbyxcbiAgc2xpZGVUb0xvb3AsXG4gIHNsaWRlTmV4dCxcbiAgc2xpZGVQcmV2LFxuICBzbGlkZVJlc2V0LFxuICBzbGlkZVRvQ2xvc2VzdCxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZVxufTtcblxuZnVuY3Rpb24gbG9vcENyZWF0ZShzbGlkZVJlYWxJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghcGFyYW1zLmxvb3AgfHwgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHJldHVybjtcbiAgY29uc3QgaW5pdFNsaWRlcyA9ICgpID0+IHtcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIHNsaWRlcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIGNvbnN0IHNsaWRlc1Blckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwICogKGdyaWRFbmFibGVkID8gcGFyYW1zLmdyaWQucm93cyA6IDEpO1xuICBjb25zdCBzaG91bGRGaWxsR3JvdXAgPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHNsaWRlc1Blckdyb3VwICE9PSAwO1xuICBjb25zdCBzaG91bGRGaWxsR3JpZCA9IGdyaWRFbmFibGVkICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgcGFyYW1zLmdyaWQucm93cyAhPT0gMDtcbiAgY29uc3QgYWRkQmxhbmtTbGlkZXMgPSBhbW91bnRPZlNsaWRlcyA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnRPZlNsaWRlczsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLmlzRWxlbWVudCA/IGNyZWF0ZUVsZW1lbnQoJ3N3aXBlci1zbGlkZScsIFtwYXJhbXMuc2xpZGVCbGFua0NsYXNzXSkgOiBjcmVhdGVFbGVtZW50KCdkaXYnLCBbcGFyYW1zLnNsaWRlQ2xhc3MsIHBhcmFtcy5zbGlkZUJsYW5rQ2xhc3NdKTtcbiAgICAgIHN3aXBlci5zbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAoc2hvdWxkRmlsbEdyb3VwKSB7XG4gICAgaWYgKHBhcmFtcy5sb29wQWRkQmxhbmtTbGlkZXMpIHtcbiAgICAgIGNvbnN0IHNsaWRlc1RvQWRkID0gc2xpZGVzUGVyR3JvdXAgLSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHNsaWRlc1Blckdyb3VwO1xuICAgICAgYWRkQmxhbmtTbGlkZXMoc2xpZGVzVG9BZGQpO1xuICAgICAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGV2ZW4gdG8gc2xpZGVzUGVyR3JvdXAsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKScpO1xuICAgIH1cbiAgICBpbml0U2xpZGVzKCk7XG4gIH0gZWxzZSBpZiAoc2hvdWxkRmlsbEdyaWQpIHtcbiAgICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcykge1xuICAgICAgY29uc3Qgc2xpZGVzVG9BZGQgPSBwYXJhbXMuZ3JpZC5yb3dzIC0gc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBwYXJhbXMuZ3JpZC5yb3dzO1xuICAgICAgYWRkQmxhbmtTbGlkZXMoc2xpZGVzVG9BZGQpO1xuICAgICAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGV2ZW4gdG8gZ3JpZC5yb3dzLCBsb29wIG1vZGUgbWF5IG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMsIG9yIGVtcHR5IHNsaWRlcyknKTtcbiAgICB9XG4gICAgaW5pdFNsaWRlcygpO1xuICB9IGVsc2Uge1xuICAgIGluaXRTbGlkZXMoKTtcbiAgfVxuICBzd2lwZXIubG9vcEZpeCh7XG4gICAgc2xpZGVSZWFsSW5kZXgsXG4gICAgZGlyZWN0aW9uOiBwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyB1bmRlZmluZWQgOiAnbmV4dCdcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvb3BGaXgoX3RlbXApIHtcbiAgbGV0IHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBzbGlkZVRvID0gdHJ1ZSxcbiAgICBkaXJlY3Rpb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgYnlDb250cm9sbGVyLFxuICAgIGJ5TW91c2V3aGVlbFxuICB9ID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLnBhcmFtcy5sb29wKSByZXR1cm47XG4gIHN3aXBlci5lbWl0KCdiZWZvcmVMb29wRml4Jyk7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgc2xpZGVzRWwsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHtcbiAgICBjZW50ZXJlZFNsaWRlc1xuICB9ID0gcGFyYW1zO1xuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSB0cnVlO1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSB0cnVlO1xuICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgIGlmIChzbGlkZVRvKSB7XG4gICAgICBpZiAoIXBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIuc25hcEluZGV4ID09PSAwKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5zbmFwSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyVmlldykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoICsgc3dpcGVyLnNuYXBJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChzd2lwZXIuc25hcEluZGV4ID09PSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoIC0gMSkge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIudmlydHVhbC5zbGlkZXNCZWZvcmUsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gICAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gICAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNsaWRlc1BlclZpZXcgPSBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgaWYgKHNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHNsaWRlc1BlclZpZXcgPSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKTtcbiAgfSBlbHNlIHtcbiAgICBzbGlkZXNQZXJWaWV3ID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSk7XG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICBzbGlkZXNQZXJWaWV3ID0gc2xpZGVzUGVyVmlldyArIDE7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNsaWRlc1Blckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0byA/IHNsaWRlc1BlclZpZXcgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGxldCBsb29wZWRTbGlkZXMgPSBzbGlkZXNQZXJHcm91cDtcbiAgaWYgKGxvb3BlZFNsaWRlcyAlIHNsaWRlc1Blckdyb3VwICE9PSAwKSB7XG4gICAgbG9vcGVkU2xpZGVzICs9IHNsaWRlc1Blckdyb3VwIC0gbG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXA7XG4gIH1cbiAgbG9vcGVkU2xpZGVzICs9IHBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcztcbiAgc3dpcGVyLmxvb3BlZFNsaWRlcyA9IGxvb3BlZFNsaWRlcztcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPCBzbGlkZXNQZXJWaWV3ICsgbG9vcGVkU2xpZGVzKSB7XG4gICAgc2hvd1dhcm5pbmcoJ1N3aXBlciBMb29wIFdhcm5pbmc6IFRoZSBudW1iZXIgb2Ygc2xpZGVzIGlzIG5vdCBlbm91Z2ggZm9yIGxvb3AgbW9kZSwgaXQgd2lsbCBiZSBkaXNhYmxlZCBhbmQgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcykgb3IgbG93ZXIgdGhlIHZhbHVlcyBvZiBzbGlkZXNQZXJWaWV3IGFuZCBzbGlkZXNQZXJHcm91cCBwYXJhbWV0ZXJzJyk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ3JvdycpIHtcbiAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogTG9vcCBtb2RlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggZ3JpZC5maWxsID0gYHJvd2AnKTtcbiAgfVxuICBjb25zdCBwcmVwZW5kU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBjb25zdCBhcHBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGxldCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHR5cGVvZiBhY3RpdmVTbGlkZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChzbGlkZXMuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykpWzBdKTtcbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIH1cbiAgY29uc3QgaXNOZXh0ID0gZGlyZWN0aW9uID09PSAnbmV4dCcgfHwgIWRpcmVjdGlvbjtcbiAgY29uc3QgaXNQcmV2ID0gZGlyZWN0aW9uID09PSAncHJldicgfHwgIWRpcmVjdGlvbjtcbiAgbGV0IHNsaWRlc1ByZXBlbmRlZCA9IDA7XG4gIGxldCBzbGlkZXNBcHBlbmRlZCA9IDA7XG4gIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzbGlkZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cykgOiBzbGlkZXMubGVuZ3RoO1xuICBjb25zdCBhY3RpdmVDb2xJbmRleCA9IGdyaWRFbmFibGVkID8gc2xpZGVzW2FjdGl2ZVNsaWRlSW5kZXhdLmNvbHVtbiA6IGFjdGl2ZVNsaWRlSW5kZXg7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0ID0gYWN0aXZlQ29sSW5kZXggKyAoY2VudGVyZWRTbGlkZXMgJiYgdHlwZW9mIHNldFRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyAtc2xpZGVzUGVyVmlldyAvIDIgKyAwLjUgOiAwKTtcbiAgLy8gcHJlcGVuZCBsYXN0IHNsaWRlcyBiZWZvcmUgc3RhcnRcbiAgaWYgKGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0IDwgbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzUHJlcGVuZGVkID0gTWF0aC5tYXgobG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQsIHNsaWRlc1Blckdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvb3BlZFNsaWRlcyAtIGFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0OyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBjb2xJbmRleFRvUHJlcGVuZCA9IGNvbHMgLSBpbmRleCAtIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSBzbGlkZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICBpZiAoc2xpZGVzW2ldLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICAgIC8vICAgaWYgKHNsaWRlLmNvbHVtbiA9PT0gY29sSW5kZXhUb1ByZXBlbmQpIHByZXBlbmRTbGlkZXNJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChjb2xzIC0gaW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgKyBzbGlkZXNQZXJWaWV3ID4gY29scyAtIGxvb3BlZFNsaWRlcykge1xuICAgIHNsaWRlc0FwcGVuZGVkID0gTWF0aC5tYXgoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgLSAoY29scyAtIGxvb3BlZFNsaWRlcyAqIDIpLCBzbGlkZXNQZXJHcm91cCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNBcHBlbmRlZDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGkgLSBNYXRoLmZsb29yKGkgLyBjb2xzKSAqIGNvbHM7XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKHNsaWRlLmNvbHVtbiA9PT0gaW5kZXgpIGFwcGVuZFNsaWRlc0luZGV4ZXMucHVzaChzbGlkZUluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmRTbGlkZXNJbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgfSk7XG4gIGlmIChpc1ByZXYpIHtcbiAgICBwcmVwZW5kU2xpZGVzSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSB0cnVlO1xuICAgICAgc2xpZGVzRWwucHJlcGVuZChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBpZiAoaXNOZXh0KSB7XG4gICAgYXBwZW5kU2xpZGVzSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHNsaWRlc1tpbmRleF0uc3dpcGVyTG9vcE1vdmVET00gPSB0cnVlO1xuICAgICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlc1tpbmRleF0pO1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgaWYgKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQgJiYgKHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNQcmV2IHx8IGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc05leHQpKSB7XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgc2xpZGVJbmRleCkgPT4ge1xuICAgICAgc3dpcGVyLmdyaWQudXBkYXRlU2xpZGUoc2xpZGVJbmRleCwgc2xpZGUsIHN3aXBlci5zbGlkZXMpO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNPZmZzZXQoKTtcbiAgfVxuICBpZiAoc2xpZGVUbykge1xuICAgIGlmIChwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzUHJldikge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZVJlYWxJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4ICsgc2xpZGVzUHJlcGVuZGVkXTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1NsaWRlVHJhbnNsYXRlIC0gY3VycmVudFNsaWRlVHJhbnNsYXRlO1xuICAgICAgICBpZiAoYnlNb3VzZXdoZWVsKSB7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShzd2lwZXIudHJhbnNsYXRlIC0gZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggKyBzbGlkZXNQcmVwZW5kZWQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAoc2V0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLmN1cnJlbnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBwcmVwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoO1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCArIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkge1xuICAgICAgaWYgKHR5cGVvZiBzbGlkZVJlYWxJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdO1xuICAgICAgICBjb25zdCBuZXdTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4IC0gc2xpZGVzQXBwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gZ3JpZEVuYWJsZWQgPyBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCAvIHBhcmFtcy5ncmlkLnJvd3MgOiBhcHBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4IC0gc2hpZnQsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gYWxsb3dTbGlkZVByZXY7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IGFsbG93U2xpZGVOZXh0O1xuICBpZiAoc3dpcGVyLmNvbnRyb2xsZXIgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCAmJiAhYnlDb250cm9sbGVyKSB7XG4gICAgY29uc3QgbG9vcFBhcmFtcyA9IHtcbiAgICAgIHNsaWRlUmVhbEluZGV4LFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgc2V0VHJhbnNsYXRlLFxuICAgICAgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGJ5Q29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKCFjLmRlc3Ryb3llZCAmJiBjLnBhcmFtcy5sb29wKSBjLmxvb3BGaXgoe1xuICAgICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgICAgc2xpZGVUbzogYy5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgaW5zdGFuY2VvZiBzd2lwZXIuY29uc3RydWN0b3IgJiYgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5sb29wRml4KHtcbiAgICAgICAgLi4ubG9vcFBhcmFtcyxcbiAgICAgICAgc2xpZGVUbzogc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbC5wYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPyBzbGlkZVRvIDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzd2lwZXIuZW1pdCgnbG9vcEZpeCcpO1xufVxuXG5mdW5jdGlvbiBsb29wRGVzdHJveSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIXBhcmFtcy5sb29wIHx8IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgY29uc3QgbmV3U2xpZGVzT3JkZXIgPSBbXTtcbiAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gdHlwZW9mIHNsaWRlRWwuc3dpcGVyU2xpZGVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgOiBzbGlkZUVsLnN3aXBlclNsaWRlSW5kZXg7XG4gICAgbmV3U2xpZGVzT3JkZXJbaW5kZXhdID0gc2xpZGVFbDtcbiAgfSk7XG4gIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBzbGlkZUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKTtcbiAgfSk7XG4gIG5ld1NsaWRlc09yZGVyLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlRWwpO1xuICB9KTtcbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucmVhbEluZGV4LCAwKTtcbn1cblxudmFyIGxvb3AgPSB7XG4gIGxvb3BDcmVhdGUsXG4gIGxvb3BGaXgsXG4gIGxvb3BEZXN0cm95XG59O1xuXG5mdW5jdGlvbiBzZXRHcmFiQ3Vyc29yKG1vdmluZykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoIXN3aXBlci5wYXJhbXMuc2ltdWxhdGVUb3VjaCB8fCBzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBjb25zdCBlbCA9IHN3aXBlci5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICdjb250YWluZXInID8gc3dpcGVyLmVsIDogc3dpcGVyLndyYXBwZXJFbDtcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IHRydWU7XG4gIH1cbiAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnO1xuICBlbC5zdHlsZS5jdXJzb3IgPSBtb3ZpbmcgPyAnZ3JhYmJpbmcnIDogJ2dyYWInO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc2V0R3JhYkN1cnNvcigpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzd2lwZXIuaXNMb2NrZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICB9XG4gIHN3aXBlcltzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/ICdlbCcgOiAnd3JhcHBlckVsJ10uc3R5bGUuY3Vyc29yID0gJyc7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxudmFyIGdyYWJDdXJzb3IgPSB7XG4gIHNldEdyYWJDdXJzb3IsXG4gIHVuc2V0R3JhYkN1cnNvclxufTtcblxuLy8gTW9kaWZpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NDUyMDU1NC9jdXN0b20tZWxlbWVudC1nZXRyb290bm9kZS1jbG9zZXN0LWZ1bmN0aW9uLWNyb3NzaW5nLW11bHRpcGxlLXBhcmVudC1zaGFkb3dkXG5mdW5jdGlvbiBjbG9zZXN0RWxlbWVudChzZWxlY3RvciwgYmFzZSkge1xuICBpZiAoYmFzZSA9PT0gdm9pZCAwKSB7XG4gICAgYmFzZSA9IHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gX19jbG9zZXN0RnJvbShlbCkge1xuICAgIGlmICghZWwgfHwgZWwgPT09IGdldERvY3VtZW50KCkgfHwgZWwgPT09IGdldFdpbmRvdygpKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoZWwuYXNzaWduZWRTbG90KSBlbCA9IGVsLmFzc2lnbmVkU2xvdDtcbiAgICBjb25zdCBmb3VuZCA9IGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIGlmICghZm91bmQgJiYgIWVsLmdldFJvb3ROb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kIHx8IF9fY2xvc2VzdEZyb20oZWwuZ2V0Um9vdE5vZGUoKS5ob3N0KTtcbiAgfVxuICByZXR1cm4gX19jbG9zZXN0RnJvbShiYXNlKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBldmVudCwgc3RhcnRYKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGVkZ2VTd2lwZURldGVjdGlvbiA9IHBhcmFtcy5lZGdlU3dpcGVEZXRlY3Rpb247XG4gIGNvbnN0IGVkZ2VTd2lwZVRocmVzaG9sZCA9IHBhcmFtcy5lZGdlU3dpcGVUaHJlc2hvbGQ7XG4gIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gJiYgKHN0YXJ0WCA8PSBlZGdlU3dpcGVUaHJlc2hvbGQgfHwgc3RhcnRYID49IHdpbmRvdy5pbm5lcldpZHRoIC0gZWRnZVN3aXBlVGhyZXNob2xkKSkge1xuICAgIGlmIChlZGdlU3dpcGVEZXRlY3Rpb24gPT09ICdwcmV2ZW50Jykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBvblRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgaWYgKGUudHlwZSA9PT0gJ3BvaW50ZXJkb3duJykge1xuICAgIGlmIChkYXRhLnBvaW50ZXJJZCAhPT0gbnVsbCAmJiBkYXRhLnBvaW50ZXJJZCAhPT0gZS5wb2ludGVySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGF0YS5wb2ludGVySWQgPSBlLnBvaW50ZXJJZDtcbiAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgZGF0YS50b3VjaElkID0gZS50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXI7XG4gIH1cbiAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgLy8gZG9uJ3QgcHJvY2VlZCB0b3VjaCBldmVudFxuICAgIHByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBlLCBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVgpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5jc3NNb2RlICYmIHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BGaXgoKTtcbiAgfVxuICBsZXQgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgaWYgKHBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ3dyYXBwZXInKSB7XG4gICAgaWYgKCFzd2lwZXIud3JhcHBlckVsLmNvbnRhaW5zKHRhcmdldEVsKSkgcmV0dXJuO1xuICB9XG4gIGlmICgnd2hpY2gnIGluIGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuO1xuICBpZiAoJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiA+IDApIHJldHVybjtcbiAgaWYgKGRhdGEuaXNUb3VjaGVkICYmIGRhdGEuaXNNb3ZlZCkgcmV0dXJuO1xuXG4gIC8vIGNoYW5nZSB0YXJnZXQgZWwgZm9yIHNoYWRvdyByb290IGNvbXBvbmVudFxuICBjb25zdCBzd2lwaW5nQ2xhc3NIYXNWYWx1ZSA9ICEhcGFyYW1zLm5vU3dpcGluZ0NsYXNzICYmIHBhcmFtcy5ub1N3aXBpbmdDbGFzcyAhPT0gJyc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBldmVudFBhdGggPSBlLmNvbXBvc2VkUGF0aCA/IGUuY29tcG9zZWRQYXRoKCkgOiBlLnBhdGg7XG4gIGlmIChzd2lwaW5nQ2xhc3NIYXNWYWx1ZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290ICYmIGV2ZW50UGF0aCkge1xuICAgIHRhcmdldEVsID0gZXZlbnRQYXRoWzBdO1xuICB9XG4gIGNvbnN0IG5vU3dpcGluZ1NlbGVjdG9yID0gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yID8gcGFyYW1zLm5vU3dpcGluZ1NlbGVjdG9yIDogYC4ke3BhcmFtcy5ub1N3aXBpbmdDbGFzc31gO1xuICBjb25zdCBpc1RhcmdldFNoYWRvdyA9ICEhKGUudGFyZ2V0ICYmIGUudGFyZ2V0LnNoYWRvd1Jvb3QpO1xuXG4gIC8vIHVzZSBjbG9zZXN0RWxlbWVudCBmb3Igc2hhZG93IHJvb3QgZWxlbWVudCB0byBnZXQgdGhlIGFjdHVhbCBjbG9zZXN0IGZvciBuZXN0ZWQgc2hhZG93IHJvb3QgZWxlbWVudFxuICBpZiAocGFyYW1zLm5vU3dpcGluZyAmJiAoaXNUYXJnZXRTaGFkb3cgPyBjbG9zZXN0RWxlbWVudChub1N3aXBpbmdTZWxlY3RvciwgdGFyZ2V0RWwpIDogdGFyZ2V0RWwuY2xvc2VzdChub1N3aXBpbmdTZWxlY3RvcikpKSB7XG4gICAgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnN3aXBlSGFuZGxlcikge1xuICAgIGlmICghdGFyZ2V0RWwuY2xvc2VzdChwYXJhbXMuc3dpcGVIYW5kbGVyKSkgcmV0dXJuO1xuICB9XG4gIHRvdWNoZXMuY3VycmVudFggPSBlLnBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gZS5wYWdlWTtcbiAgY29uc3Qgc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgY29uc3Qgc3RhcnRZID0gdG91Y2hlcy5jdXJyZW50WTtcblxuICAvLyBEbyBOT1Qgc3RhcnQgaWYgaU9TIGVkZ2Ugc3dpcGUgaXMgZGV0ZWN0ZWQuIE90aGVyd2lzZSBpT1MgYXBwIGNhbm5vdCBzd2lwZS10by1nby1iYWNrIGFueW1vcmVcblxuICBpZiAoIXByZXZlbnRFZGdlU3dpcGUoc3dpcGVyLCBlLCBzdGFydFgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgIGlzVG91Y2hlZDogdHJ1ZSxcbiAgICBpc01vdmVkOiBmYWxzZSxcbiAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB0cnVlLFxuICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgc3RhcnRNb3Zpbmc6IHVuZGVmaW5lZFxuICB9KTtcbiAgdG91Y2hlcy5zdGFydFggPSBzdGFydFg7XG4gIHRvdWNoZXMuc3RhcnRZID0gc3RhcnRZO1xuICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID0gdW5kZWZpbmVkO1xuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gZmFsc2U7XG4gIGxldCBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gIGlmICh0YXJnZXRFbC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgcHJldmVudERlZmF1bHQgPSBmYWxzZTtcbiAgICBpZiAodGFyZ2V0RWwubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGFyZ2V0RWwpIHtcbiAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgfVxuICBjb25zdCBzaG91bGRQcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0ICYmIHN3aXBlci5hbGxvd1RvdWNoTW92ZSAmJiBwYXJhbXMudG91Y2hTdGFydFByZXZlbnREZWZhdWx0O1xuICBpZiAoKHBhcmFtcy50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCB8fCBzaG91bGRQcmV2ZW50RGVmYXVsdCkgJiYgIXRhcmdldEVsLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlICYmIHN3aXBlci5hbmltYXRpbmcgJiYgIXBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hTdGFydCgpO1xuICB9XG4gIHN3aXBlci5lbWl0KCd0b3VjaFN0YXJ0JywgZSk7XG59XG5cbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgdG91Y2hlcyxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGxldCBlID0gZXZlbnQ7XG4gIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gIGlmIChlLnR5cGUgPT09ICdwb2ludGVybW92ZScpIHtcbiAgICBpZiAoZGF0YS50b3VjaElkICE9PSBudWxsKSByZXR1cm47IC8vIHJldHVybiBmcm9tIHBvaW50ZXIgaWYgd2UgdXNlIHRvdWNoXG4gICAgY29uc3QgaWQgPSBlLnBvaW50ZXJJZDtcbiAgICBpZiAoaWQgIT09IGRhdGEucG9pbnRlcklkKSByZXR1cm47XG4gIH1cbiAgbGV0IHRhcmdldFRvdWNoO1xuICBpZiAoZS50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgIHRhcmdldFRvdWNoID0gWy4uLmUuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcih0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKVswXTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gZTtcbiAgfVxuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuc3RhcnRNb3ZpbmcgJiYgZGF0YS5pc1Njcm9sbGluZykge1xuICAgICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYWdlWCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuICBjb25zdCBwYWdlWSA9IHRhcmdldFRvdWNoLnBhZ2VZO1xuICBpZiAoZS5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcikge1xuICAgIHRvdWNoZXMuc3RhcnRYID0gcGFnZVg7XG4gICAgdG91Y2hlcy5zdGFydFkgPSBwYWdlWTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dUb3VjaE1vdmUpIHtcbiAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoZGF0YS5mb2N1c2FibGVFbGVtZW50cykpIHtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRhLmlzVG91Y2hlZCkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0b3VjaGVzLCB7XG4gICAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICAgIGN1cnJlbnRYOiBwYWdlWCxcbiAgICAgICAgY3VycmVudFk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICAgIGRhdGEudG91Y2hTdGFydFRpbWUgPSBub3coKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcyAmJiAhcGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLmlzVmVydGljYWwoKSkge1xuICAgICAgLy8gVmVydGljYWxcbiAgICAgIGlmIChwYWdlWSA8IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VZID4gdG91Y2hlcy5zdGFydFkgJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhZ2VYIDwgdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgfHwgcGFnZVggPiB0b3VjaGVzLnN0YXJ0WCAmJiBzd2lwZXIudHJhbnNsYXRlID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBlLnRhcmdldC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmUnLCBlKTtcbiAgfVxuICB0b3VjaGVzLnByZXZpb3VzWCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIHRvdWNoZXMucHJldmlvdXNZID0gdG91Y2hlcy5jdXJyZW50WTtcbiAgdG91Y2hlcy5jdXJyZW50WCA9IHBhZ2VYO1xuICB0b3VjaGVzLmN1cnJlbnRZID0gcGFnZVk7XG4gIGNvbnN0IGRpZmZYID0gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMuc3RhcnRYO1xuICBjb25zdCBkaWZmWSA9IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChkaWZmWCAqKiAyICsgZGlmZlkgKiogMikgPCBzd2lwZXIucGFyYW1zLnRocmVzaG9sZCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIGRhdGEuaXNTY3JvbGxpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGV0IHRvdWNoQW5nbGU7XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRZID09PSB0b3VjaGVzLnN0YXJ0WSB8fCBzd2lwZXIuaXNWZXJ0aWNhbCgpICYmIHRvdWNoZXMuY3VycmVudFggPT09IHRvdWNoZXMuc3RhcnRYKSB7XG4gICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgaWYgKGRpZmZYICogZGlmZlggKyBkaWZmWSAqIGRpZmZZID49IDI1KSB7XG4gICAgICAgIHRvdWNoQW5nbGUgPSBNYXRoLmF0YW4yKE1hdGguYWJzKGRpZmZZKSwgTWF0aC5hYnMoZGlmZlgpKSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgIGRhdGEuaXNTY3JvbGxpbmcgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGUgOiA5MCAtIHRvdWNoQW5nbGUgPiBwYXJhbXMudG91Y2hBbmdsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlT3Bwb3NpdGUnLCBlKTtcbiAgfVxuICBpZiAodHlwZW9mIGRhdGEuc3RhcnRNb3ZpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHRvdWNoZXMuY3VycmVudFggIT09IHRvdWNoZXMuc3RhcnRYIHx8IHRvdWNoZXMuY3VycmVudFkgIT09IHRvdWNoZXMuc3RhcnRZKSB7XG4gICAgICBkYXRhLnN0YXJ0TW92aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWRhdGEuc3RhcnRNb3ZpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgaWYgKCFwYXJhbXMuY3NzTW9kZSAmJiBlLmNhbmNlbGFibGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgaWYgKHBhcmFtcy50b3VjaE1vdmVTdG9wUHJvcGFnYXRpb24gJiYgIXBhcmFtcy5uZXN0ZWQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIGxldCBkaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZGlmZlggOiBkaWZmWTtcbiAgbGV0IHRvdWNoZXNEaWZmID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hlcy5jdXJyZW50WCAtIHRvdWNoZXMucHJldmlvdXNYIDogdG91Y2hlcy5jdXJyZW50WSAtIHRvdWNoZXMucHJldmlvdXNZO1xuICBpZiAocGFyYW1zLm9uZVdheU1vdmVtZW50KSB7XG4gICAgZGlmZiA9IE1hdGguYWJzKGRpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gICAgdG91Y2hlc0RpZmYgPSBNYXRoLmFicyh0b3VjaGVzRGlmZikgKiAocnRsID8gMSA6IC0xKTtcbiAgfVxuICB0b3VjaGVzLmRpZmYgPSBkaWZmO1xuICBkaWZmICo9IHBhcmFtcy50b3VjaFJhdGlvO1xuICBpZiAocnRsKSB7XG4gICAgZGlmZiA9IC1kaWZmO1xuICAgIHRvdWNoZXNEaWZmID0gLXRvdWNoZXNEaWZmO1xuICB9XG4gIGNvbnN0IHByZXZUb3VjaGVzRGlyZWN0aW9uID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb247XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IGRpZmYgPiAwID8gJ3ByZXYnIDogJ25leHQnO1xuICBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiA9IHRvdWNoZXNEaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgY29uc3QgaXNMb29wID0gc3dpcGVyLnBhcmFtcy5sb29wICYmICFwYXJhbXMuY3NzTW9kZTtcbiAgY29uc3QgYWxsb3dMb29wRml4ID0gc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBzd2lwZXIuYWxsb3dTbGlkZU5leHQgfHwgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBzd2lwZXIuYWxsb3dTbGlkZVByZXY7XG4gIGlmICghZGF0YS5pc01vdmVkKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXgpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiBzd2lwZXIuc3dpcGVEaXJlY3Rpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpO1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKDApO1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbiAgICBkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UgPSBmYWxzZTtcbiAgICAvLyBHcmFiIEN1cnNvclxuICAgIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiAoc3dpcGVyLmFsbG93U2xpZGVOZXh0ID09PSB0cnVlIHx8IHN3aXBlci5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKHRydWUpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnc2xpZGVyRmlyc3RNb3ZlJywgZSk7XG4gIH1cbiAgbGV0IGxvb3BGaXhlZDtcbiAgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGlmIChkYXRhLmlzTW92ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgcHJldlRvdWNoZXNEaXJlY3Rpb24gIT09IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uICYmIGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgTWF0aC5hYnMoZGlmZikgPj0gMSkge1xuICAgIE9iamVjdC5hc3NpZ24odG91Y2hlcywge1xuICAgICAgc3RhcnRYOiBwYWdlWCxcbiAgICAgIHN0YXJ0WTogcGFnZVksXG4gICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICBjdXJyZW50WTogcGFnZVksXG4gICAgICBzdGFydFRyYW5zbGF0ZTogZGF0YS5jdXJyZW50VHJhbnNsYXRlXG4gICAgfSk7XG4gICAgZGF0YS5sb29wU3dhcFJlc2V0ID0gdHJ1ZTtcbiAgICBkYXRhLnN0YXJ0VHJhbnNsYXRlID0gZGF0YS5jdXJyZW50VHJhbnNsYXRlO1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2xpZGVyTW92ZScsIGUpO1xuICBkYXRhLmlzTW92ZWQgPSB0cnVlO1xuICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkaWZmICsgZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgbGV0IGRpc2FibGVQYXJlbnRTd2lwZXIgPSB0cnVlO1xuICBsZXQgcmVzaXN0YW5jZVJhdGlvID0gcGFyYW1zLnJlc2lzdGFuY2VSYXRpbztcbiAgaWYgKHBhcmFtcy50b3VjaFJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgcmVzaXN0YW5jZVJhdGlvID0gMDtcbiAgfVxuICBpZiAoZGlmZiA+IDApIHtcbiAgICBpZiAoaXNMb29wICYmIGFsbG93TG9vcEZpeCAmJiAhbG9vcEZpeGVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IChwYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW3N3aXBlci5hY3RpdmVJbmRleCArIDFdIDogc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICdwcmV2JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA+IHN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSAtIDEgKyAoLXN3aXBlci5taW5UcmFuc2xhdGUoKSArIGRhdGEuc3RhcnRUcmFuc2xhdGUgKyBkaWZmKSAqKiByZXNpc3RhbmNlUmF0aW87XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpZmYgPCAwKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgIWxvb3BGaXhlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkLmxlbmd0aCAtIDFdIDogc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICBkaXJlY3Rpb246ICduZXh0JyxcbiAgICAgICAgc2V0VHJhbnNsYXRlOiB0cnVlLFxuICAgICAgICBhY3RpdmVTbGlkZUluZGV4OiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nID8gc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCkgOiBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBkaXNhYmxlUGFyZW50U3dpcGVyID0gZmFsc2U7XG4gICAgICBpZiAocGFyYW1zLnJlc2lzdGFuY2UpIHtcbiAgICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpICsgMSAtIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBkYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlcikge1xuICAgIGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSB0cnVlO1xuICB9XG5cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlTmV4dCAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPCBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBkYXRhLnN0YXJ0VHJhbnNsYXRlKSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAhc3dpcGVyLmFsbG93U2xpZGVOZXh0KSB7XG4gICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgfVxuXG4gIC8vIFRocmVzaG9sZFxuICBpZiAocGFyYW1zLnRocmVzaG9sZCA+IDApIHtcbiAgICBpZiAoTWF0aC5hYnMoZGlmZikgPiBwYXJhbXMudGhyZXNob2xkIHx8IGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICBpZiAoIWRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlKSB7XG4gICAgICAgIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hlcy5zdGFydFggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICAgICAgICB0b3VjaGVzLnN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gICAgICAgIHRvdWNoZXMuZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnN0YXJ0WTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoIXBhcmFtcy5mb2xsb3dGaW5nZXIgfHwgcGFyYW1zLmNzc01vZGUpIHJldHVybjtcblxuICAvLyBVcGRhdGUgYWN0aXZlIGluZGV4IGluIGZyZWUgbW9kZVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSB8fCBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUpIHtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaE1vdmUoKTtcbiAgfVxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKGRhdGEuY3VycmVudFRyYW5zbGF0ZSk7XG4gIC8vIFVwZGF0ZSB0cmFuc2xhdGVcbiAgc3dpcGVyLnNldFRyYW5zbGF0ZShkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBsZXQgdGFyZ2V0VG91Y2g7XG4gIGNvbnN0IGlzVG91Y2hFdmVudCA9IGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCc7XG4gIGlmICghaXNUb3VjaEV2ZW50KSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGlmIChlLnBvaW50ZXJJZCAhPT0gZGF0YS5wb2ludGVySWQpIHJldHVybjtcbiAgICB0YXJnZXRUb3VjaCA9IGU7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VG91Y2ggPSBbLi4uZS5jaGFuZ2VkVG91Y2hlc10uZmlsdGVyKHQgPT4gdC5pZGVudGlmaWVyID09PSBkYXRhLnRvdWNoSWQpWzBdO1xuICAgIGlmICghdGFyZ2V0VG91Y2ggfHwgdGFyZ2V0VG91Y2guaWRlbnRpZmllciAhPT0gZGF0YS50b3VjaElkKSByZXR1cm47XG4gIH1cbiAgaWYgKFsncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0JywgJ3BvaW50ZXJsZWF2ZScsICdjb250ZXh0bWVudSddLmluY2x1ZGVzKGUudHlwZSkpIHtcbiAgICBjb25zdCBwcm9jZWVkID0gWydwb2ludGVyY2FuY2VsJywgJ2NvbnRleHRtZW51J10uaW5jbHVkZXMoZS50eXBlKSAmJiAoc3dpcGVyLmJyb3dzZXIuaXNTYWZhcmkgfHwgc3dpcGVyLmJyb3dzZXIuaXNXZWJWaWV3KTtcbiAgICBpZiAoIXByb2NlZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgZGF0YS5wb2ludGVySWQgPSBudWxsO1xuICBkYXRhLnRvdWNoSWQgPSBudWxsO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXBhcmFtcy5zaW11bGF0ZVRvdWNoICYmIGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHJldHVybjtcbiAgaWYgKGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCd0b3VjaEVuZCcsIGUpO1xuICB9XG4gIGRhdGEuYWxsb3dUb3VjaENhbGxiYWNrcyA9IGZhbHNlO1xuICBpZiAoIWRhdGEuaXNUb3VjaGVkKSB7XG4gICAgaWYgKGRhdGEuaXNNb3ZlZCAmJiBwYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICAgIH1cbiAgICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgICBkYXRhLnN0YXJ0TW92aW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmV0dXJuIEdyYWIgQ3Vyc29yXG4gIGlmIChwYXJhbXMuZ3JhYkN1cnNvciAmJiBkYXRhLmlzTW92ZWQgJiYgZGF0YS5pc1RvdWNoZWQgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoZmFsc2UpO1xuICB9XG5cbiAgLy8gVGltZSBkaWZmXG4gIGNvbnN0IHRvdWNoRW5kVGltZSA9IG5vdygpO1xuICBjb25zdCB0aW1lRGlmZiA9IHRvdWNoRW5kVGltZSAtIGRhdGEudG91Y2hTdGFydFRpbWU7XG5cbiAgLy8gVGFwLCBkb3VibGVUYXAsIENsaWNrXG4gIGlmIChzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGNvbnN0IHBhdGhUcmVlID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG4gICAgc3dpcGVyLnVwZGF0ZUNsaWNrZWRTbGlkZShwYXRoVHJlZSAmJiBwYXRoVHJlZVswXSB8fCBlLnRhcmdldCwgcGF0aFRyZWUpO1xuICAgIHN3aXBlci5lbWl0KCd0YXAgY2xpY2snLCBlKTtcbiAgICBpZiAodGltZURpZmYgPCAzMDAgJiYgdG91Y2hFbmRUaW1lIC0gZGF0YS5sYXN0Q2xpY2tUaW1lIDwgMzAwKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnZG91YmxlVGFwIGRvdWJsZUNsaWNrJywgZSk7XG4gICAgfVxuICB9XG4gIGRhdGEubGFzdENsaWNrVGltZSA9IG5vdygpO1xuICBuZXh0VGljaygoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuZGVzdHJveWVkKSBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIH0pO1xuICBpZiAoIWRhdGEuaXNUb3VjaGVkIHx8ICFkYXRhLmlzTW92ZWQgfHwgIXN3aXBlci5zd2lwZURpcmVjdGlvbiB8fCB0b3VjaGVzLmRpZmYgPT09IDAgJiYgIWRhdGEubG9vcFN3YXBSZXNldCB8fCBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPT09IGRhdGEuc3RhcnRUcmFuc2xhdGUgJiYgIWRhdGEubG9vcFN3YXBSZXNldCkge1xuICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICBkYXRhLmlzTW92ZWQgPSBmYWxzZTtcbiAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICBsZXQgY3VycmVudFBvcztcbiAgaWYgKHBhcmFtcy5mb2xsb3dGaW5nZXIpIHtcbiAgICBjdXJyZW50UG9zID0gcnRsID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRQb3MgPSAtZGF0YS5jdXJyZW50VHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hFbmQoe1xuICAgICAgY3VycmVudFBvc1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZpbmQgY3VycmVudCBzbGlkZVxuICBjb25zdCBzd2lwZVRvTGFzdCA9IGN1cnJlbnRQb3MgPj0gLXN3aXBlci5tYXhUcmFuc2xhdGUoKSAmJiAhc3dpcGVyLnBhcmFtcy5sb29wO1xuICBsZXQgc3RvcEluZGV4ID0gMDtcbiAgbGV0IGdyb3VwU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbMF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzR3JpZC5sZW5ndGg7IGkgKz0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwKSB7XG4gICAgY29uc3QgaW5jcmVtZW50ID0gaSA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgLSAxID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3dpcGVUb0xhc3QgfHwgY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldICYmIGN1cnJlbnRQb3MgPCBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdKSB7XG4gICAgICAgIHN0b3BJbmRleCA9IGk7XG4gICAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbaSArIGluY3JlbWVudF0gLSBzbGlkZXNHcmlkW2ldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVUb0xhc3QgfHwgY3VycmVudFBvcyA+PSBzbGlkZXNHcmlkW2ldKSB7XG4gICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgZ3JvdXBTaXplID0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDFdIC0gc2xpZGVzR3JpZFtzbGlkZXNHcmlkLmxlbmd0aCAtIDJdO1xuICAgIH1cbiAgfVxuICBsZXQgcmV3aW5kRmlyc3RJbmRleCA9IG51bGw7XG4gIGxldCByZXdpbmRMYXN0SW5kZXggPSBudWxsO1xuICBpZiAocGFyYW1zLnJld2luZCkge1xuICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgIHJld2luZExhc3RJbmRleCA9IHBhcmFtcy52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgJiYgc3dpcGVyLnZpcnR1YWwgPyBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoIC0gMSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2UgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgcmV3aW5kRmlyc3RJbmRleCA9IDA7XG4gICAgfVxuICB9XG4gIC8vIEZpbmQgY3VycmVudCBzbGlkZSBzaXplXG4gIGNvbnN0IHJhdGlvID0gKGN1cnJlbnRQb3MgLSBzbGlkZXNHcmlkW3N0b3BJbmRleF0pIC8gZ3JvdXBTaXplO1xuICBjb25zdCBpbmNyZW1lbnQgPSBzdG9wSW5kZXggPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gIGlmICh0aW1lRGlmZiA+IHBhcmFtcy5sb25nU3dpcGVzTXMpIHtcbiAgICAvLyBMb25nIHRvdWNoZXNcbiAgICBpZiAoIXBhcmFtcy5sb25nU3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgIGlmIChyYXRpbyA+PSBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSBzd2lwZXIuc2xpZGVUbyhwYXJhbXMucmV3aW5kICYmIHN3aXBlci5pc0VuZCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO2Vsc2Ugc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICBpZiAocmF0aW8gPiAxIC0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmIChyZXdpbmRMYXN0SW5kZXggIT09IG51bGwgJiYgcmF0aW8gPCAwICYmIE1hdGguYWJzKHJhdGlvKSA+IHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kTGFzdEluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNob3J0IHN3aXBlc1xuICAgIGlmICghcGFyYW1zLnNob3J0U3dpcGVzKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpc05hdkJ1dHRvblRhcmdldCA9IHN3aXBlci5uYXZpZ2F0aW9uICYmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsIHx8IGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwpO1xuICAgIGlmICghaXNOYXZCdXR0b25UYXJnZXQpIHtcbiAgICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhyZXdpbmRGaXJzdEluZGV4ICE9PSBudWxsID8gcmV3aW5kRmlyc3RJbmRleCA6IHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kTGFzdEluZGV4ICE9PSBudWxsID8gcmV3aW5kTGFzdEluZGV4IDogc3RvcEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCArIGluY3JlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChlbCAmJiBlbC5vZmZzZXRXaWR0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIC8vIEJyZWFrcG9pbnRzXG4gIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICBzd2lwZXIuc2V0QnJlYWtwb2ludCgpO1xuICB9XG5cbiAgLy8gU2F2ZSBsb2Nrc1xuICBjb25zdCB7XG4gICAgYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXYsXG4gICAgc25hcEdyaWRcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG5cbiAgLy8gRGlzYWJsZSBsb2NrcyBvbiByZXNpemVcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gdHJ1ZTtcbiAgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID0gdHJ1ZTtcbiAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICBjb25zdCBpc1ZpcnR1YWxMb29wID0gaXNWaXJ0dWFsICYmIHBhcmFtcy5sb29wO1xuICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiAhaXNWaXJ0dWFsTG9vcCkge1xuICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgIWlzVmlydHVhbCkge1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKHN3aXBlci5yZWFsSW5kZXgsIDAsIGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGlmIChzd2lwZXIuYXV0b3BsYXkgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgIGNsZWFyVGltZW91dChzd2lwZXIuYXV0b3BsYXkucmVzaXplVGltZW91dCk7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChzd2lwZXIuYXV0b3BsYXkgJiYgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgJiYgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCkge1xuICAgICAgICBzd2lwZXIuYXV0b3BsYXkucmVzdW1lKCk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfVxuICAvLyBSZXR1cm4gbG9ja3MgYWZ0ZXIgcmVzaXplXG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgaWYgKHN3aXBlci5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzbmFwR3JpZCAhPT0gc3dpcGVyLnNuYXBHcmlkKSB7XG4gICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICBpZiAoIXN3aXBlci5hbGxvd0NsaWNrKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMucHJldmVudENsaWNrcykgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbiAmJiBzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIHN3aXBlci5wcmV2aW91c1RyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICBzd2lwZXIudHJhbnNsYXRlID0gLXdyYXBwZXJFbC5zY3JvbGxMZWZ0O1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci50cmFuc2xhdGUgPSAtd3JhcHBlckVsLnNjcm9sbFRvcDtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgaWYgKHN3aXBlci50cmFuc2xhdGUgPT09IDApIHN3aXBlci50cmFuc2xhdGUgPSAwO1xuICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICB9IGVsc2Uge1xuICAgIG5ld1Byb2dyZXNzID0gKHN3aXBlci50cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIC8gdHJhbnNsYXRlc0RpZmY7XG4gIH1cbiAgaWYgKG5ld1Byb2dyZXNzICE9PSBzd2lwZXIucHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNsYXRlJywgc3dpcGVyLnRyYW5zbGF0ZSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBvbkxvYWQoZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGUudGFyZ2V0KTtcbiAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSB8fCBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiAhc3dpcGVyLnBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci51cGRhdGUoKTtcbn1cblxuZnVuY3Rpb24gb25Eb2N1bWVudFRvdWNoU3RhcnQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZG9jdW1lbnRUb3VjaEhhbmRsZXJQcm9jZWVkZWQpIHJldHVybjtcbiAgc3dpcGVyLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkID0gdHJ1ZTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHN3aXBlci5lbC5zdHlsZS50b3VjaEFjdGlvbiA9ICdhdXRvJztcbiAgfVxufVxuXG5jb25zdCBldmVudHMgPSAoc3dpcGVyLCBtZXRob2QpID0+IHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGVsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBkZXZpY2VcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgY2FwdHVyZSA9ICEhcGFyYW1zLm5lc3RlZDtcbiAgY29uc3QgZG9tTWV0aG9kID0gbWV0aG9kID09PSAnb24nID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICBjb25zdCBzd2lwZXJNZXRob2QgPSBtZXRob2Q7XG5cbiAgLy8gVG91Y2ggRXZlbnRzXG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Eb2N1bWVudFRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCd0b3VjaHN0YXJ0Jywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBlbFtkb21NZXRob2RdKCdwb2ludGVyZG93bicsIHN3aXBlci5vblRvdWNoU3RhcnQsIHtcbiAgICBwYXNzaXZlOiBmYWxzZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2htb3ZlJywgc3dpcGVyLm9uVG91Y2hNb3ZlLCB7XG4gICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgY2FwdHVyZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGVuZCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcnVwJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaGNhbmNlbCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcm91dCcsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgncG9pbnRlcmxlYXZlJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdjb250ZXh0bWVudScsIHN3aXBlci5vblRvdWNoRW5kLCB7XG4gICAgcGFzc2l2ZTogdHJ1ZVxuICB9KTtcblxuICAvLyBQcmV2ZW50IExpbmtzIENsaWNrc1xuICBpZiAocGFyYW1zLnByZXZlbnRDbGlja3MgfHwgcGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikge1xuICAgIGVsW2RvbU1ldGhvZF0oJ2NsaWNrJywgc3dpcGVyLm9uQ2xpY2ssIHRydWUpO1xuICB9XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkge1xuICAgIHdyYXBwZXJFbFtkb21NZXRob2RdKCdzY3JvbGwnLCBzd2lwZXIub25TY3JvbGwpO1xuICB9XG5cbiAgLy8gUmVzaXplIGhhbmRsZXJcbiAgaWYgKHBhcmFtcy51cGRhdGVPbldpbmRvd1Jlc2l6ZSkge1xuICAgIHN3aXBlcltzd2lwZXJNZXRob2RdKGRldmljZS5pb3MgfHwgZGV2aWNlLmFuZHJvaWQgPyAncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIG9ic2VydmVyVXBkYXRlJyA6ICdyZXNpemUgb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oJ29ic2VydmVyVXBkYXRlJywgb25SZXNpemUsIHRydWUpO1xuICB9XG5cbiAgLy8gSW1hZ2VzIGxvYWRlclxuICBlbFtkb21NZXRob2RdKCdsb2FkJywgc3dpcGVyLm9uTG9hZCwge1xuICAgIGNhcHR1cmU6IHRydWVcbiAgfSk7XG59O1xuZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIHN3aXBlci5vblRvdWNoU3RhcnQgPSBvblRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBzd2lwZXIub25Ub3VjaE1vdmUgPSBvblRvdWNoTW92ZS5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoRW5kID0gb25Ub3VjaEVuZC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCA9IG9uRG9jdW1lbnRUb3VjaFN0YXJ0LmJpbmQoc3dpcGVyKTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc3dpcGVyLm9uU2Nyb2xsID0gb25TY3JvbGwuYmluZChzd2lwZXIpO1xuICB9XG4gIHN3aXBlci5vbkNsaWNrID0gb25DbGljay5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vbkxvYWQgPSBvbkxvYWQuYmluZChzd2lwZXIpO1xuICBldmVudHMoc3dpcGVyLCAnb24nKTtcbn1cbmZ1bmN0aW9uIGRldGFjaEV2ZW50cygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgZXZlbnRzKHN3aXBlciwgJ29mZicpO1xufVxudmFyIGV2ZW50cyQxID0ge1xuICBhdHRhY2hFdmVudHMsXG4gIGRldGFjaEV2ZW50c1xufTtcblxuY29uc3QgaXNHcmlkRW5hYmxlZCA9IChzd2lwZXIsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gc3dpcGVyLmdyaWQgJiYgcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG59O1xuZnVuY3Rpb24gc2V0QnJlYWtwb2ludCgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHJlYWxJbmRleCxcbiAgICBpbml0aWFsaXplZCxcbiAgICBwYXJhbXMsXG4gICAgZWxcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBwYXJhbXMuYnJlYWtwb2ludHM7XG4gIGlmICghYnJlYWtwb2ludHMgfHwgYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIC8vIEdldCBicmVha3BvaW50IGZvciB3aW5kb3cgd2lkdGggYW5kIHVwZGF0ZSBwYXJhbWV0ZXJzXG4gIGNvbnN0IGJyZWFrcG9pbnQgPSBzd2lwZXIuZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgc3dpcGVyLnBhcmFtcy5icmVha3BvaW50c0Jhc2UsIHN3aXBlci5lbCk7XG4gIGlmICghYnJlYWtwb2ludCB8fCBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPT09IGJyZWFrcG9pbnQpIHJldHVybjtcbiAgY29uc3QgYnJlYWtwb2ludE9ubHlQYXJhbXMgPSBicmVha3BvaW50IGluIGJyZWFrcG9pbnRzID8gYnJlYWtwb2ludHNbYnJlYWtwb2ludF0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGJyZWFrcG9pbnRQYXJhbXMgPSBicmVha3BvaW50T25seVBhcmFtcyB8fCBzd2lwZXIub3JpZ2luYWxQYXJhbXM7XG4gIGNvbnN0IHdhc011bHRpUm93ID0gaXNHcmlkRW5hYmxlZChzd2lwZXIsIHBhcmFtcyk7XG4gIGNvbnN0IGlzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IHdhc0VuYWJsZWQgPSBwYXJhbXMuZW5hYmxlZDtcbiAgaWYgKHdhc011bHRpUm93ICYmICFpc011bHRpUm93KSB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCwgYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKTtcbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGApO1xuICAgIGlmIChicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicgfHwgIWJyZWFrcG9pbnRQYXJhbXMuZ3JpZC5maWxsICYmIHBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nKSB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICB9XG5cbiAgLy8gVG9nZ2xlIG5hdmlnYXRpb24sIHBhZ2luYXRpb24sIHNjcm9sbGJhclxuICBbJ25hdmlnYXRpb24nLCAncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgIGlmICh0eXBlb2YgYnJlYWtwb2ludFBhcmFtc1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBjb25zdCB3YXNNb2R1bGVFbmFibGVkID0gcGFyYW1zW3Byb3BdICYmIHBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGNvbnN0IGlzTW9kdWxlRW5hYmxlZCA9IGJyZWFrcG9pbnRQYXJhbXNbcHJvcF0gJiYgYnJlYWtwb2ludFBhcmFtc1twcm9wXS5lbmFibGVkO1xuICAgIGlmICh3YXNNb2R1bGVFbmFibGVkICYmICFpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5kaXNhYmxlKCk7XG4gICAgfVxuICAgIGlmICghd2FzTW9kdWxlRW5hYmxlZCAmJiBpc01vZHVsZUVuYWJsZWQpIHtcbiAgICAgIHN3aXBlcltwcm9wXS5lbmFibGUoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBkaXJlY3Rpb25DaGFuZ2VkID0gYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gJiYgYnJlYWtwb2ludFBhcmFtcy5kaXJlY3Rpb24gIT09IHBhcmFtcy5kaXJlY3Rpb247XG4gIGNvbnN0IG5lZWRzUmVMb29wID0gcGFyYW1zLmxvb3AgJiYgKGJyZWFrcG9pbnRQYXJhbXMuc2xpZGVzUGVyVmlldyAhPT0gcGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgZGlyZWN0aW9uQ2hhbmdlZCk7XG4gIGNvbnN0IHdhc0xvb3AgPSBwYXJhbXMubG9vcDtcbiAgaWYgKGRpcmVjdGlvbkNoYW5nZWQgJiYgaW5pdGlhbGl6ZWQpIHtcbiAgICBzd2lwZXIuY2hhbmdlRGlyZWN0aW9uKCk7XG4gIH1cbiAgZXh0ZW5kKHN3aXBlci5wYXJhbXMsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBjb25zdCBpc0VuYWJsZWQgPSBzd2lwZXIucGFyYW1zLmVuYWJsZWQ7XG4gIGNvbnN0IGhhc0xvb3AgPSBzd2lwZXIucGFyYW1zLmxvb3A7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYWxsb3dUb3VjaE1vdmU6IHN3aXBlci5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsXG4gICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXZcbiAgfSk7XG4gIGlmICh3YXNFbmFibGVkICYmICFpc0VuYWJsZWQpIHtcbiAgICBzd2lwZXIuZGlzYWJsZSgpO1xuICB9IGVsc2UgaWYgKCF3YXNFbmFibGVkICYmIGlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5lbmFibGUoKTtcbiAgfVxuICBzd2lwZXIuY3VycmVudEJyZWFrcG9pbnQgPSBicmVha3BvaW50O1xuICBzd2lwZXIuZW1pdCgnX2JlZm9yZUJyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbiAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgaWYgKG5lZWRzUmVMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICghd2FzTG9vcCAmJiBoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcENyZWF0ZShyZWFsSW5kZXgpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIH0gZWxzZSBpZiAod2FzTG9vcCAmJiAhaGFzTG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuICB9XG4gIHN3aXBlci5lbWl0KCdicmVha3BvaW50JywgYnJlYWtwb2ludFBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIGdldEJyZWFrcG9pbnQoYnJlYWtwb2ludHMsIGJhc2UsIGNvbnRhaW5lckVsKSB7XG4gIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICBiYXNlID0gJ3dpbmRvdyc7XG4gIH1cbiAgaWYgKCFicmVha3BvaW50cyB8fCBiYXNlID09PSAnY29udGFpbmVyJyAmJiAhY29udGFpbmVyRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGxldCBicmVha3BvaW50ID0gZmFsc2U7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBjdXJyZW50SGVpZ2h0ID0gYmFzZSA9PT0gJ3dpbmRvdycgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXJFbC5jbGllbnRIZWlnaHQ7XG4gIGNvbnN0IHBvaW50cyA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5tYXAocG9pbnQgPT4ge1xuICAgIGlmICh0eXBlb2YgcG9pbnQgPT09ICdzdHJpbmcnICYmIHBvaW50LmluZGV4T2YoJ0AnKSA9PT0gMCkge1xuICAgICAgY29uc3QgbWluUmF0aW8gPSBwYXJzZUZsb2F0KHBvaW50LnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGN1cnJlbnRIZWlnaHQgKiBtaW5SYXRpbztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwb2ludFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBwb2ludCxcbiAgICAgIHBvaW50XG4gICAgfTtcbiAgfSk7XG4gIHBvaW50cy5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLnZhbHVlLCAxMCkgLSBwYXJzZUludChiLnZhbHVlLCAxMCkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvaW50LFxuICAgICAgdmFsdWVcbiAgICB9ID0gcG9pbnRzW2ldO1xuICAgIGlmIChiYXNlID09PSAnd2luZG93Jykge1xuICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAke3ZhbHVlfXB4KWApLm1hdGNoZXMpIHtcbiAgICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPD0gY29udGFpbmVyRWwuY2xpZW50V2lkdGgpIHtcbiAgICAgIGJyZWFrcG9pbnQgPSBwb2ludDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJyZWFrcG9pbnQgfHwgJ21heCc7XG59XG5cbnZhciBicmVha3BvaW50cyA9IHtcbiAgc2V0QnJlYWtwb2ludCxcbiAgZ2V0QnJlYWtwb2ludFxufTtcblxuZnVuY3Rpb24gcHJlcGFyZUNsYXNzZXMoZW50cmllcywgcHJlZml4KSB7XG4gIGNvbnN0IHJlc3VsdENsYXNzZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goY2xhc3NOYW1lcyA9PiB7XG4gICAgICAgIGlmIChpdGVtW2NsYXNzTmFtZXNdKSB7XG4gICAgICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGNsYXNzTmFtZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgcmVzdWx0Q2xhc3Nlcy5wdXNoKHByZWZpeCArIGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRDbGFzc2VzO1xufVxuZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZXMsXG4gICAgcGFyYW1zLFxuICAgIHJ0bCxcbiAgICBlbCxcbiAgICBkZXZpY2VcbiAgfSA9IHN3aXBlcjtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIGNvbnN0IHN1ZmZpeGVzID0gcHJlcGFyZUNsYXNzZXMoWydpbml0aWFsaXplZCcsIHBhcmFtcy5kaXJlY3Rpb24sIHtcbiAgICAnZnJlZS1tb2RlJzogc3dpcGVyLnBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZFxuICB9LCB7XG4gICAgJ2F1dG9oZWlnaHQnOiBwYXJhbXMuYXV0b0hlaWdodFxuICB9LCB7XG4gICAgJ3J0bCc6IHJ0bFxuICB9LCB7XG4gICAgJ2dyaWQnOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMVxuICB9LCB7XG4gICAgJ2dyaWQtY29sdW1uJzogcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDEgJiYgcGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbidcbiAgfSwge1xuICAgICdhbmRyb2lkJzogZGV2aWNlLmFuZHJvaWRcbiAgfSwge1xuICAgICdpb3MnOiBkZXZpY2UuaW9zXG4gIH0sIHtcbiAgICAnY3NzLW1vZGUnOiBwYXJhbXMuY3NzTW9kZVxuICB9LCB7XG4gICAgJ2NlbnRlcmVkJzogcGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzXG4gIH0sIHtcbiAgICAnd2F0Y2gtcHJvZ3Jlc3MnOiBwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzc1xuICB9XSwgcGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpO1xuICBjbGFzc05hbWVzLnB1c2goLi4uc3VmZml4ZXMpO1xuICBlbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVsLFxuICAgIGNsYXNzTmFtZXNcbiAgfSA9IHN3aXBlcjtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVzKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59XG5cbnZhciBjbGFzc2VzID0ge1xuICBhZGRDbGFzc2VzLFxuICByZW1vdmVDbGFzc2VzXG59O1xuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgaXNMb2NrZWQ6IHdhc0xvY2tlZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIHNsaWRlc09mZnNldEJlZm9yZVxuICB9ID0gcGFyYW1zO1xuICBpZiAoc2xpZGVzT2Zmc2V0QmVmb3JlKSB7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgbGFzdFNsaWRlUmlnaHRFZGdlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtsYXN0U2xpZGVJbmRleF0gKyBzbGlkZXNPZmZzZXRCZWZvcmUgKiAyO1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zaXplID4gbGFzdFNsaWRlUmlnaHRFZGdlO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggPT09IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHdhc0xvY2tlZCAmJiB3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5pc0VuZCA9IGZhbHNlO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5lbWl0KHN3aXBlci5pc0xvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snKTtcbiAgfVxufVxudmFyIGNoZWNrT3ZlcmZsb3ckMSA9IHtcbiAgY2hlY2tPdmVyZmxvd1xufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICBpbml0OiB0cnVlLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgb25lV2F5TW92ZW1lbnQ6IGZhbHNlLFxuICB0b3VjaEV2ZW50c1RhcmdldDogJ3dyYXBwZXInLFxuICBpbml0aWFsU2xpZGU6IDAsXG4gIHNwZWVkOiAzMDAsXG4gIGNzc01vZGU6IGZhbHNlLFxuICB1cGRhdGVPbldpbmRvd1Jlc2l6ZTogdHJ1ZSxcbiAgcmVzaXplT2JzZXJ2ZXI6IHRydWUsXG4gIG5lc3RlZDogZmFsc2UsXG4gIGNyZWF0ZUVsZW1lbnRzOiBmYWxzZSxcbiAgZXZlbnRzUHJlZml4OiAnc3dpcGVyJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgZm9jdXNhYmxlRWxlbWVudHM6ICdpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvLCBsYWJlbCcsXG4gIC8vIE92ZXJyaWRlc1xuICB3aWR0aDogbnVsbCxcbiAgaGVpZ2h0OiBudWxsLFxuICAvL1xuICBwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246IGZhbHNlLFxuICAvLyBzc3JcbiAgdXNlckFnZW50OiBudWxsLFxuICB1cmw6IG51bGwsXG4gIC8vIFRvIHN1cHBvcnQgaU9TJ3Mgc3dpcGUtdG8tZ28tYmFjayBnZXN0dXJlICh3aGVuIGJlaW5nIHVzZWQgaW4tYXBwKS5cbiAgZWRnZVN3aXBlRGV0ZWN0aW9uOiBmYWxzZSxcbiAgZWRnZVN3aXBlVGhyZXNob2xkOiAyMCxcbiAgLy8gQXV0b2hlaWdodFxuICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgLy8gU2V0IHdyYXBwZXIgd2lkdGhcbiAgc2V0V3JhcHBlclNpemU6IGZhbHNlLFxuICAvLyBWaXJ0dWFsIFRyYW5zbGF0ZVxuICB2aXJ0dWFsVHJhbnNsYXRlOiBmYWxzZSxcbiAgLy8gRWZmZWN0c1xuICBlZmZlY3Q6ICdzbGlkZScsXG4gIC8vICdzbGlkZScgb3IgJ2ZhZGUnIG9yICdjdWJlJyBvciAnY292ZXJmbG93JyBvciAnZmxpcCdcblxuICAvLyBCcmVha3BvaW50c1xuICBicmVha3BvaW50czogdW5kZWZpbmVkLFxuICBicmVha3BvaW50c0Jhc2U6ICd3aW5kb3cnLFxuICAvLyBTbGlkZXMgZ3JpZFxuICBzcGFjZUJldHdlZW46IDAsXG4gIHNsaWRlc1BlclZpZXc6IDEsXG4gIHNsaWRlc1Blckdyb3VwOiAxLFxuICBzbGlkZXNQZXJHcm91cFNraXA6IDAsXG4gIHNsaWRlc1Blckdyb3VwQXV0bzogZmFsc2UsXG4gIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgY2VudGVyZWRTbGlkZXNCb3VuZHM6IGZhbHNlLFxuICBzbGlkZXNPZmZzZXRCZWZvcmU6IDAsXG4gIC8vIGluIHB4XG4gIHNsaWRlc09mZnNldEFmdGVyOiAwLFxuICAvLyBpbiBweFxuICBub3JtYWxpemVTbGlkZUluZGV4OiB0cnVlLFxuICBjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6IGZhbHNlLFxuICAvLyBEaXNhYmxlIHN3aXBlciBhbmQgaGlkZSBuYXZpZ2F0aW9uIHdoZW4gY29udGFpbmVyIG5vdCBvdmVyZmxvd1xuICB3YXRjaE92ZXJmbG93OiB0cnVlLFxuICAvLyBSb3VuZCBsZW5ndGhcbiAgcm91bmRMZW5ndGhzOiBmYWxzZSxcbiAgLy8gVG91Y2hlc1xuICB0b3VjaFJhdGlvOiAxLFxuICB0b3VjaEFuZ2xlOiA0NSxcbiAgc2ltdWxhdGVUb3VjaDogdHJ1ZSxcbiAgc2hvcnRTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXM6IHRydWUsXG4gIGxvbmdTd2lwZXNSYXRpbzogMC41LFxuICBsb25nU3dpcGVzTXM6IDMwMCxcbiAgZm9sbG93RmluZ2VyOiB0cnVlLFxuICBhbGxvd1RvdWNoTW92ZTogdHJ1ZSxcbiAgdGhyZXNob2xkOiA1LFxuICB0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICB0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ6IHRydWUsXG4gIHRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgdG91Y2hSZWxlYXNlT25FZGdlczogZmFsc2UsXG4gIC8vIFVuaXF1ZSBOYXZpZ2F0aW9uIEVsZW1lbnRzXG4gIHVuaXF1ZU5hdkVsZW1lbnRzOiB0cnVlLFxuICAvLyBSZXNpc3RhbmNlXG4gIHJlc2lzdGFuY2U6IHRydWUsXG4gIHJlc2lzdGFuY2VSYXRpbzogMC44NSxcbiAgLy8gUHJvZ3Jlc3NcbiAgd2F0Y2hTbGlkZXNQcm9ncmVzczogZmFsc2UsXG4gIC8vIEN1cnNvclxuICBncmFiQ3Vyc29yOiBmYWxzZSxcbiAgLy8gQ2xpY2tzXG4gIHByZXZlbnRDbGlja3M6IHRydWUsXG4gIHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2UsXG4gIC8vIGxvb3BcbiAgbG9vcDogZmFsc2UsXG4gIGxvb3BBZGRCbGFua1NsaWRlczogdHJ1ZSxcbiAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG4gIGxvb3BQcmV2ZW50c1NsaWRpbmc6IHRydWUsXG4gIC8vIHJld2luZFxuICByZXdpbmQ6IGZhbHNlLFxuICAvLyBTd2lwaW5nL25vIHN3aXBpbmdcbiAgYWxsb3dTbGlkZVByZXY6IHRydWUsXG4gIGFsbG93U2xpZGVOZXh0OiB0cnVlLFxuICBzd2lwZUhhbmRsZXI6IG51bGwsXG4gIC8vICcuc3dpcGUtaGFuZGxlcicsXG4gIG5vU3dpcGluZzogdHJ1ZSxcbiAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZXItbm8tc3dpcGluZycsXG4gIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLFxuICAvLyBQYXNzaXZlIExpc3RlbmVyc1xuICBwYXNzaXZlTGlzdGVuZXJzOiB0cnVlLFxuICBtYXhCYWNrZmFjZUhpZGRlblNsaWRlczogMTAsXG4gIC8vIE5TXG4gIGNvbnRhaW5lck1vZGlmaWVyQ2xhc3M6ICdzd2lwZXItJyxcbiAgLy8gTkVXXG4gIHNsaWRlQ2xhc3M6ICdzd2lwZXItc2xpZGUnLFxuICBzbGlkZUJsYW5rQ2xhc3M6ICdzd2lwZXItc2xpZGUtYmxhbmsnLFxuICBzbGlkZUFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWFjdGl2ZScsXG4gIHNsaWRlVmlzaWJsZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXZpc2libGUnLFxuICBzbGlkZUZ1bGx5VmlzaWJsZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWZ1bGx5LXZpc2libGUnLFxuICBzbGlkZU5leHRDbGFzczogJ3N3aXBlci1zbGlkZS1uZXh0JyxcbiAgc2xpZGVQcmV2Q2xhc3M6ICdzd2lwZXItc2xpZGUtcHJldicsXG4gIHdyYXBwZXJDbGFzczogJ3N3aXBlci13cmFwcGVyJyxcbiAgbGF6eVByZWxvYWRlckNsYXNzOiAnc3dpcGVyLWxhenktcHJlbG9hZGVyJyxcbiAgbGF6eVByZWxvYWRQcmV2TmV4dDogMCxcbiAgLy8gQ2FsbGJhY2tzXG4gIHJ1bkNhbGxiYWNrc09uSW5pdDogdHJ1ZSxcbiAgLy8gSW50ZXJuYWxzXG4gIF9lbWl0Q2xhc3NlczogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIG1vZHVsZUV4dGVuZFBhcmFtcyhwYXJhbXMsIGFsbE1vZHVsZXNQYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4dGVuZFBhcmFtcyhvYmopIHtcbiAgICBpZiAob2JqID09PSB2b2lkIDApIHtcbiAgICAgIG9iaiA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVQYXJhbU5hbWUgPSBPYmplY3Qua2V5cyhvYmopWzBdO1xuICAgIGNvbnN0IG1vZHVsZVBhcmFtcyA9IG9ialttb2R1bGVQYXJhbU5hbWVdO1xuICAgIGlmICh0eXBlb2YgbW9kdWxlUGFyYW1zICE9PSAnb2JqZWN0JyB8fCBtb2R1bGVQYXJhbXMgPT09IG51bGwpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09IHRydWUpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAobW9kdWxlUGFyYW1OYW1lID09PSAnbmF2aWdhdGlvbicgJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gJiYgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0ucHJldkVsICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5uZXh0RWwpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmF1dG8gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoWydwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmluZGV4T2YobW9kdWxlUGFyYW1OYW1lKSA+PSAwICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVsKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5hdXRvID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEobW9kdWxlUGFyYW1OYW1lIGluIHBhcmFtcyAmJiAnZW5hYmxlZCcgaW4gbW9kdWxlUGFyYW1zKSkge1xuICAgICAgZXh0ZW5kKGFsbE1vZHVsZXNQYXJhbXMsIG9iaik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0gPT09ICdvYmplY3QnICYmICEoJ2VuYWJsZWQnIGluIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0pIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID0ge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9O1xuICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICB9O1xufVxuXG4vKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IFwib2ZmXCIgKi9cbmNvbnN0IHByb3RvdHlwZXMgPSB7XG4gIGV2ZW50c0VtaXR0ZXIsXG4gIHVwZGF0ZSxcbiAgdHJhbnNsYXRlLFxuICB0cmFuc2l0aW9uLFxuICBzbGlkZSxcbiAgbG9vcCxcbiAgZ3JhYkN1cnNvcixcbiAgZXZlbnRzOiBldmVudHMkMSxcbiAgYnJlYWtwb2ludHMsXG4gIGNoZWNrT3ZlcmZsb3c6IGNoZWNrT3ZlcmZsb3ckMSxcbiAgY2xhc3Nlc1xufTtcbmNvbnN0IGV4dGVuZGVkRGVmYXVsdHMgPSB7fTtcbmNsYXNzIFN3aXBlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBlbDtcbiAgICBsZXQgcGFyYW1zO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIGFyZ3NbMF0uY29uc3RydWN0b3IgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pLnNsaWNlKDgsIC0xKSA9PT0gJ09iamVjdCcpIHtcbiAgICAgIHBhcmFtcyA9IGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIFtlbCwgcGFyYW1zXSA9IGFyZ3M7XG4gICAgfVxuICAgIGlmICghcGFyYW1zKSBwYXJhbXMgPSB7fTtcbiAgICBwYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcyk7XG4gICAgaWYgKGVsICYmICFwYXJhbXMuZWwpIHBhcmFtcy5lbCA9IGVsO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBpZiAocGFyYW1zLmVsICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBzd2lwZXJzID0gW107XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCkuZm9yRWFjaChjb250YWluZXJFbCA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zLCB7XG4gICAgICAgICAgZWw6IGNvbnRhaW5lckVsXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXJzLnB1c2gobmV3IFN3aXBlcihuZXdQYXJhbXMpKTtcbiAgICAgIH0pO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuICAgICAgcmV0dXJuIHN3aXBlcnM7XG4gICAgfVxuXG4gICAgLy8gU3dpcGVyIEluc3RhbmNlXG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBzd2lwZXIuX19zd2lwZXJfXyA9IHRydWU7XG4gICAgc3dpcGVyLnN1cHBvcnQgPSBnZXRTdXBwb3J0KCk7XG4gICAgc3dpcGVyLmRldmljZSA9IGdldERldmljZSh7XG4gICAgICB1c2VyQWdlbnQ6IHBhcmFtcy51c2VyQWdlbnRcbiAgICB9KTtcbiAgICBzd2lwZXIuYnJvd3NlciA9IGdldEJyb3dzZXIoKTtcbiAgICBzd2lwZXIuZXZlbnRzTGlzdGVuZXJzID0ge307XG4gICAgc3dpcGVyLmV2ZW50c0FueUxpc3RlbmVycyA9IFtdO1xuICAgIHN3aXBlci5tb2R1bGVzID0gWy4uLnN3aXBlci5fX21vZHVsZXNfX107XG4gICAgaWYgKHBhcmFtcy5tb2R1bGVzICYmIEFycmF5LmlzQXJyYXkocGFyYW1zLm1vZHVsZXMpKSB7XG4gICAgICBzd2lwZXIubW9kdWxlcy5wdXNoKC4uLnBhcmFtcy5tb2R1bGVzKTtcbiAgICB9XG4gICAgY29uc3QgYWxsTW9kdWxlc1BhcmFtcyA9IHt9O1xuICAgIHN3aXBlci5tb2R1bGVzLmZvckVhY2gobW9kID0+IHtcbiAgICAgIG1vZCh7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgc3dpcGVyLFxuICAgICAgICBleHRlbmRQYXJhbXM6IG1vZHVsZUV4dGVuZFBhcmFtcyhwYXJhbXMsIGFsbE1vZHVsZXNQYXJhbXMpLFxuICAgICAgICBvbjogc3dpcGVyLm9uLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgb25jZTogc3dpcGVyLm9uY2UuYmluZChzd2lwZXIpLFxuICAgICAgICBvZmY6IHN3aXBlci5vZmYuYmluZChzd2lwZXIpLFxuICAgICAgICBlbWl0OiBzd2lwZXIuZW1pdC5iaW5kKHN3aXBlcilcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHRzIHdpdGggbW9kdWxlcyBwYXJhbXNcbiAgICBjb25zdCBzd2lwZXJQYXJhbXMgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBhbGxNb2R1bGVzUGFyYW1zKTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIHBhc3NlZCBwYXJhbXNcbiAgICBzd2lwZXIucGFyYW1zID0gZXh0ZW5kKHt9LCBzd2lwZXJQYXJhbXMsIGV4dGVuZGVkRGVmYXVsdHMsIHBhcmFtcyk7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zID0gZXh0ZW5kKHt9LCBzd2lwZXIucGFyYW1zKTtcbiAgICBzd2lwZXIucGFzc2VkUGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIGlmIChzd2lwZXIucGFyYW1zICYmIHN3aXBlci5wYXJhbXMub24pIHtcbiAgICAgIE9iamVjdC5rZXlzKHN3aXBlci5wYXJhbXMub24pLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgc3dpcGVyLm9uKGV2ZW50TmFtZSwgc3dpcGVyLnBhcmFtcy5vbltldmVudE5hbWVdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uQW55KSB7XG4gICAgICBzd2lwZXIub25Bbnkoc3dpcGVyLnBhcmFtcy5vbkFueSk7XG4gICAgfVxuXG4gICAgLy8gRXh0ZW5kIFN3aXBlclxuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgICBlbmFibGVkOiBzd2lwZXIucGFyYW1zLmVuYWJsZWQsXG4gICAgICBlbCxcbiAgICAgIC8vIENsYXNzZXNcbiAgICAgIGNsYXNzTmFtZXM6IFtdLFxuICAgICAgLy8gU2xpZGVzXG4gICAgICBzbGlkZXM6IFtdLFxuICAgICAgc2xpZGVzR3JpZDogW10sXG4gICAgICBzbmFwR3JpZDogW10sXG4gICAgICBzbGlkZXNTaXplc0dyaWQ6IFtdLFxuICAgICAgLy8gaXNEaXJlY3Rpb25cbiAgICAgIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCc7XG4gICAgICB9LFxuICAgICAgaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgfSxcbiAgICAgIC8vIEluZGV4ZXNcbiAgICAgIGFjdGl2ZUluZGV4OiAwLFxuICAgICAgcmVhbEluZGV4OiAwLFxuICAgICAgLy9cbiAgICAgIGlzQmVnaW5uaW5nOiB0cnVlLFxuICAgICAgaXNFbmQ6IGZhbHNlLFxuICAgICAgLy8gUHJvcHNcbiAgICAgIHRyYW5zbGF0ZTogMCxcbiAgICAgIHByZXZpb3VzVHJhbnNsYXRlOiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB2ZWxvY2l0eTogMCxcbiAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICBjc3NPdmVyZmxvd0FkanVzdG1lbnQoKSB7XG4gICAgICAgIC8vIFJldHVybnMgMCB1bmxlc3MgYHRyYW5zbGF0ZWAgaXMgPiAyKioyM1xuICAgICAgICAvLyBTaG91bGQgYmUgc3VidHJhY3RlZCBmcm9tIGNzcyB2YWx1ZXMgdG8gcHJldmVudCBvdmVyZmxvd1xuICAgICAgICByZXR1cm4gTWF0aC50cnVuYyh0aGlzLnRyYW5zbGF0ZSAvIDIgKiogMjMpICogMiAqKiAyMztcbiAgICAgIH0sXG4gICAgICAvLyBMb2Nrc1xuICAgICAgYWxsb3dTbGlkZU5leHQ6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZU5leHQsXG4gICAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldixcbiAgICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgICAgdG91Y2hFdmVudHNEYXRhOiB7XG4gICAgICAgIGlzVG91Y2hlZDogdW5kZWZpbmVkLFxuICAgICAgICBpc01vdmVkOiB1bmRlZmluZWQsXG4gICAgICAgIGFsbG93VG91Y2hDYWxsYmFja3M6IHVuZGVmaW5lZCxcbiAgICAgICAgdG91Y2hTdGFydFRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNTY3JvbGxpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgY3VycmVudFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydFRyYW5zbGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RocmVzaG9sZE1vdmU6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gRm9ybSBlbGVtZW50cyB0byBtYXRjaFxuICAgICAgICBmb2N1c2FibGVFbGVtZW50czogc3dpcGVyLnBhcmFtcy5mb2N1c2FibGVFbGVtZW50cyxcbiAgICAgICAgLy8gTGFzdCBjbGljayB0aW1lXG4gICAgICAgIGxhc3RDbGlja1RpbWU6IDAsXG4gICAgICAgIGNsaWNrVGltZW91dDogdW5kZWZpbmVkLFxuICAgICAgICAvLyBWZWxvY2l0aWVzXG4gICAgICAgIHZlbG9jaXRpZXM6IFtdLFxuICAgICAgICBhbGxvd01vbWVudHVtQm91bmNlOiB1bmRlZmluZWQsXG4gICAgICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHBvaW50ZXJJZDogbnVsbCxcbiAgICAgICAgdG91Y2hJZDogbnVsbFxuICAgICAgfSxcbiAgICAgIC8vIENsaWNrc1xuICAgICAgYWxsb3dDbGljazogdHJ1ZSxcbiAgICAgIC8vIFRvdWNoZXNcbiAgICAgIGFsbG93VG91Y2hNb3ZlOiBzd2lwZXIucGFyYW1zLmFsbG93VG91Y2hNb3ZlLFxuICAgICAgdG91Y2hlczoge1xuICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgIHN0YXJ0WTogMCxcbiAgICAgICAgY3VycmVudFg6IDAsXG4gICAgICAgIGN1cnJlbnRZOiAwLFxuICAgICAgICBkaWZmOiAwXG4gICAgICB9LFxuICAgICAgLy8gSW1hZ2VzXG4gICAgICBpbWFnZXNUb0xvYWQ6IFtdLFxuICAgICAgaW1hZ2VzTG9hZGVkOiAwXG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zd2lwZXInKTtcblxuICAgIC8vIEluaXRcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5pbml0KSB7XG4gICAgICBzd2lwZXIuaW5pdCgpO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhcHAgaW5zdGFuY2VcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgcmV0dXJuIHN3aXBlcjtcbiAgfVxuICBnZXREaXJlY3Rpb25MYWJlbChwcm9wZXJ0eSkge1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHk7XG4gICAgfVxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiB7XG4gICAgICAnd2lkdGgnOiAnaGVpZ2h0JyxcbiAgICAgICdtYXJnaW4tdG9wJzogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICdtYXJnaW4tYm90dG9tICc6ICdtYXJnaW4tcmlnaHQnLFxuICAgICAgJ21hcmdpbi1sZWZ0JzogJ21hcmdpbi10b3AnLFxuICAgICAgJ21hcmdpbi1yaWdodCc6ICdtYXJnaW4tYm90dG9tJyxcbiAgICAgICdwYWRkaW5nLWxlZnQnOiAncGFkZGluZy10b3AnLFxuICAgICAgJ3BhZGRpbmctcmlnaHQnOiAncGFkZGluZy1ib3R0b20nLFxuICAgICAgJ21hcmdpblJpZ2h0JzogJ21hcmdpbkJvdHRvbSdcbiAgICB9W3Byb3BlcnR5XTtcbiAgfVxuICBnZXRTbGlkZUluZGV4KHNsaWRlRWwpIHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNFbCxcbiAgICAgIHBhcmFtc1xuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgY29uc3QgZmlyc3RTbGlkZUluZGV4ID0gZWxlbWVudEluZGV4KHNsaWRlc1swXSk7XG4gICAgcmV0dXJuIGVsZW1lbnRJbmRleChzbGlkZUVsKSAtIGZpcnN0U2xpZGVJbmRleDtcbiAgfVxuICBnZXRTbGlkZUluZGV4QnlEYXRhKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2xpZGVJbmRleCh0aGlzLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSAqIDEgPT09IGluZGV4KVswXSk7XG4gIH1cbiAgcmVjYWxjU2xpZGVzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIHN3aXBlci5zbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5lbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcigpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZW5hYmxlJyk7XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci51bnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rpc2FibGUnKTtcbiAgfVxuICBzZXRQcm9ncmVzcyhwcm9ncmVzcywgc3BlZWQpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgocHJvZ3Jlc3MsIDApLCAxKTtcbiAgICBjb25zdCBtaW4gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgY29uc3QgbWF4ID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnQgPSAobWF4IC0gbWluKSAqIHByb2dyZXNzICsgbWluO1xuICAgIHN3aXBlci50cmFuc2xhdGVUbyhjdXJyZW50LCB0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnID8gMCA6IHNwZWVkKTtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGVtaXRDb250YWluZXJDbGFzc2VzKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLl9lbWl0Q2xhc3NlcyB8fCAhc3dpcGVyLmVsKSByZXR1cm47XG4gICAgY29uc3QgY2xzID0gc3dpcGVyLmVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXInKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MpID09PSAwO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfY29udGFpbmVyQ2xhc3NlcycsIGNscy5qb2luKCcgJykpO1xuICB9XG4gIGdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuICcnO1xuICAgIHJldHVybiBzbGlkZUVsLmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihjbGFzc05hbWUgPT4ge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS5pbmRleE9mKCdzd2lwZXItc2xpZGUnKSA9PT0gMCB8fCBjbGFzc05hbWUuaW5kZXhPZihzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpID09PSAwO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuICBlbWl0U2xpZGVzQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCBjbGFzc05hbWVzID0gc3dpcGVyLmdldFNsaWRlQ2xhc3NlcyhzbGlkZUVsKTtcbiAgICAgIHVwZGF0ZXMucHVzaCh7XG4gICAgICAgIHNsaWRlRWwsXG4gICAgICAgIGNsYXNzTmFtZXNcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzJywgc2xpZGVFbCwgY2xhc3NOYW1lcyk7XG4gICAgfSk7XG4gICAgc3dpcGVyLmVtaXQoJ19zbGlkZUNsYXNzZXMnLCB1cGRhdGVzKTtcbiAgfVxuICBzbGlkZXNQZXJWaWV3RHluYW1pYyh2aWV3LCBleGFjdCkge1xuICAgIGlmICh2aWV3ID09PSB2b2lkIDApIHtcbiAgICAgIHZpZXcgPSAnY3VycmVudCc7XG4gICAgfVxuICAgIGlmIChleGFjdCA9PT0gdm9pZCAwKSB7XG4gICAgICBleGFjdCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNTaXplc0dyaWQsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYWN0aXZlSW5kZXhcbiAgICB9ID0gc3dpcGVyO1xuICAgIGxldCBzcHYgPSAxO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdudW1iZXInKSByZXR1cm4gcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gICAgaWYgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgbGV0IHNsaWRlU2l6ZSA9IHNsaWRlc1thY3RpdmVJbmRleF0gPyBzbGlkZXNbYWN0aXZlSW5kZXhdLnN3aXBlclNsaWRlU2l6ZSA6IDA7XG4gICAgICBsZXQgYnJlYWtMb29wO1xuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSAmJiAhYnJlYWtMb29wKSB7XG4gICAgICAgICAgc2xpZGVTaXplICs9IHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemU7XG4gICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgaWYgKHNsaWRlU2l6ZSA+IHN3aXBlclNpemUpIGJyZWFrTG9vcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpZiAodmlldyA9PT0gJ2N1cnJlbnQnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCArIDE7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZUluVmlldyA9IGV4YWN0ID8gc2xpZGVzR3JpZFtpXSArIHNsaWRlc1NpemVzR3JpZFtpXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZSA6IHNsaWRlc0dyaWRbaV0gLSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSA8IHN3aXBlclNpemU7XG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHByZXZpb3VzXG4gICAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVJbmRleCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJblZpZXcgPSBzbGlkZXNHcmlkW2FjdGl2ZUluZGV4XSAtIHNsaWRlc0dyaWRbaV0gPCBzd2lwZXJTaXplO1xuICAgICAgICAgIGlmIChzbGlkZUluVmlldykge1xuICAgICAgICAgICAgc3B2ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcHY7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNuYXBHcmlkLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjtcbiAgICAvLyBCcmVha3BvaW50c1xuICAgIGlmIChwYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuICAgIFsuLi5zd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbCgnW2xvYWRpbmc9XCJsYXp5XCJdJyldLmZvckVhY2goaW1hZ2VFbCA9PiB7XG4gICAgICBpZiAoaW1hZ2VFbC5jb21wbGV0ZSkge1xuICAgICAgICBwcm9jZXNzTGF6eVByZWxvYWRlcihzd2lwZXIsIGltYWdlRWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXBlci51cGRhdGVTaXplKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlcygpO1xuICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkge1xuICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSAqIC0xIDogc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IE1hdGgubWluKE1hdGgubWF4KHRyYW5zbGF0ZVZhbHVlLCBzd2lwZXIubWF4VHJhbnNsYXRlKCkpLCBzd2lwZXIubWluVHJhbnNsYXRlKCkpO1xuICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIH1cbiAgICBsZXQgdHJhbnNsYXRlZDtcbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZUF1dG9IZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVzID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcyA6IHN3aXBlci5zbGlkZXM7XG4gICAgICAgIHRyYW5zbGF0ZWQgPSBzd2lwZXIuc2xpZGVUbyhzbGlkZXMubGVuZ3RoIC0gMSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKCF0cmFuc2xhdGVkKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgICAgc3dpcGVyLmNoZWNrT3ZlcmZsb3coKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3VwZGF0ZScpO1xuICB9XG4gIGNoYW5nZURpcmVjdGlvbihuZXdEaXJlY3Rpb24sIG5lZWRVcGRhdGUpIHtcbiAgICBpZiAobmVlZFVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCBjdXJyZW50RGlyZWN0aW9uID0gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb247XG4gICAgaWYgKCFuZXdEaXJlY3Rpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICB9XG4gICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gY3VycmVudERpcmVjdGlvbiB8fCBuZXdEaXJlY3Rpb24gIT09ICdob3Jpem9udGFsJyAmJiBuZXdEaXJlY3Rpb24gIT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHJldHVybiBzd2lwZXI7XG4gICAgfVxuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2N1cnJlbnREaXJlY3Rpb259YCk7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7bmV3RGlyZWN0aW9ufWApO1xuICAgIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xuICAgIHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID0gbmV3RGlyZWN0aW9uO1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGlmIChuZXdEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVFbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnY2hhbmdlRGlyZWN0aW9uJyk7XG4gICAgaWYgKG5lZWRVcGRhdGUpIHN3aXBlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGNoYW5nZUxhbmd1YWdlRGlyZWN0aW9uKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5ydGwgJiYgZGlyZWN0aW9uID09PSAncnRsJyB8fCAhc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdsdHInKSByZXR1cm47XG4gICAgc3dpcGVyLnJ0bCA9IGRpcmVjdGlvbiA9PT0gJ3J0bCc7XG4gICAgc3dpcGVyLnJ0bFRyYW5zbGF0ZSA9IHN3aXBlci5wYXJhbXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgc3dpcGVyLnJ0bDtcbiAgICBpZiAoc3dpcGVyLnJ0bCkge1xuICAgICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXJ0bGApO1xuICAgICAgc3dpcGVyLmVsLmRpciA9ICdydGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZShgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ2x0cic7XG4gICAgfVxuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuICBtb3VudChlbGVtZW50KSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLm1vdW50ZWQpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gRmluZCBlbFxuICAgIGxldCBlbCA9IGVsZW1lbnQgfHwgc3dpcGVyLnBhcmFtcy5lbDtcbiAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICB9XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbC5zd2lwZXIgPSBzd2lwZXI7XG4gICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5ob3N0ICYmIGVsLnBhcmVudE5vZGUuaG9zdC5ub2RlTmFtZSA9PT0gJ1NXSVBFUi1DT05UQUlORVInKSB7XG4gICAgICBzd2lwZXIuaXNFbGVtZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZ2V0V3JhcHBlclNlbGVjdG9yID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGAuJHsoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKX1gO1xuICAgIH07XG4gICAgY29uc3QgZ2V0V3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGlmIChlbCAmJiBlbC5zaGFkb3dSb290ICYmIGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCByZXMgPSBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgICAgICAvLyBDaGlsZHJlbiBuZWVkcyB0byByZXR1cm4gc2xvdCBpdGVtc1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnRDaGlsZHJlbihlbCwgZ2V0V3JhcHBlclNlbGVjdG9yKCkpWzBdO1xuICAgIH07XG4gICAgLy8gRmluZCBXcmFwcGVyXG4gICAgbGV0IHdyYXBwZXJFbCA9IGdldFdyYXBwZXIoKTtcbiAgICBpZiAoIXdyYXBwZXJFbCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICB3cmFwcGVyRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLndyYXBwZXJDbGFzcyk7XG4gICAgICBlbC5hcHBlbmQod3JhcHBlckVsKTtcbiAgICAgIGVsZW1lbnRDaGlsZHJlbihlbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICB3cmFwcGVyRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc0VsOiBzd2lwZXIuaXNFbGVtZW50ICYmICFlbC5wYXJlbnROb2RlLmhvc3Quc2xpZGVTbG90cyA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IHdyYXBwZXJFbCxcbiAgICAgIGhvc3RFbDogc3dpcGVyLmlzRWxlbWVudCA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IGVsLFxuICAgICAgbW91bnRlZDogdHJ1ZSxcbiAgICAgIC8vIFJUTFxuICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgcnRsVHJhbnNsYXRlOiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIChlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnKSxcbiAgICAgIHdyb25nUlRMOiBlbGVtZW50U3R5bGUod3JhcHBlckVsLCAnZGlzcGxheScpID09PSAnLXdlYmtpdC1ib3gnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaW5pdChlbCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuIHN3aXBlcjtcbiAgICBjb25zdCBtb3VudGVkID0gc3dpcGVyLm1vdW50KGVsKTtcbiAgICBpZiAobW91bnRlZCA9PT0gZmFsc2UpIHJldHVybiBzd2lwZXI7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZUluaXQnKTtcblxuICAgIC8vIFNldCBicmVha3BvaW50XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIENsYXNzZXNcbiAgICBzd2lwZXIuYWRkQ2xhc3NlcygpO1xuXG4gICAgLy8gVXBkYXRlIHNpemVcbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuXG4gICAgLy8gVXBkYXRlIHNsaWRlc1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cblxuICAgIC8vIFNldCBHcmFiIEN1cnNvclxuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSwgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbG9vcFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQXR0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5hdHRhY2hFdmVudHMoKTtcbiAgICBjb25zdCBsYXp5RWxlbWVudHMgPSBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpXTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgbGF6eUVsZW1lbnRzLnB1c2goLi4uc3dpcGVyLmhvc3RFbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKSk7XG4gICAgfVxuICAgIGxhenlFbGVtZW50cy5mb3JFYWNoKGltYWdlRWwgPT4ge1xuICAgICAgaWYgKGltYWdlRWwuY29tcGxldGUpIHtcbiAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBpbWFnZUVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGUgPT4ge1xuICAgICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgZS50YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG5cbiAgICAvLyBJbml0IEZsYWdcbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHByZWxvYWQoc3dpcGVyKTtcblxuICAgIC8vIEVtaXRcbiAgICBzd2lwZXIuZW1pdCgnaW5pdCcpO1xuICAgIHN3aXBlci5lbWl0KCdhZnRlckluaXQnKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UsIGNsZWFuU3R5bGVzKSB7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZUluc3RhbmNlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNsZWFuU3R5bGVzID09PSB2b2lkIDApIHtcbiAgICAgIGNsZWFuU3R5bGVzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZURlc3Ryb3knKTtcblxuICAgIC8vIEluaXQgRmxhZ1xuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgLy8gRGV0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5kZXRhY2hFdmVudHMoKTtcblxuICAgIC8vIERlc3Ryb3kgbG9vcFxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW51cCBzdHlsZXNcbiAgICBpZiAoY2xlYW5TdHlsZXMpIHtcbiAgICAgIHN3aXBlci5yZW1vdmVDbGFzc2VzKCk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB3cmFwcGVyRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgaWYgKHNsaWRlcyAmJiBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUZ1bGx5VmlzaWJsZUNsYXNzLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgcGFyYW1zLnNsaWRlTmV4dENsYXNzLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgIHNsaWRlRWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2Rlc3Ryb3knKTtcblxuICAgIC8vIERldGFjaCBlbWl0dGVyIGV2ZW50c1xuICAgIE9iamVjdC5rZXlzKHN3aXBlci5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgIHN3aXBlci5vZmYoZXZlbnROYW1lKTtcbiAgICB9KTtcbiAgICBpZiAoZGVsZXRlSW5zdGFuY2UgIT09IGZhbHNlKSB7XG4gICAgICBzd2lwZXIuZWwuc3dpcGVyID0gbnVsbDtcbiAgICAgIGRlbGV0ZVByb3BzKHN3aXBlcik7XG4gICAgfVxuICAgIHN3aXBlci5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN0YXRpYyBleHRlbmREZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgIGV4dGVuZChleHRlbmRlZERlZmF1bHRzLCBuZXdEZWZhdWx0cyk7XG4gIH1cbiAgc3RhdGljIGdldCBleHRlbmRlZERlZmF1bHRzKCkge1xuICAgIHJldHVybiBleHRlbmRlZERlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBpbnN0YWxsTW9kdWxlKG1vZCkge1xuICAgIGlmICghU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXykgU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXyA9IFtdO1xuICAgIGNvbnN0IG1vZHVsZXMgPSBTd2lwZXIucHJvdG90eXBlLl9fbW9kdWxlc19fO1xuICAgIGlmICh0eXBlb2YgbW9kID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZXMuaW5kZXhPZihtb2QpIDwgMCkge1xuICAgICAgbW9kdWxlcy5wdXNoKG1vZCk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyB1c2UobW9kdWxlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgbW9kdWxlLmZvckVhY2gobSA9PiBTd2lwZXIuaW5zdGFsbE1vZHVsZShtKSk7XG4gICAgICByZXR1cm4gU3dpcGVyO1xuICAgIH1cbiAgICBTd2lwZXIuaW5zdGFsbE1vZHVsZShtb2R1bGUpO1xuICAgIHJldHVybiBTd2lwZXI7XG4gIH1cbn1cbk9iamVjdC5rZXlzKHByb3RvdHlwZXMpLmZvckVhY2gocHJvdG90eXBlR3JvdXAgPT4ge1xuICBPYmplY3Qua2V5cyhwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXSkuZm9yRWFjaChwcm90b01ldGhvZCA9PiB7XG4gICAgU3dpcGVyLnByb3RvdHlwZVtwcm90b01ldGhvZF0gPSBwcm90b3R5cGVzW3Byb3RvdHlwZUdyb3VwXVtwcm90b01ldGhvZF07XG4gIH0pO1xufSk7XG5Td2lwZXIudXNlKFtSZXNpemUsIE9ic2VydmVyXSk7XG5cbmV4cG9ydCB7IFN3aXBlciBhcyBTLCBkZWZhdWx0cyBhcyBkIH07XG4iLCAiLyoqXG4gKiBTd2lwZXIgMTEuMC41XG4gKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9uc1xuICogaHR0cHM6Ly9zd2lwZXJqcy5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDIzIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKlxuICogUmVsZWFzZWQgb246IE5vdmVtYmVyIDIyLCAyMDIzXG4gKi9cblxuZXhwb3J0IHsgUyBhcyBTd2lwZXIsIFMgYXMgZGVmYXVsdCB9IGZyb20gJy4vc2hhcmVkL3N3aXBlci1jb3JlLm1qcyc7XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgcyBhcyBzZXRDU1NQcm9wZXJ0eSwgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBWaXJ0dWFsKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgdmlydHVhbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBzbGlkZXM6IFtdLFxuICAgICAgY2FjaGU6IHRydWUsXG4gICAgICByZW5kZXJTbGlkZTogbnVsbCxcbiAgICAgIHJlbmRlckV4dGVybmFsOiBudWxsLFxuICAgICAgcmVuZGVyRXh0ZXJuYWxVcGRhdGU6IHRydWUsXG4gICAgICBhZGRTbGlkZXNCZWZvcmU6IDAsXG4gICAgICBhZGRTbGlkZXNBZnRlcjogMFxuICAgIH1cbiAgfSk7XG4gIGxldCBjc3NNb2RlVGltZW91dDtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBzd2lwZXIudmlydHVhbCA9IHtcbiAgICBjYWNoZToge30sXG4gICAgZnJvbTogdW5kZWZpbmVkLFxuICAgIHRvOiB1bmRlZmluZWQsXG4gICAgc2xpZGVzOiBbXSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgc2xpZGVzR3JpZDogW11cbiAgfTtcbiAgY29uc3QgdGVtcERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmdW5jdGlvbiByZW5kZXJTbGlkZShzbGlkZSwgaW5kZXgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnZpcnR1YWw7XG4gICAgaWYgKHBhcmFtcy5jYWNoZSAmJiBzd2lwZXIudmlydHVhbC5jYWNoZVtpbmRleF0pIHtcbiAgICAgIHJldHVybiBzd2lwZXIudmlydHVhbC5jYWNoZVtpbmRleF07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGxldCBzbGlkZUVsO1xuICAgIGlmIChwYXJhbXMucmVuZGVyU2xpZGUpIHtcbiAgICAgIHNsaWRlRWwgPSBwYXJhbXMucmVuZGVyU2xpZGUuY2FsbChzd2lwZXIsIHNsaWRlLCBpbmRleCk7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRlbXBET00uaW5uZXJIVE1MID0gc2xpZGVFbDtcbiAgICAgICAgc2xpZGVFbCA9IHRlbXBET00uY2hpbGRyZW5bMF07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBzbGlkZUVsID0gY3JlYXRlRWxlbWVudCgnc3dpcGVyLXNsaWRlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3MpO1xuICAgIH1cbiAgICBzbGlkZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBpbmRleCk7XG4gICAgaWYgKCFwYXJhbXMucmVuZGVyU2xpZGUpIHtcbiAgICAgIHNsaWRlRWwuaW5uZXJIVE1MID0gc2xpZGU7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuY2FjaGUpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlW2luZGV4XSA9IHNsaWRlRWw7XG4gICAgfVxuICAgIHJldHVybiBzbGlkZUVsO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZShmb3JjZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1BlclZpZXcsXG4gICAgICBzbGlkZXNQZXJHcm91cCxcbiAgICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgICAgbG9vcDogaXNMb29wXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qge1xuICAgICAgYWRkU2xpZGVzQmVmb3JlLFxuICAgICAgYWRkU2xpZGVzQWZ0ZXJcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsO1xuICAgIGNvbnN0IHtcbiAgICAgIGZyb206IHByZXZpb3VzRnJvbSxcbiAgICAgIHRvOiBwcmV2aW91c1RvLFxuICAgICAgc2xpZGVzLFxuICAgICAgc2xpZGVzR3JpZDogcHJldmlvdXNTbGlkZXNHcmlkLFxuICAgICAgb2Zmc2V0OiBwcmV2aW91c09mZnNldFxuICAgIH0gPSBzd2lwZXIudmlydHVhbDtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4IHx8IDA7XG4gICAgbGV0IG9mZnNldFByb3A7XG4gICAgaWYgKHN3aXBlci5ydGxUcmFuc2xhdGUpIG9mZnNldFByb3AgPSAncmlnaHQnO2Vsc2Ugb2Zmc2V0UHJvcCA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIGxldCBzbGlkZXNBZnRlcjtcbiAgICBsZXQgc2xpZGVzQmVmb3JlO1xuICAgIGlmIChjZW50ZXJlZFNsaWRlcykge1xuICAgICAgc2xpZGVzQWZ0ZXIgPSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQWZ0ZXI7XG4gICAgICBzbGlkZXNCZWZvcmUgPSBNYXRoLmZsb29yKHNsaWRlc1BlclZpZXcgLyAyKSArIHNsaWRlc1Blckdyb3VwICsgYWRkU2xpZGVzQmVmb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNBZnRlciA9IHNsaWRlc1BlclZpZXcgKyAoc2xpZGVzUGVyR3JvdXAgLSAxKSArIGFkZFNsaWRlc0FmdGVyO1xuICAgICAgc2xpZGVzQmVmb3JlID0gKGlzTG9vcCA/IHNsaWRlc1BlclZpZXcgOiBzbGlkZXNQZXJHcm91cCkgKyBhZGRTbGlkZXNCZWZvcmU7XG4gICAgfVxuICAgIGxldCBmcm9tID0gYWN0aXZlSW5kZXggLSBzbGlkZXNCZWZvcmU7XG4gICAgbGV0IHRvID0gYWN0aXZlSW5kZXggKyBzbGlkZXNBZnRlcjtcbiAgICBpZiAoIWlzTG9vcCkge1xuICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIDApO1xuICAgICAgdG8gPSBNYXRoLm1pbih0bywgc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0ID0gKHN3aXBlci5zbGlkZXNHcmlkW2Zyb21dIHx8IDApIC0gKHN3aXBlci5zbGlkZXNHcmlkWzBdIHx8IDApO1xuICAgIGlmIChpc0xvb3AgJiYgYWN0aXZlSW5kZXggPj0gc2xpZGVzQmVmb3JlKSB7XG4gICAgICBmcm9tIC09IHNsaWRlc0JlZm9yZTtcbiAgICAgIGlmICghY2VudGVyZWRTbGlkZXMpIG9mZnNldCArPSBzd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICB9IGVsc2UgaWYgKGlzTG9vcCAmJiBhY3RpdmVJbmRleCA8IHNsaWRlc0JlZm9yZSkge1xuICAgICAgZnJvbSA9IC1zbGlkZXNCZWZvcmU7XG4gICAgICBpZiAoY2VudGVyZWRTbGlkZXMpIG9mZnNldCArPSBzd2lwZXIuc2xpZGVzR3JpZFswXTtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIudmlydHVhbCwge1xuICAgICAgZnJvbSxcbiAgICAgIHRvLFxuICAgICAgb2Zmc2V0LFxuICAgICAgc2xpZGVzR3JpZDogc3dpcGVyLnNsaWRlc0dyaWQsXG4gICAgICBzbGlkZXNCZWZvcmUsXG4gICAgICBzbGlkZXNBZnRlclxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIG9uUmVuZGVyZWQoKSB7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgfVxuICAgIGlmIChwcmV2aW91c0Zyb20gPT09IGZyb20gJiYgcHJldmlvdXNUbyA9PT0gdG8gJiYgIWZvcmNlKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc0dyaWQgIT09IHByZXZpb3VzU2xpZGVzR3JpZCAmJiBvZmZzZXQgIT09IHByZXZpb3VzT2Zmc2V0KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLnN0eWxlW29mZnNldFByb3BdID0gYCR7b2Zmc2V0IC0gTWF0aC5hYnMoc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpKX1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwpIHtcbiAgICAgIHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHN3aXBlciwge1xuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBzbGlkZXM6IGZ1bmN0aW9uIGdldFNsaWRlcygpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZXNUb1JlbmRlciA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDw9IHRvOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHNsaWRlc1RvUmVuZGVyLnB1c2goc2xpZGVzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHNsaWRlc1RvUmVuZGVyO1xuICAgICAgICB9KClcbiAgICAgIH0pO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbFVwZGF0ZSkge1xuICAgICAgICBvblJlbmRlcmVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbWl0KCd2aXJ0dWFsVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXBlbmRJbmRleGVzID0gW107XG4gICAgY29uc3QgYXBwZW5kSW5kZXhlcyA9IFtdO1xuICAgIGNvbnN0IGdldFNsaWRlSW5kZXggPSBpbmRleCA9PiB7XG4gICAgICBsZXQgc2xpZGVJbmRleCA9IGluZGV4O1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gc2xpZGVzLmxlbmd0aCArIGluZGV4O1xuICAgICAgfSBlbHNlIGlmIChzbGlkZUluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHNsaWRlSW5kZXggPSBzbGlkZUluZGV4IC0gc2xpZGVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbGlkZUluZGV4O1xuICAgIH07XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICBzd2lwZXIuc2xpZGVzLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgc2xpZGVFbC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gcHJldmlvdXNGcm9tOyBpIDw9IHByZXZpb3VzVG87IGkgKz0gMSkge1xuICAgICAgICBpZiAoaSA8IGZyb20gfHwgaSA+IHRvKSB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IGdldFNsaWRlSW5kZXgoaSk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlcy5maWx0ZXIoZWwgPT4gZWwubWF0Y2hlcyhgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl0sIHN3aXBlci1zbGlkZVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c2xpZGVJbmRleH1cIl1gKSkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICAgIHNsaWRlRWwucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbG9vcEZyb20gPSBpc0xvb3AgPyAtc2xpZGVzLmxlbmd0aCA6IDA7XG4gICAgY29uc3QgbG9vcFRvID0gaXNMb29wID8gc2xpZGVzLmxlbmd0aCAqIDIgOiBzbGlkZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSBsb29wRnJvbTsgaSA8IGxvb3BUbzsgaSArPSAxKSB7XG4gICAgICBpZiAoaSA+PSBmcm9tICYmIGkgPD0gdG8pIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IGdldFNsaWRlSW5kZXgoaSk7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldmlvdXNUbyA9PT0gJ3VuZGVmaW5lZCcgfHwgZm9yY2UpIHtcbiAgICAgICAgICBhcHBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGkgPiBwcmV2aW91c1RvKSBhcHBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgICAgaWYgKGkgPCBwcmV2aW91c0Zyb20pIHByZXBlbmRJbmRleGVzLnB1c2goc2xpZGVJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYXBwZW5kSW5kZXhlcy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIHN3aXBlci5zbGlkZXNFbC5hcHBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICB9KTtcbiAgICBpZiAoaXNMb29wKSB7XG4gICAgICBmb3IgKGxldCBpID0gcHJlcGVuZEluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwcmVwZW5kSW5kZXhlc1tpXTtcbiAgICAgICAgc3dpcGVyLnNsaWRlc0VsLnByZXBlbmQocmVuZGVyU2xpZGUoc2xpZGVzW2luZGV4XSwgaW5kZXgpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcHJlcGVuZEluZGV4ZXMuc29ydCgoYSwgYikgPT4gYiAtIGEpO1xuICAgICAgcHJlcGVuZEluZGV4ZXMuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICAgIHN3aXBlci5zbGlkZXNFbC5wcmVwZW5kKHJlbmRlclNsaWRlKHNsaWRlc1tpbmRleF0sIGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgJy5zd2lwZXItc2xpZGUsIHN3aXBlci1zbGlkZScpLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBzbGlkZUVsLnN0eWxlW29mZnNldFByb3BdID0gYCR7b2Zmc2V0IC0gTWF0aC5hYnMoc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpKX1weGA7XG4gICAgfSk7XG4gICAgb25SZW5kZXJlZCgpO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBzbGlkZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0pIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlc1tpXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5wdXNoKHNsaWRlcyk7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoc2xpZGVzKSB7XG4gICAgY29uc3QgYWN0aXZlSW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXg7XG4gICAgbGV0IG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyAxO1xuICAgIGxldCBudW1iZXJPZk5ld1NsaWRlcyA9IDE7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2xpZGVzKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNsaWRlc1tpXSkgc3dpcGVyLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQoc2xpZGVzW2ldKTtcbiAgICAgIH1cbiAgICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICAgICAgbnVtYmVyT2ZOZXdTbGlkZXMgPSBzbGlkZXMubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMudW5zaGlmdChzbGlkZXMpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7XG4gICAgICBjb25zdCBjYWNoZSA9IHN3aXBlci52aXJ0dWFsLmNhY2hlO1xuICAgICAgY29uc3QgbmV3Q2FjaGUgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGNhY2hlKS5mb3JFYWNoKGNhY2hlZEluZGV4ID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVkRWwgPSBjYWNoZVtjYWNoZWRJbmRleF07XG4gICAgICAgIGNvbnN0IGNhY2hlZEVsSW5kZXggPSBjYWNoZWRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICAgIGlmIChjYWNoZWRFbEluZGV4KSB7XG4gICAgICAgICAgY2FjaGVkRWwuc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIHBhcnNlSW50KGNhY2hlZEVsSW5kZXgsIDEwKSArIG51bWJlck9mTmV3U2xpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdDYWNoZVtwYXJzZUludChjYWNoZWRJbmRleCwgMTApICsgbnVtYmVyT2ZOZXdTbGlkZXNdID0gY2FjaGVkRWw7XG4gICAgICB9KTtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0gbmV3Q2FjaGU7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlU2xpZGUoc2xpZGVzSW5kZXhlcykge1xuICAgIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ3VuZGVmaW5lZCcgfHwgc2xpZGVzSW5kZXhlcyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzbGlkZXNJbmRleGVzKSkge1xuICAgICAgZm9yIChsZXQgaSA9IHNsaWRlc0luZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZXNJbmRleGVzW2ldXTtcbiAgICAgICAgICAvLyBzaGlmdCBjYWNoZSBpbmRleGVzXG4gICAgICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnZpcnR1YWwuY2FjaGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPiBzbGlkZXNJbmRleGVzKSB7XG4gICAgICAgICAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlW2tleSAtIDFdID0gc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0uc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGtleSAtIDEpO1xuICAgICAgICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzd2lwZXIudmlydHVhbC5zbGlkZXMuc3BsaWNlKHNsaWRlc0luZGV4ZXNbaV0sIDEpO1xuICAgICAgICBpZiAoc2xpZGVzSW5kZXhlc1tpXSA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgICBhY3RpdmVJbmRleCA9IE1hdGgubWF4KGFjdGl2ZUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbC5jYWNoZSkge1xuICAgICAgICBkZWxldGUgc3dpcGVyLnZpcnR1YWwuY2FjaGVbc2xpZGVzSW5kZXhlc107XG4gICAgICAgIC8vIHNoaWZ0IGNhY2hlIGluZGV4ZXNcbiAgICAgICAgT2JqZWN0LmtleXMoc3dpcGVyLnZpcnR1YWwuY2FjaGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID4gc2xpZGVzSW5kZXhlcykge1xuICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0gPSBzd2lwZXIudmlydHVhbC5jYWNoZVtrZXldO1xuICAgICAgICAgICAgc3dpcGVyLnZpcnR1YWwuY2FjaGVba2V5IC0gMV0uc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGtleSAtIDEpO1xuICAgICAgICAgICAgZGVsZXRlIHN3aXBlci52aXJ0dWFsLmNhY2hlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcy5zcGxpY2Uoc2xpZGVzSW5kZXhlcywgMSk7XG4gICAgICBpZiAoc2xpZGVzSW5kZXhlcyA8IGFjdGl2ZUluZGV4KSBhY3RpdmVJbmRleCAtPSAxO1xuICAgICAgYWN0aXZlSW5kZXggPSBNYXRoLm1heChhY3RpdmVJbmRleCwgMCk7XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsU2xpZGVzKCkge1xuICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcyA9IFtdO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWwuY2FjaGUpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLmNhY2hlID0ge307XG4gICAgfVxuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICBzd2lwZXIuc2xpZGVUbygwLCAwKTtcbiAgfVxuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gICAgbGV0IGRvbVNsaWRlc0Fzc2lnbmVkO1xuICAgIGlmICh0eXBlb2Ygc3dpcGVyLnBhc3NlZFBhcmFtcy52aXJ0dWFsLnNsaWRlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNsaWRlcyA9IFsuLi5zd2lwZXIuc2xpZGVzRWwuY2hpbGRyZW5dLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSk7XG4gICAgICBpZiAoc2xpZGVzICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnZpcnR1YWwuc2xpZGVzID0gWy4uLnNsaWRlc107XG4gICAgICAgIGRvbVNsaWRlc0Fzc2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goKHNsaWRlRWwsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgICBzbGlkZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnLCBzbGlkZUluZGV4KTtcbiAgICAgICAgICBzd2lwZXIudmlydHVhbC5jYWNoZVtzbGlkZUluZGV4XSA9IHNsaWRlRWw7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZG9tU2xpZGVzQXNzaWduZWQpIHtcbiAgICAgIHN3aXBlci52aXJ0dWFsLnNsaWRlcyA9IHN3aXBlci5wYXJhbXMudmlydHVhbC5zbGlkZXM7XG4gICAgfVxuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfXZpcnR1YWxgKTtcbiAgICBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gdHJ1ZTtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgJiYgIXN3aXBlci5faW1tZWRpYXRlVmlydHVhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNzc01vZGVUaW1lb3V0KTtcbiAgICAgIGNzc01vZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2luaXQgdXBkYXRlIHJlc2l6ZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc2V0Q1NTUHJvcGVydHkoc3dpcGVyLndyYXBwZXJFbCwgJy0tc3dpcGVyLXZpcnR1YWwtc2l6ZScsIGAke3N3aXBlci52aXJ0dWFsU2l6ZX1weGApO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnZpcnR1YWwsIHtcbiAgICBhcHBlbmRTbGlkZSxcbiAgICBwcmVwZW5kU2xpZGUsXG4gICAgcmVtb3ZlU2xpZGUsXG4gICAgcmVtb3ZlQWxsU2xpZGVzLFxuICAgIHVwZGF0ZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgVmlydHVhbCBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCwgYSBhcyBnZXRXaW5kb3cgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGEgYXMgZWxlbWVudFBhcmVudHMsIGIgYXMgZWxlbWVudE9mZnNldCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuZnVuY3Rpb24gS2V5Ym9hcmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgc3dpcGVyLmtleWJvYXJkID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlXG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAga2V5Ym9hcmQ6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgb25seUluVmlld3BvcnQ6IHRydWUsXG4gICAgICBwYWdlVXBEb3duOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBsZXQgZSA9IGV2ZW50O1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIGUgPSBlLm9yaWdpbmFsRXZlbnQ7IC8vIGpxdWVyeSBmaXhcbiAgICBjb25zdCBrYyA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuICAgIGNvbnN0IHBhZ2VVcERvd24gPSBzd2lwZXIucGFyYW1zLmtleWJvYXJkLnBhZ2VVcERvd247XG4gICAgY29uc3QgaXNQYWdlVXAgPSBwYWdlVXBEb3duICYmIGtjID09PSAzMztcbiAgICBjb25zdCBpc1BhZ2VEb3duID0gcGFnZVVwRG93biAmJiBrYyA9PT0gMzQ7XG4gICAgY29uc3QgaXNBcnJvd0xlZnQgPSBrYyA9PT0gMzc7XG4gICAgY29uc3QgaXNBcnJvd1JpZ2h0ID0ga2MgPT09IDM5O1xuICAgIGNvbnN0IGlzQXJyb3dVcCA9IGtjID09PSAzODtcbiAgICBjb25zdCBpc0Fycm93RG93biA9IGtjID09PSA0MDtcbiAgICAvLyBEaXJlY3Rpb25zIGxvY2tzXG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgKHN3aXBlci5pc0hvcml6b250YWwoKSAmJiBpc0Fycm93UmlnaHQgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiBpc0Fycm93RG93biB8fCBpc1BhZ2VEb3duKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5hbGxvd1NsaWRlUHJldiAmJiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIGlzQXJyb3dMZWZ0IHx8IHN3aXBlci5pc1ZlcnRpY2FsKCkgJiYgaXNBcnJvd1VwIHx8IGlzUGFnZVVwKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lICYmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMua2V5Ym9hcmQub25seUluVmlld3BvcnQgJiYgKGlzUGFnZVVwIHx8IGlzUGFnZURvd24gfHwgaXNBcnJvd0xlZnQgfHwgaXNBcnJvd1JpZ2h0IHx8IGlzQXJyb3dVcCB8fCBpc0Fycm93RG93bikpIHtcbiAgICAgIGxldCBpblZpZXcgPSBmYWxzZTtcbiAgICAgIC8vIENoZWNrIHRoYXQgc3dpcGVyIHNob3VsZCBiZSBpbnNpZGUgb2YgdmlzaWJsZSBhcmVhIG9mIHdpbmRvd1xuICAgICAgaWYgKGVsZW1lbnRQYXJlbnRzKHN3aXBlci5lbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApLmxlbmd0aCA+IDAgJiYgZWxlbWVudFBhcmVudHMoc3dpcGVyLmVsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzfWApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gICAgICBjb25zdCBzd2lwZXJXaWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICAgICAgY29uc3Qgc3dpcGVySGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IHN3aXBlck9mZnNldCA9IGVsZW1lbnRPZmZzZXQoZWwpO1xuICAgICAgaWYgKHJ0bCkgc3dpcGVyT2Zmc2V0LmxlZnQgLT0gZWwuc2Nyb2xsTGVmdDtcbiAgICAgIGNvbnN0IHN3aXBlckNvb3JkID0gW1tzd2lwZXJPZmZzZXQubGVmdCwgc3dpcGVyT2Zmc2V0LnRvcF0sIFtzd2lwZXJPZmZzZXQubGVmdCArIHN3aXBlcldpZHRoLCBzd2lwZXJPZmZzZXQudG9wXSwgW3N3aXBlck9mZnNldC5sZWZ0LCBzd2lwZXJPZmZzZXQudG9wICsgc3dpcGVySGVpZ2h0XSwgW3N3aXBlck9mZnNldC5sZWZ0ICsgc3dpcGVyV2lkdGgsIHN3aXBlck9mZnNldC50b3AgKyBzd2lwZXJIZWlnaHRdXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyQ29vcmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBzd2lwZXJDb29yZFtpXTtcbiAgICAgICAgaWYgKHBvaW50WzBdID49IDAgJiYgcG9pbnRbMF0gPD0gd2luZG93V2lkdGggJiYgcG9pbnRbMV0gPj0gMCAmJiBwb2ludFsxXSA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICBpZiAocG9pbnRbMF0gPT09IDAgJiYgcG9pbnRbMV0gPT09IDApIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpblZpZXcpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIGlmIChpc1BhZ2VVcCB8fCBpc1BhZ2VEb3duIHx8IGlzQXJyb3dMZWZ0IHx8IGlzQXJyb3dSaWdodCkge1xuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKChpc1BhZ2VEb3duIHx8IGlzQXJyb3dSaWdodCkgJiYgIXJ0bCB8fCAoaXNQYWdlVXAgfHwgaXNBcnJvd0xlZnQpICYmIHJ0bCkgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgaWYgKChpc1BhZ2VVcCB8fCBpc0Fycm93TGVmdCkgJiYgIXJ0bCB8fCAoaXNQYWdlRG93biB8fCBpc0Fycm93UmlnaHQpICYmIHJ0bCkgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNQYWdlRG93biB8fCBpc0Fycm93VXAgfHwgaXNBcnJvd0Rvd24pIHtcbiAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhZ2VEb3duIHx8IGlzQXJyb3dEb3duKSBzd2lwZXIuc2xpZGVOZXh0KCk7XG4gICAgICBpZiAoaXNQYWdlVXAgfHwgaXNBcnJvd1VwKSBzd2lwZXIuc2xpZGVQcmV2KCk7XG4gICAgfVxuICAgIGVtaXQoJ2tleVByZXNzJywga2MpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGUpO1xuICAgIHN3aXBlci5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIGlmICghc3dpcGVyLmtleWJvYXJkLmVuYWJsZWQpIHJldHVybjtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlKTtcbiAgICBzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmtleWJvYXJkLmVuYWJsZWQpIHtcbiAgICAgIGVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIua2V5Ym9hcmQuZW5hYmxlZCkge1xuICAgICAgZGlzYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmtleWJvYXJkLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEtleWJvYXJkIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgbiBhcyBuZXh0VGljaywgZCBhcyBub3cgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuLyogZXNsaW50LWRpc2FibGUgY29uc2lzdGVudC1yZXR1cm4gKi9cbmZ1bmN0aW9uIE1vdXNld2hlZWwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgbW91c2V3aGVlbDoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByZWxlYXNlT25FZGdlczogZmFsc2UsXG4gICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgZm9yY2VUb0F4aXM6IGZhbHNlLFxuICAgICAgc2Vuc2l0aXZpdHk6IDEsXG4gICAgICBldmVudHNUYXJnZXQ6ICdjb250YWluZXInLFxuICAgICAgdGhyZXNob2xkRGVsdGE6IG51bGwsXG4gICAgICB0aHJlc2hvbGRUaW1lOiBudWxsLFxuICAgICAgbm9Nb3VzZXdoZWVsQ2xhc3M6ICdzd2lwZXItbm8tbW91c2V3aGVlbCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIubW91c2V3aGVlbCA9IHtcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuICBsZXQgdGltZW91dDtcbiAgbGV0IGxhc3RTY3JvbGxUaW1lID0gbm93KCk7XG4gIGxldCBsYXN0RXZlbnRCZWZvcmVTbmFwO1xuICBjb25zdCByZWNlbnRXaGVlbEV2ZW50cyA9IFtdO1xuICBmdW5jdGlvbiBub3JtYWxpemUoZSkge1xuICAgIC8vIFJlYXNvbmFibGUgZGVmYXVsdHNcbiAgICBjb25zdCBQSVhFTF9TVEVQID0gMTA7XG4gICAgY29uc3QgTElORV9IRUlHSFQgPSA0MDtcbiAgICBjb25zdCBQQUdFX0hFSUdIVCA9IDgwMDtcbiAgICBsZXQgc1ggPSAwO1xuICAgIGxldCBzWSA9IDA7IC8vIHNwaW5YLCBzcGluWVxuICAgIGxldCBwWCA9IDA7XG4gICAgbGV0IHBZID0gMDsgLy8gcGl4ZWxYLCBwaXhlbFlcblxuICAgIC8vIExlZ2FjeVxuICAgIGlmICgnZGV0YWlsJyBpbiBlKSB7XG4gICAgICBzWSA9IGUuZGV0YWlsO1xuICAgIH1cbiAgICBpZiAoJ3doZWVsRGVsdGEnIGluIGUpIHtcbiAgICAgIHNZID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWScgaW4gZSkge1xuICAgICAgc1kgPSAtZS53aGVlbERlbHRhWSAvIDEyMDtcbiAgICB9XG4gICAgaWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuICAgICAgc1ggPSAtZS53aGVlbERlbHRhWCAvIDEyMDtcbiAgICB9XG5cbiAgICAvLyBzaWRlIHNjcm9sbGluZyBvbiBGRiB3aXRoIERPTU1vdXNlU2Nyb2xsXG4gICAgaWYgKCdheGlzJyBpbiBlICYmIGUuYXhpcyA9PT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgIHNYID0gc1k7XG4gICAgICBzWSA9IDA7XG4gICAgfVxuICAgIHBYID0gc1ggKiBQSVhFTF9TVEVQO1xuICAgIHBZID0gc1kgKiBQSVhFTF9TVEVQO1xuICAgIGlmICgnZGVsdGFZJyBpbiBlKSB7XG4gICAgICBwWSA9IGUuZGVsdGFZO1xuICAgIH1cbiAgICBpZiAoJ2RlbHRhWCcgaW4gZSkge1xuICAgICAgcFggPSBlLmRlbHRhWDtcbiAgICB9XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIXBYKSB7XG4gICAgICAvLyBpZiB1c2VyIHNjcm9sbHMgd2l0aCBzaGlmdCBoZSB3YW50cyBob3Jpem9udGFsIHNjcm9sbFxuICAgICAgcFggPSBwWTtcbiAgICAgIHBZID0gMDtcbiAgICB9XG4gICAgaWYgKChwWCB8fCBwWSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICAgIGlmIChlLmRlbHRhTW9kZSA9PT0gMSkge1xuICAgICAgICAvLyBkZWx0YSBpbiBMSU5FIHVuaXRzXG4gICAgICAgIHBYICo9IExJTkVfSEVJR0hUO1xuICAgICAgICBwWSAqPSBMSU5FX0hFSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbHRhIGluIFBBR0UgdW5pdHNcbiAgICAgICAgcFggKj0gUEFHRV9IRUlHSFQ7XG4gICAgICAgIHBZICo9IFBBR0VfSEVJR0hUO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGwtYmFjayBpZiBzcGluIGNhbm5vdCBiZSBkZXRlcm1pbmVkXG4gICAgaWYgKHBYICYmICFzWCkge1xuICAgICAgc1ggPSBwWCA8IDEgPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmIChwWSAmJiAhc1kpIHtcbiAgICAgIHNZID0gcFkgPCAxID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3Bpblg6IHNYLFxuICAgICAgc3Bpblk6IHNZLFxuICAgICAgcGl4ZWxYOiBwWCxcbiAgICAgIHBpeGVsWTogcFlcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgaWYgKCFzd2lwZXIuZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5tb3VzZUVudGVyZWQgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSAmJiBuZXdFdmVudC5kZWx0YSA8IHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkge1xuICAgICAgLy8gUHJldmVudCBpZiBkZWx0YSBvZiB3aGVlbCBzY3JvbGwgZGVsdGEgaXMgYmVsb3cgY29uZmlndXJlZCB0aHJlc2hvbGRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lICYmIG5vdygpIC0gbGFzdFNjcm9sbFRpbWUgPCBzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSkge1xuICAgICAgLy8gUHJldmVudCBpZiB0aW1lIGJldHdlZW4gc2Nyb2xscyBpcyBiZWxvdyBjb25maWd1cmVkIHRocmVzaG9sZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtb3ZlbWVudCBpcyBOT1QgYmlnIGVub3VnaCBhbmRcbiAgICAvLyBpZiB0aGUgbGFzdCB0aW1lIHRoZSB1c2VyIHNjcm9sbGVkIHdhcyB0b28gY2xvc2UgdG8gdGhlIGN1cnJlbnQgb25lIChhdm9pZCBjb250aW51b3VzbHkgdHJpZ2dlcmluZyB0aGUgc2xpZGVyKTpcbiAgICAvLyAgIERvbid0IGdvIGFueSBmdXJ0aGVyIChhdm9pZCBpbnNpZ25pZmljYW50IHNjcm9sbCBtb3ZlbWVudCkuXG4gICAgaWYgKG5ld0V2ZW50LmRlbHRhID49IDYgJiYgbm93KCkgLSBsYXN0U2Nyb2xsVGltZSA8IDYwKSB7XG4gICAgICAvLyBSZXR1cm4gZmFsc2UgYXMgYSBkZWZhdWx0XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gSWYgdXNlciBpcyBzY3JvbGxpbmcgdG93YXJkcyB0aGUgZW5kOlxuICAgIC8vICAgSWYgdGhlIHNsaWRlciBoYXNuJ3QgaGl0IHRoZSBsYXRlc3Qgc2xpZGUgb3JcbiAgICAvLyAgIGlmIHRoZSBzbGlkZXIgaXMgYSBsb29wIGFuZFxuICAgIC8vICAgaWYgdGhlIHNsaWRlciBpc24ndCBtb3ZpbmcgcmlnaHQgbm93OlxuICAgIC8vICAgICBHbyB0byBuZXh0IHNsaWRlIGFuZFxuICAgIC8vICAgICBlbWl0IGEgc2Nyb2xsIGV2ZW50LlxuICAgIC8vIEVsc2UgKHRoZSB1c2VyIGlzIHNjcm9sbGluZyB0b3dhcmRzIHRoZSBiZWdpbm5pbmcpIGFuZFxuICAgIC8vIGlmIHRoZSBzbGlkZXIgaGFzbid0IGhpdCB0aGUgZmlyc3Qgc2xpZGUgb3JcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzIGEgbG9vcCBhbmRcbiAgICAvLyBpZiB0aGUgc2xpZGVyIGlzbid0IG1vdmluZyByaWdodCBub3c6XG4gICAgLy8gICBHbyB0byBwcmV2IHNsaWRlIGFuZFxuICAgIC8vICAgZW1pdCBhIHNjcm9sbCBldmVudC5cbiAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uIDwgMCkge1xuICAgICAgaWYgKCghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCkgJiYgIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgICBlbWl0KCdzY3JvbGwnLCBuZXdFdmVudC5yYXcpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKCFzd2lwZXIuaXNCZWdpbm5pbmcgfHwgc3dpcGVyLnBhcmFtcy5sb29wKSAmJiAhc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgZW1pdCgnc2Nyb2xsJywgbmV3RXZlbnQucmF3KTtcbiAgICB9XG4gICAgLy8gSWYgeW91IGdvdCBoZXJlIGlzIGJlY2F1c2UgYW4gYW5pbWF0aW9uIGhhcyBiZWVuIHRyaWdnZXJlZCBzbyBzdG9yZSB0aGUgY3VycmVudCB0aW1lXG4gICAgbGFzdFNjcm9sbFRpbWUgPSBuZXcgd2luZG93LkRhdGUoKS5nZXRUaW1lKCk7XG4gICAgLy8gUmV0dXJuIGZhbHNlIGFzIGEgZGVmYXVsdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChuZXdFdmVudC5kaXJlY3Rpb24gPCAwKSB7XG4gICAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIHRvIGFuaW1hdGUgc2Nyb2xsIG9uIGVkZ2VzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSB7XG4gICAgICAvLyBSZXR1cm4gdHJ1ZSB0byBhbmltYXRlIHNjcm9sbCBvbiBlZGdlc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICBsZXQgZSA9IGV2ZW50O1xuICAgIGxldCBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG5cbiAgICAvLyBJZ25vcmUgZXZlbnQgaWYgdGhlIHRhcmdldCBvciBpdHMgcGFyZW50cyBoYXZlIHRoZSBzd2lwZXItbm8tbW91c2V3aGVlbCBjbGFzc1xuICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLm5vTW91c2V3aGVlbENsYXNzfWApKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgbGV0IHRhcmdldEVsID0gc3dpcGVyLmVsO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0ICE9PSAnY29udGFpbmVyJykge1xuICAgICAgdGFyZ2V0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRFbENvbnRhaW5zVGFyZ2V0ID0gdGFyZ2V0RWwgJiYgdGFyZ2V0RWwuY29udGFpbnMoZS50YXJnZXQpO1xuICAgIGlmICghc3dpcGVyLm1vdXNlRW50ZXJlZCAmJiAhdGFyZ2V0RWxDb250YWluc1RhcmdldCAmJiAhcGFyYW1zLnJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50OyAvLyBqcXVlcnkgZml4XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBjb25zdCBydGxGYWN0b3IgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLTEgOiAxO1xuICAgIGNvbnN0IGRhdGEgPSBub3JtYWxpemUoZSk7XG4gICAgaWYgKHBhcmFtcy5mb3JjZVRvQXhpcykge1xuICAgICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpKSBkZWx0YSA9IC1kYXRhLnBpeGVsWCAqIHJ0bEZhY3RvcjtlbHNlIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkYXRhLnBpeGVsWSkgPiBNYXRoLmFicyhkYXRhLnBpeGVsWCkpIGRlbHRhID0gLWRhdGEucGl4ZWxZO2Vsc2UgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0gTWF0aC5hYnMoZGF0YS5waXhlbFgpID4gTWF0aC5hYnMoZGF0YS5waXhlbFkpID8gLWRhdGEucGl4ZWxYICogcnRsRmFjdG9yIDogLWRhdGEucGl4ZWxZO1xuICAgIH1cbiAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiB0cnVlO1xuICAgIGlmIChwYXJhbXMuaW52ZXJ0KSBkZWx0YSA9IC1kZWx0YTtcblxuICAgIC8vIEdldCB0aGUgc2Nyb2xsIHBvc2l0aW9uc1xuICAgIGxldCBwb3NpdGlvbnMgPSBzd2lwZXIuZ2V0VHJhbnNsYXRlKCkgKyBkZWx0YSAqIHBhcmFtcy5zZW5zaXRpdml0eTtcbiAgICBpZiAocG9zaXRpb25zID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb25zID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGlmIChwb3NpdGlvbnMgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSBwb3NpdGlvbnMgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG5cbiAgICAvLyBXaGVuIGxvb3AgaXMgdHJ1ZTpcbiAgICAvLyAgICAgdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vIFdoZW4gbG9vcCBpcyBmYWxzZTpcbiAgICAvLyAgICAgaWYgdGhlIHNjcm9sbCBwb3NpdGlvbnMgaXMgbm90IG9uIGVkZ2UsXG4gICAgLy8gICAgIHRoZW4gdGhlIGRpc2FibGVQYXJlbnRTd2lwZXIgd2lsbCBiZSB0cnVlLlxuICAgIC8vICAgICBpZiB0aGUgc2Nyb2xsIG9uIGVkZ2UgcG9zaXRpb25zLFxuICAgIC8vICAgICB0aGVuIHRoZSBkaXNhYmxlUGFyZW50U3dpcGVyIHdpbGwgYmUgZmFsc2UuXG4gICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IHN3aXBlci5wYXJhbXMubG9vcCA/IHRydWUgOiAhKHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIHx8IHBvc2l0aW9ucyA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKTtcbiAgICBpZiAoZGlzYWJsZVBhcmVudFN3aXBlciAmJiBzd2lwZXIucGFyYW1zLm5lc3RlZCkgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUgfHwgIXN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBldmVudCBpbiBhIHZhcmlhYmxlIHdoaWNoIHN0b3JlcyB0aGUgcmVsZXZhbnQgZGF0YVxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSksXG4gICAgICAgIHJhdzogZXZlbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIEtlZXAgdGhlIG1vc3QgcmVjZW50IGV2ZW50c1xuICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNoaWZ0KCk7IC8vIG9ubHkgc3RvcmUgdGhlIGxhc3QgTiBldmVudHNcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldkV2ZW50ID0gcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoID8gcmVjZW50V2hlZWxFdmVudHNbcmVjZW50V2hlZWxFdmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcblxuICAgICAgLy8gSWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByZXZpb3VzIHJlY29yZGVkIGV2ZW50OlxuICAgICAgLy8gICBJZiBkaXJlY3Rpb24gaGFzIGNoYW5nZWQgb3JcbiAgICAgIC8vICAgaWYgdGhlIHNjcm9sbCBpcyBxdWlja2VyIHRoYW4gdGhlIHByZXZpb3VzIG9uZTpcbiAgICAgIC8vICAgICBBbmltYXRlIHRoZSBzbGlkZXIuXG4gICAgICAvLyBFbHNlICh0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSB3aGVlbCBpcyBtb3ZlZCk6XG4gICAgICAvLyAgICAgQW5pbWF0ZSB0aGUgc2xpZGVyLlxuICAgICAgaWYgKHByZXZFdmVudCkge1xuICAgICAgICBpZiAobmV3RXZlbnQuZGlyZWN0aW9uICE9PSBwcmV2RXZlbnQuZGlyZWN0aW9uIHx8IG5ld0V2ZW50LmRlbHRhID4gcHJldkV2ZW50LmRlbHRhIHx8IG5ld0V2ZW50LnRpbWUgPiBwcmV2RXZlbnQudGltZSArIDE1MCkge1xuICAgICAgICAgIGFuaW1hdGVTbGlkZXIobmV3RXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRlU2xpZGVyKG5ld0V2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXQncyB0aW1lIHRvIHJlbGVhc2UgdGhlIHNjcm9sbDpcbiAgICAgIC8vICAgUmV0dXJuIG5vdyBzbyB5b3UgZG9uJ3QgaGl0IHRoZSBwcmV2ZW50RGVmYXVsdC5cbiAgICAgIGlmIChyZWxlYXNlU2Nyb2xsKG5ld0V2ZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRnJlZW1vZGUgb3Igc2Nyb2xsQ29udGFpbmVyOlxuXG4gICAgICAvLyBJZiB3ZSByZWNlbnRseSBzbmFwcGVkIGFmdGVyIGEgbW9tZW50dW0gc2Nyb2xsLCB0aGVuIGlnbm9yZSB3aGVlbCBldmVudHNcbiAgICAgIC8vIHRvIGdpdmUgdGltZSBmb3IgdGhlIGRlY2VsZXJhdGlvbiB0byBmaW5pc2guIFN0b3AgaWdub3JpbmcgYWZ0ZXIgNTAwIG1zZWNzXG4gICAgICAvLyBvciBpZiBpdCdzIGEgbmV3IHNjcm9sbCAobGFyZ2VyIGRlbHRhIG9yIGludmVyc2Ugc2lnbiBhcyBsYXN0IGV2ZW50IGJlZm9yZVxuICAgICAgLy8gYW4gZW5kLW9mLW1vbWVudHVtIHNuYXApLlxuICAgICAgY29uc3QgbmV3RXZlbnQgPSB7XG4gICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICBkZWx0YTogTWF0aC5hYnMoZGVsdGEpLFxuICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihkZWx0YSlcbiAgICAgIH07XG4gICAgICBjb25zdCBpZ25vcmVXaGVlbEV2ZW50cyA9IGxhc3RFdmVudEJlZm9yZVNuYXAgJiYgbmV3RXZlbnQudGltZSA8IGxhc3RFdmVudEJlZm9yZVNuYXAudGltZSArIDUwMCAmJiBuZXdFdmVudC5kZWx0YSA8PSBsYXN0RXZlbnRCZWZvcmVTbmFwLmRlbHRhICYmIG5ld0V2ZW50LmRpcmVjdGlvbiA9PT0gbGFzdEV2ZW50QmVmb3JlU25hcC5kaXJlY3Rpb247XG4gICAgICBpZiAoIWlnbm9yZVdoZWVsRXZlbnRzKSB7XG4gICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKSArIGRlbHRhICogcGFyYW1zLnNlbnNpdGl2aXR5O1xuICAgICAgICBjb25zdCB3YXNCZWdpbm5pbmcgPSBzd2lwZXIuaXNCZWdpbm5pbmc7XG4gICAgICAgIGNvbnN0IHdhc0VuZCA9IHN3aXBlci5pc0VuZDtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IHN3aXBlci5taW5UcmFuc2xhdGUoKSkgcG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA8PSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIHBvc2l0aW9uID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShwb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcygpO1xuICAgICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgaWYgKCF3YXNCZWdpbm5pbmcgJiYgc3dpcGVyLmlzQmVnaW5uaW5nIHx8ICF3YXNFbmQgJiYgc3dpcGVyLmlzRW5kKSB7XG4gICAgICAgICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBuZXdFdmVudC5kaXJlY3Rpb24gPCAwID8gJ25leHQnIDogJ3ByZXYnLFxuICAgICAgICAgICAgYnlNb3VzZXdoZWVsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgICAgLy8gV2hlbiB3aGVlbCBzY3JvbGxpbmcgc3RhcnRzIHdpdGggc3RpY2t5IChha2Egc25hcCkgZW5hYmxlZCwgdGhlbiBkZXRlY3RcbiAgICAgICAgICAvLyB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGJ5IHN0b3JpbmcgcmVjZW50IChOPTE1Pykgd2hlZWwgZXZlbnRzLlxuICAgICAgICAgIC8vIDEuIGRvIGFsbCBOIGV2ZW50cyBoYXZlIGRlY3JlYXNpbmcgb3Igc2FtZSAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhP1xuICAgICAgICAgIC8vIDIuIGRpZCBhbGwgTiBldmVudHMgYXJyaXZlIGluIHRoZSBsYXN0IE0gKE09NTAwPykgbXNlY3M/XG4gICAgICAgICAgLy8gMy4gZG9lcyB0aGUgZWFybGllc3QgZXZlbnQgaGF2ZSBhbiAoYWJzb2x1dGUgdmFsdWUpIGRlbHRhIHRoYXQnc1xuICAgICAgICAgIC8vICAgIGF0IGxlYXN0IFAgKFA9MT8pIGxhcmdlciB0aGFuIHRoZSBtb3N0IHJlY2VudCBldmVudCdzIGRlbHRhP1xuICAgICAgICAgIC8vIDQuIGRvZXMgdGhlIGxhdGVzdCBldmVudCBoYXZlIGEgZGVsdGEgdGhhdCdzIHNtYWxsZXIgdGhhbiBRIChRPTY/KSBwaXhlbHM/XG4gICAgICAgICAgLy8gSWYgMS00IGFyZSBcInllc1wiIHRoZW4gd2UncmUgbmVhciB0aGUgZW5kIG9mIGEgbW9tZW50dW0gc2Nyb2xsIGRlY2VsZXJhdGlvbi5cbiAgICAgICAgICAvLyBTbmFwIGltbWVkaWF0ZWx5IGFuZCBpZ25vcmUgcmVtYWluaW5nIHdoZWVsIGV2ZW50cyBpbiB0aGlzIHNjcm9sbC5cbiAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZSBmb3IgXCJyZW1haW5pbmcgd2hlZWwgZXZlbnRzIGluIHRoaXMgc2Nyb2xsXCIgZGV0ZXJtaW5hdGlvbi5cbiAgICAgICAgICAvLyBJZiAxLTQgYXJlbid0IHNhdGlzZmllZCwgdGhlbiB3YWl0IHRvIHNuYXAgdW50aWwgNTAwbXMgYWZ0ZXIgdGhlIGxhc3QgZXZlbnQuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSkge1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc2hpZnQoKTsgLy8gb25seSBzdG9yZSB0aGUgbGFzdCBOIGV2ZW50c1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHByZXZFdmVudCA9IHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA/IHJlY2VudFdoZWVsRXZlbnRzW3JlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGZpcnN0RXZlbnQgPSByZWNlbnRXaGVlbEV2ZW50c1swXTtcbiAgICAgICAgICByZWNlbnRXaGVlbEV2ZW50cy5wdXNoKG5ld0V2ZW50KTtcbiAgICAgICAgICBpZiAocHJldkV2ZW50ICYmIChuZXdFdmVudC5kZWx0YSA+IHByZXZFdmVudC5kZWx0YSB8fCBuZXdFdmVudC5kaXJlY3Rpb24gIT09IHByZXZFdmVudC5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzaW5nIG9yIHJldmVyc2Utc2lnbiBkZWx0YSBtZWFucyB0aGUgdXNlciBzdGFydGVkIHNjcm9sbGluZyBhZ2Fpbi4gQ2xlYXIgdGhlIHdoZWVsIGV2ZW50IGxvZy5cbiAgICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzLnNwbGljZSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY2VudFdoZWVsRXZlbnRzLmxlbmd0aCA+PSAxNSAmJiBuZXdFdmVudC50aW1lIC0gZmlyc3RFdmVudC50aW1lIDwgNTAwICYmIGZpcnN0RXZlbnQuZGVsdGEgLSBuZXdFdmVudC5kZWx0YSA+PSAxICYmIG5ld0V2ZW50LmRlbHRhIDw9IDYpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGRlY2VsZXJhdGlvbiBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc28gdGhlcmUncyBubyBuZWVkXG4gICAgICAgICAgICAvLyB0byB3YWl0IGZvciBtb3JlIGV2ZW50cy4gU25hcCBBU0FQIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAvLyBBbHNvLCBiZWNhdXNlIHRoZXJlJ3Mgc29tZSByZW1haW5pbmcgbW9tZW50dW0gd2UnbGwgYmlhcyB0aGUgc25hcCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgb25nb2luZyBzY3JvbGwgYmVjYXVzZSBpdCdzIGJldHRlciBVWCBmb3IgdGhlIHNjcm9sbCB0byBzbmFwXG4gICAgICAgICAgICAvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gYXMgdGhlIHNjcm9sbCBpbnN0ZWFkIG9mIHJldmVyc2luZyB0byBzbmFwLiAgVGhlcmVmb3JlLFxuICAgICAgICAgICAgLy8gaWYgaXQncyBhbHJlYWR5IHNjcm9sbGVkIG1vcmUgdGhhbiAyMCUgaW4gdGhlIGN1cnJlbnQgZGlyZWN0aW9uLCBrZWVwIGdvaW5nLlxuICAgICAgICAgICAgY29uc3Qgc25hcFRvVGhyZXNob2xkID0gZGVsdGEgPiAwID8gMC44IDogMC4yO1xuICAgICAgICAgICAgbGFzdEV2ZW50QmVmb3JlU25hcCA9IG5ld0V2ZW50O1xuICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgdGltZW91dCA9IG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlVG9DbG9zZXN0KHN3aXBlci5wYXJhbXMuc3BlZWQsIHRydWUsIHVuZGVmaW5lZCwgc25hcFRvVGhyZXNob2xkKTtcbiAgICAgICAgICAgIH0sIDApOyAvLyBubyBkZWxheTsgbW92ZSBvbiBuZXh0IHRpY2tcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB0aGVuIHdlIGhhdmVuJ3QgZGV0ZWN0ZWQgdGhlIGVuZCBvZiBhIG1vbWVudHVtIHNjcm9sbCwgc29cbiAgICAgICAgICAgIC8vIHdlJ2xsIGNvbnNpZGVyIGEgc2Nyb2xsIFwiY29tcGxldGVcIiB3aGVuIHRoZXJlIGhhdmVuJ3QgYmVlbiBhbnkgd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICAvLyBmb3IgNTAwbXMuXG4gICAgICAgICAgICB0aW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzbmFwVG9UaHJlc2hvbGQgPSAwLjU7XG4gICAgICAgICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXAgPSBuZXdFdmVudDtcbiAgICAgICAgICAgICAgcmVjZW50V2hlZWxFdmVudHMuc3BsaWNlKDApO1xuICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3Qoc3dpcGVyLnBhcmFtcy5zcGVlZCwgdHJ1ZSwgdW5kZWZpbmVkLCBzbmFwVG9UaHJlc2hvbGQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbWl0IGV2ZW50XG4gICAgICAgIGlmICghaWdub3JlV2hlZWxFdmVudHMpIGVtaXQoJ3Njcm9sbCcsIGUpO1xuXG4gICAgICAgIC8vIFN0b3AgYXV0b3BsYXlcbiAgICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkgJiYgc3dpcGVyLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uKSBzd2lwZXIuYXV0b3BsYXkuc3RvcCgpO1xuICAgICAgICAvLyBSZXR1cm4gcGFnZSBzY3JvbGwgb24gZWRnZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKHBhcmFtcy5yZWxlYXNlT25FZGdlcyAmJiAocG9zaXRpb24gPT09IHN3aXBlci5taW5UcmFuc2xhdGUoKSB8fCBwb3NpdGlvbiA9PT0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGV2ZW50cyhtZXRob2QpIHtcbiAgICBsZXQgdGFyZ2V0RWwgPSBzd2lwZXIuZWw7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQgIT09ICdjb250YWluZXInKSB7XG4gICAgICB0YXJnZXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdldCk7XG4gICAgfVxuICAgIHRhcmdldEVsW21ldGhvZF0oJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyKTtcbiAgICB0YXJnZXRFbFttZXRob2RdKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGFyZ2V0RWxbbWV0aG9kXSgnd2hlZWwnLCBoYW5kbGUpO1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgaGFuZGxlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygnYWRkRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuIGZhbHNlO1xuICAgIGV2ZW50cygncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xuICAgIHN3aXBlci5tb3VzZXdoZWVsLmVuYWJsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZGlzYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQpIGVuYWJsZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgZW5hYmxlKCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIubW91c2V3aGVlbC5lbmFibGVkKSBkaXNhYmxlKCk7XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5tb3VzZXdoZWVsLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE1vdXNld2hlZWwgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGUgYXMgZWxlbWVudENoaWxkcmVuLCBjIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQoc3dpcGVyLCBvcmlnaW5hbFBhcmFtcywgcGFyYW1zLCBjaGVja1Byb3BzKSB7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgT2JqZWN0LmtleXMoY2hlY2tQcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKCFwYXJhbXNba2V5XSAmJiBwYXJhbXMuYXV0byA9PT0gdHJ1ZSkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGVsZW1lbnRDaGlsZHJlbihzd2lwZXIuZWwsIGAuJHtjaGVja1Byb3BzW2tleV19YClbMF07XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBjaGVja1Byb3BzW2tleV0pO1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2hlY2tQcm9wc1trZXldO1xuICAgICAgICAgIHN3aXBlci5lbC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgICBvcmlnaW5hbFBhcmFtc1trZXldID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgeyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcblxuZnVuY3Rpb24gTmF2aWdhdGlvbihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIG5hdmlnYXRpb246IHtcbiAgICAgIG5leHRFbDogbnVsbCxcbiAgICAgIHByZXZFbDogbnVsbCxcbiAgICAgIGhpZGVPbkNsaWNrOiBmYWxzZSxcbiAgICAgIGRpc2FibGVkQ2xhc3M6ICdzd2lwZXItYnV0dG9uLWRpc2FibGVkJyxcbiAgICAgIGhpZGRlbkNsYXNzOiAnc3dpcGVyLWJ1dHRvbi1oaWRkZW4nLFxuICAgICAgbG9ja0NsYXNzOiAnc3dpcGVyLWJ1dHRvbi1sb2NrJyxcbiAgICAgIG5hdmlnYXRpb25EaXNhYmxlZENsYXNzOiAnc3dpcGVyLW5hdmlnYXRpb24tZGlzYWJsZWQnXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLm5hdmlnYXRpb24gPSB7XG4gICAgbmV4dEVsOiBudWxsLFxuICAgIHByZXZFbDogbnVsbFxuICB9O1xuICBjb25zdCBtYWtlRWxlbWVudHNBcnJheSA9IGVsID0+IChBcnJheS5pc0FycmF5KGVsKSA/IGVsIDogW2VsXSkuZmlsdGVyKGUgPT4gISFlKTtcbiAgZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChlbCkge1xuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKV07XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHJlcy5sZW5ndGggPiAxICYmIHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKGVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWwgJiYgIXJlcykgcmV0dXJuIGVsO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA9PT0gMSkgcmVzID0gcmVzWzBdO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoZWwsIGRpc2FibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHN1YkVsKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtkaXNhYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKC4uLnBhcmFtcy5kaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICBpZiAoc3ViRWwudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHN1YkVsLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZCcgOiAncmVtb3ZlJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGNvbnN0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB0b2dnbGVFbChwcmV2RWwsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUVsKG5leHRFbCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b2dnbGVFbChwcmV2RWwsIHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpO1xuICAgIHRvZ2dsZUVsKG5leHRFbCwgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25QcmV2Jyk7XG4gIH1cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIGxldCBuZXh0RWwgPSBnZXRFbChwYXJhbXMubmV4dEVsKTtcbiAgICBsZXQgcHJldkVsID0gZ2V0RWwocGFyYW1zLnByZXZFbCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSk7XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGluaXRCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQgJiYgZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMubG9ja0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgIH07XG4gICAgbmV4dEVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ25leHQnKSk7XG4gICAgcHJldkVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ3ByZXYnKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCBkZXN0cm95QnV0dG9uID0gKGVsLCBkaXIpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcykpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICFwcmV2RWwuaW5jbHVkZXModGFyZ2V0RWwpICYmICFuZXh0RWwuaW5jbHVkZXModGFyZ2V0RWwpKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgKHN3aXBlci5wYWdpbmF0aW9uLmVsID09PSB0YXJnZXRFbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyh0YXJnZXRFbCkpKSByZXR1cm47XG4gICAgICBsZXQgaXNIaWRkZW47XG4gICAgICBpZiAobmV4dEVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IG5leHRFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldkVsLmxlbmd0aCkge1xuICAgICAgICBpc0hpZGRlbiA9IHByZXZFbFswXS5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCduYXZpZ2F0aW9uU2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvbkhpZGUnKTtcbiAgICAgIH1cbiAgICAgIFsuLi5uZXh0RWwsIC4uLnByZXZFbF0uZmlsdGVyKGVsID0+ICEhZWwpLmZvckVhY2goZWwgPT4gZWwuY2xhc3NMaXN0LnRvZ2dsZShzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBlbmFibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGluaXQoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5zd2lwZXIucGFyYW1zLm5hdmlnYXRpb24ubmF2aWdhdGlvbkRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5uYXZpZ2F0aW9uLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiZnVuY3Rpb24gY2xhc3Nlc1RvU2VsZWN0b3IoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBgLiR7Y2xhc3Nlcy50cmltKCkucmVwbGFjZSgvKFtcXC46IStcXC9dKS9nLCAnXFxcXCQxJykgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAucmVwbGFjZSgvIC9nLCAnLicpfWA7XG59XG5cbmV4cG9ydCB7IGNsYXNzZXNUb1NlbGVjdG9yIGFzIGMgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNsYXNzZXNUb1NlbGVjdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2NsYXNzZXMtdG8tc2VsZWN0b3IubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtZWxlbWVudC1pZi1ub3QtZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBnIGFzIGVsZW1lbnRJbmRleCwgYSBhcyBlbGVtZW50UGFyZW50cyB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBQYWdpbmF0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXRcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHBmeCA9ICdzd2lwZXItcGFnaW5hdGlvbic7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IG51bGwsXG4gICAgICBidWxsZXRFbGVtZW50OiAnc3BhbicsXG4gICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgaGlkZU9uQ2xpY2s6IGZhbHNlLFxuICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLFxuICAgICAgcmVuZGVyUHJvZ3Jlc3NiYXI6IG51bGwsXG4gICAgICByZW5kZXJGcmFjdGlvbjogbnVsbCxcbiAgICAgIHJlbmRlckN1c3RvbTogbnVsbCxcbiAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2J1bGxldHMnLFxuICAgICAgLy8gJ2J1bGxldHMnIG9yICdwcm9ncmVzc2Jhcicgb3IgJ2ZyYWN0aW9uJyBvciAnY3VzdG9tJ1xuICAgICAgZHluYW1pY0J1bGxldHM6IGZhbHNlLFxuICAgICAgZHluYW1pY01haW5CdWxsZXRzOiAxLFxuICAgICAgZm9ybWF0RnJhY3Rpb25DdXJyZW50OiBudW1iZXIgPT4gbnVtYmVyLFxuICAgICAgZm9ybWF0RnJhY3Rpb25Ub3RhbDogbnVtYmVyID0+IG51bWJlcixcbiAgICAgIGJ1bGxldENsYXNzOiBgJHtwZnh9LWJ1bGxldGAsXG4gICAgICBidWxsZXRBY3RpdmVDbGFzczogYCR7cGZ4fS1idWxsZXQtYWN0aXZlYCxcbiAgICAgIG1vZGlmaWVyQ2xhc3M6IGAke3BmeH0tYCxcbiAgICAgIGN1cnJlbnRDbGFzczogYCR7cGZ4fS1jdXJyZW50YCxcbiAgICAgIHRvdGFsQ2xhc3M6IGAke3BmeH0tdG90YWxgLFxuICAgICAgaGlkZGVuQ2xhc3M6IGAke3BmeH0taGlkZGVuYCxcbiAgICAgIHByb2dyZXNzYmFyRmlsbENsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLWZpbGxgLFxuICAgICAgcHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzOiBgJHtwZnh9LXByb2dyZXNzYmFyLW9wcG9zaXRlYCxcbiAgICAgIGNsaWNrYWJsZUNsYXNzOiBgJHtwZnh9LWNsaWNrYWJsZWAsXG4gICAgICBsb2NrQ2xhc3M6IGAke3BmeH0tbG9ja2AsXG4gICAgICBob3Jpem9udGFsQ2xhc3M6IGAke3BmeH0taG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgJHtwZnh9LXZlcnRpY2FsYCxcbiAgICAgIHBhZ2luYXRpb25EaXNhYmxlZENsYXNzOiBgJHtwZnh9LWRpc2FibGVkYFxuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5wYWdpbmF0aW9uID0ge1xuICAgIGVsOiBudWxsLFxuICAgIGJ1bGxldHM6IFtdXG4gIH07XG4gIGxldCBidWxsZXRTaXplO1xuICBsZXQgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgY29uc3QgbWFrZUVsZW1lbnRzQXJyYXkgPSBlbCA9PiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG4gIGZ1bmN0aW9uIGlzUGFnaW5hdGlvbkRpc2FibGVkKCkge1xuICAgIHJldHVybiAhc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCBBcnJheS5pc0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKSAmJiBzd2lwZXIucGFnaW5hdGlvbi5lbC5sZW5ndGggPT09IDA7XG4gIH1cbiAgZnVuY3Rpb24gc2V0U2lkZUJ1bGxldHMoYnVsbGV0RWwsIHBvc2l0aW9uKSB7XG4gICAgY29uc3Qge1xuICAgICAgYnVsbGV0QWN0aXZlQ2xhc3NcbiAgICB9ID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghYnVsbGV0RWwpIHJldHVybjtcbiAgICBidWxsZXRFbCA9IGJ1bGxldEVsW2Ake3Bvc2l0aW9uID09PSAncHJldicgPyAncHJldmlvdXMnIDogJ25leHQnfUVsZW1lbnRTaWJsaW5nYF07XG4gICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICBidWxsZXRFbC5jbGFzc0xpc3QuYWRkKGAke2J1bGxldEFjdGl2ZUNsYXNzfS0ke3Bvc2l0aW9ufWApO1xuICAgICAgYnVsbGV0RWwgPSBidWxsZXRFbFtgJHtwb3NpdGlvbiA9PT0gJ3ByZXYnID8gJ3ByZXZpb3VzJyA6ICduZXh0J31FbGVtZW50U2libGluZ2BdO1xuICAgICAgaWYgKGJ1bGxldEVsKSB7XG4gICAgICAgIGJ1bGxldEVsLmNsYXNzTGlzdC5hZGQoYCR7YnVsbGV0QWN0aXZlQ2xhc3N9LSR7cG9zaXRpb259LSR7cG9zaXRpb259YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uQnVsbGV0Q2xpY2soZSkge1xuICAgIGNvbnN0IGJ1bGxldEVsID0gZS50YXJnZXQuY2xvc2VzdChjbGFzc2VzVG9TZWxlY3Rvcihzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKTtcbiAgICBpZiAoIWJ1bGxldEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXRFbCkgKiBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIGlmIChzd2lwZXIucmVhbEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgc3dpcGVyLnNsaWRlVG9Mb29wKGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gUmVuZGVyIHx8IFVwZGF0ZSBQYWdpbmF0aW9uIGJ1bGxldHMvaXRlbXNcbiAgICBjb25zdCBydGwgPSBzd2lwZXIucnRsO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIC8vIEN1cnJlbnQvVG90YWxcbiAgICBsZXQgY3VycmVudDtcbiAgICBsZXQgcHJldmlvdXNJbmRleDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgICBjb25zdCB0b3RhbCA9IHN3aXBlci5wYXJhbXMubG9vcCA/IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHN3aXBlci5zbmFwR3JpZC5sZW5ndGg7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgcHJldmlvdXNJbmRleCA9IHN3aXBlci5wcmV2aW91c1JlYWxJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxID8gTWF0aC5mbG9vcihzd2lwZXIucmVhbEluZGV4IC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBzd2lwZXIucmVhbEluZGV4O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjdXJyZW50ID0gc3dpcGVyLnNuYXBJbmRleDtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNTbmFwSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzSW5kZXggPSBzd2lwZXIucHJldmlvdXNJbmRleCB8fCAwO1xuICAgICAgY3VycmVudCA9IHN3aXBlci5hY3RpdmVJbmRleCB8fCAwO1xuICAgIH1cbiAgICAvLyBUeXBlc1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBidWxsZXRzID0gc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cztcbiAgICAgIGxldCBmaXJzdEluZGV4O1xuICAgICAgbGV0IGxhc3RJbmRleDtcbiAgICAgIGxldCBtaWRJbmRleDtcbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgYnVsbGV0U2l6ZSA9IGVsZW1lbnRPdXRlclNpemUoYnVsbGV0c1swXSwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnLCB0cnVlKTtcbiAgICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICAgICAgc3ViRWwuc3R5bGVbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA9IGAke2J1bGxldFNpemUgKiAocGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpfXB4YDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiBwcmV2aW91c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggKz0gY3VycmVudCAtIChwcmV2aW91c0luZGV4IHx8IDApO1xuICAgICAgICAgIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPiBwYXJhbXMuZHluYW1pY01haW5CdWxsZXRzIC0gMSkge1xuICAgICAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyAtIDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChkeW5hbWljQnVsbGV0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaXJzdEluZGV4ID0gTWF0aC5tYXgoY3VycmVudCAtIGR5bmFtaWNCdWxsZXRJbmRleCwgMCk7XG4gICAgICAgIGxhc3RJbmRleCA9IGZpcnN0SW5kZXggKyAoTWF0aC5taW4oYnVsbGV0cy5sZW5ndGgsIHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMpIC0gMSk7XG4gICAgICAgIG1pZEluZGV4ID0gKGxhc3RJbmRleCArIGZpcnN0SW5kZXgpIC8gMjtcbiAgICAgIH1cbiAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXRFbCA9PiB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IFsuLi5bJycsICctbmV4dCcsICctbmV4dC1uZXh0JywgJy1wcmV2JywgJy1wcmV2LXByZXYnLCAnLW1haW4nXS5tYXAoc3VmZml4ID0+IGAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30ke3N1ZmZpeH1gKV0ubWFwKHMgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMuaW5jbHVkZXMoJyAnKSA/IHMuc3BsaXQoJyAnKSA6IHMpLmZsYXQoKTtcbiAgICAgICAgYnVsbGV0RWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9SZW1vdmUpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZWwubGVuZ3RoID4gMSkge1xuICAgICAgICBidWxsZXRzLmZvckVhY2goYnVsbGV0ID0+IHtcbiAgICAgICAgICBjb25zdCBidWxsZXRJbmRleCA9IGVsZW1lbnRJbmRleChidWxsZXQpO1xuICAgICAgICAgIGlmIChidWxsZXRJbmRleCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgICAgICAgYnVsbGV0LnNldEF0dHJpYnV0ZSgncGFydCcsICdidWxsZXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID49IGZpcnN0SW5kZXggJiYgYnVsbGV0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVsbGV0SW5kZXggPT09IGZpcnN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAncHJldicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1bGxldEluZGV4ID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgc2V0U2lkZUJ1bGxldHMoYnVsbGV0LCAnbmV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWxsZXQgPSBidWxsZXRzW2N1cnJlbnRdO1xuICAgICAgICBpZiAoYnVsbGV0KSB7XG4gICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoLi4ucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICAgICAgYnVsbGV0cy5mb3JFYWNoKChidWxsZXRFbCwgYnVsbGV0SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJ1bGxldEVsLnNldEF0dHJpYnV0ZSgncGFydCcsIGJ1bGxldEluZGV4ID09PSBjdXJyZW50ID8gJ2J1bGxldC1hY3RpdmUnIDogJ2J1bGxldCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbZmlyc3RJbmRleF07XG4gICAgICAgICAgY29uc3QgbGFzdERpc3BsYXllZEJ1bGxldCA9IGJ1bGxldHNbbGFzdEluZGV4XTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJbmRleDsgaSA8PSBsYXN0SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJ1bGxldHNbaV0pIHtcbiAgICAgICAgICAgICAgYnVsbGV0c1tpXS5jbGFzc0xpc3QuYWRkKC4uLmAke3BhcmFtcy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmAuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGZpcnN0RGlzcGxheWVkQnVsbGV0LCAncHJldicpO1xuICAgICAgICAgIHNldFNpZGVCdWxsZXRzKGxhc3REaXNwbGF5ZWRCdWxsZXQsICduZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuZHluYW1pY0J1bGxldHMpIHtcbiAgICAgICAgY29uc3QgZHluYW1pY0J1bGxldHNMZW5ndGggPSBNYXRoLm1pbihidWxsZXRzLmxlbmd0aCwgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyArIDQpO1xuICAgICAgICBjb25zdCBidWxsZXRzT2Zmc2V0ID0gKGJ1bGxldFNpemUgKiBkeW5hbWljQnVsbGV0c0xlbmd0aCAtIGJ1bGxldFNpemUpIC8gMiAtIG1pZEluZGV4ICogYnVsbGV0U2l6ZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UHJvcCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChidWxsZXQgPT4ge1xuICAgICAgICAgIGJ1bGxldC5zdHlsZVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBvZmZzZXRQcm9wIDogJ3RvcCddID0gYCR7YnVsbGV0c09mZnNldH1weGA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5mb3JFYWNoKChzdWJFbCwgc3ViRWxJbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnZnJhY3Rpb24nKSB7XG4gICAgICAgIHN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmN1cnJlbnRDbGFzcykpLmZvckVhY2goZnJhY3Rpb25FbCA9PiB7XG4gICAgICAgICAgZnJhY3Rpb25FbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoY3VycmVudCArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMudG90YWxDbGFzcykpLmZvckVhY2godG90YWxFbCA9PiB7XG4gICAgICAgICAgdG90YWxFbC50ZXh0Q29udGVudCA9IHBhcmFtcy5mb3JtYXRGcmFjdGlvblRvdGFsKHRvdGFsKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzYmFyRGlyZWN0aW9uO1xuICAgICAgICBpZiAocGFyYW1zLnByb2dyZXNzYmFyT3Bwb3NpdGUpIHtcbiAgICAgICAgICBwcm9ncmVzc2JhckRpcmVjdGlvbiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvZ3Jlc3NiYXJEaXJlY3Rpb24gPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlID0gKGN1cnJlbnQgKyAxKSAvIHRvdGFsO1xuICAgICAgICBsZXQgc2NhbGVYID0gMTtcbiAgICAgICAgbGV0IHNjYWxlWSA9IDE7XG4gICAgICAgIGlmIChwcm9ncmVzc2JhckRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NhbGVZID0gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgc3ViRWwucXVlcnlTZWxlY3RvckFsbChjbGFzc2VzVG9TZWxlY3RvcihwYXJhbXMucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpKS5mb3JFYWNoKHByb2dyZXNzRWwgPT4ge1xuICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoJHtzY2FsZVh9KSBzY2FsZVkoJHtzY2FsZVl9KWA7XG4gICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdjdXN0b20nICYmIHBhcmFtcy5yZW5kZXJDdXN0b20pIHtcbiAgICAgICAgc3ViRWwuaW5uZXJIVE1MID0gcGFyYW1zLnJlbmRlckN1c3RvbShzd2lwZXIsIGN1cnJlbnQgKyAxLCB0b3RhbCk7XG4gICAgICAgIGlmIChzdWJFbEluZGV4ID09PSAwKSBlbWl0KCdwYWdpbmF0aW9uUmVuZGVyJywgc3ViRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN1YkVsSW5kZXggPT09IDApIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBzdWJFbCk7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25VcGRhdGUnLCBzdWJFbCk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtzd2lwZXIuaXNMb2NrZWQgPyAnYWRkJyA6ICdyZW1vdmUnXShwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIENvbnRhaW5lclxuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCA6IHN3aXBlci5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMSA/IHN3aXBlci5zbGlkZXMubGVuZ3RoIC8gTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGxldCBwYWdpbmF0aW9uSFRNTCA9ICcnO1xuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnKSB7XG4gICAgICBsZXQgbnVtYmVyT2ZCdWxsZXRzID0gc3dpcGVyLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKHNsaWRlc0xlbmd0aCAvIHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogc3dpcGVyLnNuYXBHcmlkLmxlbmd0aDtcbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHN3aXBlci5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBudW1iZXJPZkJ1bGxldHMgPiBzbGlkZXNMZW5ndGgpIHtcbiAgICAgICAgbnVtYmVyT2ZCdWxsZXRzID0gc2xpZGVzTGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJ1bGxldHM7IGkgKz0gMSkge1xuICAgICAgICBpZiAocGFyYW1zLnJlbmRlckJ1bGxldCkge1xuICAgICAgICAgIHBhZ2luYXRpb25IVE1MICs9IHBhcmFtcy5yZW5kZXJCdWxsZXQuY2FsbChzd2lwZXIsIGksIHBhcmFtcy5idWxsZXRDbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgcGFnaW5hdGlvbkhUTUwgKz0gYDwke3BhcmFtcy5idWxsZXRFbGVtZW50fSAke3N3aXBlci5pc0VsZW1lbnQgPyAncGFydD1cImJ1bGxldFwiJyA6ICcnfSBjbGFzcz1cIiR7cGFyYW1zLmJ1bGxldENsYXNzfVwiPjwvJHtwYXJhbXMuYnVsbGV0RWxlbWVudH0+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdmcmFjdGlvbicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyRnJhY3Rpb24pIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyRnJhY3Rpb24uY2FsbChzd2lwZXIsIHBhcmFtcy5jdXJyZW50Q2xhc3MsIHBhcmFtcy50b3RhbENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2luYXRpb25IVE1MID0gYDxzcGFuIGNsYXNzPVwiJHtwYXJhbXMuY3VycmVudENsYXNzfVwiPjwvc3Bhbj5gICsgJyAvICcgKyBgPHNwYW4gY2xhc3M9XCIke3BhcmFtcy50b3RhbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdwcm9ncmVzc2JhcicpIHtcbiAgICAgIGlmIChwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIpIHtcbiAgICAgICAgcGFnaW5hdGlvbkhUTUwgPSBwYXJhbXMucmVuZGVyUHJvZ3Jlc3NiYXIuY2FsbChzd2lwZXIsIHBhcmFtcy5wcm9ncmVzc2JhckZpbGxDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWdpbmF0aW9uSFRNTCA9IGA8c3BhbiBjbGFzcz1cIiR7cGFyYW1zLnByb2dyZXNzYmFyRmlsbENsYXNzfVwiPjwvc3Bhbj5gO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzID0gW107XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBpZiAocGFyYW1zLnR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgICAgIHN1YkVsLmlubmVySFRNTCA9IHBhZ2luYXRpb25IVE1MIHx8ICcnO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycpIHtcbiAgICAgICAgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5wdXNoKC4uLnN1YkVsLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3Nlc1RvU2VsZWN0b3IocGFyYW1zLmJ1bGxldENsYXNzKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChwYXJhbXMudHlwZSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgIGVtaXQoJ3BhZ2luYXRpb25SZW5kZXInLCBlbFswXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5wYWdpbmF0aW9uLCBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24sIHtcbiAgICAgIGVsOiAnc3dpcGVyLXBhZ2luYXRpb24nXG4gICAgfSk7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uO1xuICAgIGlmICghcGFyYW1zLmVsKSByZXR1cm47XG4gICAgbGV0IGVsO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbCA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKHBhcmFtcy5lbCk7XG4gICAgfVxuICAgIGlmICghZWwgJiYgdHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKV07XG4gICAgfVxuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoIWVsIHx8IGVsLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA+IDEpIHtcbiAgICAgIGVsID0gWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCldO1xuICAgICAgLy8gY2hlY2sgaWYgaXQgYmVsb25ncyB0byBhbm90aGVyIG5lc3RlZCBTd2lwZXJcbiAgICAgIGlmIChlbC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVsID0gZWwuZmlsdGVyKHN1YkVsID0+IHtcbiAgICAgICAgICBpZiAoZWxlbWVudFBhcmVudHMoc3ViRWwsICcuc3dpcGVyJylbMF0gIT09IHN3aXBlci5lbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KVswXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpICYmIGVsLmxlbmd0aCA9PT0gMSkgZWwgPSBlbFswXTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYWdpbmF0aW9uLCB7XG4gICAgICBlbFxuICAgIH0pO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnYnVsbGV0cycgJiYgcGFyYW1zLmNsaWNrYWJsZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKC4uLihwYXJhbXMuY2xpY2thYmxlQ2xhc3MgfHwgJycpLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubW9kaWZpZXJDbGFzcyArIHBhcmFtcy50eXBlKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ2J1bGxldHMnICYmIHBhcmFtcy5keW5hbWljQnVsbGV0cykge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5tb2RpZmllckNsYXNzfSR7cGFyYW1zLnR5cGV9LWR5bmFtaWNgKTtcbiAgICAgICAgZHluYW1pY0J1bGxldEluZGV4ID0gMDtcbiAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljTWFpbkJ1bGxldHMgPCAxKSB7XG4gICAgICAgICAgcGFyYW1zLmR5bmFtaWNNYWluQnVsbGV0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ3Byb2dyZXNzYmFyJyAmJiBwYXJhbXMucHJvZ3Jlc3NiYXJPcHBvc2l0ZSkge1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QuYWRkKHBhcmFtcy5wcm9ncmVzc2Jhck9wcG9zaXRlQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5jbGlja2FibGUpIHtcbiAgICAgICAgc3ViRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJ1bGxldENsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LmFkZChwYXJhbXMubG9ja0NsYXNzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBpZiAoaXNQYWdpbmF0aW9uRGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIGxldCBlbCA9IHN3aXBlci5wYWdpbmF0aW9uLmVsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZShwYXJhbXMuaGlkZGVuQ2xhc3MpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5tb2RpZmllckNsYXNzICsgcGFyYW1zLnR5cGUpO1xuICAgICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgICAgIGlmIChwYXJhbXMuY2xpY2thYmxlKSB7XG4gICAgICAgICAgc3ViRWwuY2xhc3NMaXN0LnJlbW92ZSguLi4ocGFyYW1zLmNsaWNrYWJsZUNsYXNzIHx8ICcnKS5zcGxpdCgnICcpKTtcbiAgICAgICAgICBzdWJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQnVsbGV0Q2xpY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMpIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcy5zcGxpdCgnICcpKSk7XG4gIH1cbiAgb24oJ2NoYW5nZURpcmVjdGlvbicsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYWdpbmF0aW9uIHx8ICFzd2lwZXIucGFnaW5hdGlvbi5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbjtcbiAgICBsZXQge1xuICAgICAgZWxcbiAgICB9ID0gc3dpcGVyLnBhZ2luYXRpb247XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MsIHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICAgIHN1YkVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gcGFyYW1zLmhvcml6b250YWxDbGFzcyA6IHBhcmFtcy52ZXJ0aWNhbENsYXNzKTtcbiAgICB9KTtcbiAgfSk7XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgICByZW5kZXIoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdhY3RpdmVJbmRleENoYW5nZScsICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHN3aXBlci5zbmFwSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc25hcEluZGV4Q2hhbmdlJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ3NuYXBHcmlkTGVuZ3RoQ2hhbmdlJywgKCkgPT4ge1xuICAgIHJlbmRlcigpO1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgZGVzdHJveSgpO1xuICB9KTtcbiAgb24oJ2VuYWJsZSBkaXNhYmxlJywgKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmVuYWJsZWQgPyAncmVtb3ZlJyA6ICdhZGQnXShzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ubG9ja0NsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2xvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBjb25zdCBlbCA9IG1ha2VFbGVtZW50c0FycmF5KHN3aXBlci5wYWdpbmF0aW9uLmVsKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayAmJiBlbCAmJiBlbC5sZW5ndGggPiAwICYmICF0YXJnZXRFbC5jbGFzc0xpc3QuY29udGFpbnMoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkge1xuICAgICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIChzd2lwZXIubmF2aWdhdGlvbi5uZXh0RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBzd2lwZXIubmF2aWdhdGlvbi5wcmV2RWwgJiYgdGFyZ2V0RWwgPT09IHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGlzSGlkZGVuID0gZWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgncGFnaW5hdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ3BhZ2luYXRpb25IaWRlJyk7XG4gICAgICB9XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC50b2dnbGUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcyk7XG4gICAgbGV0IHtcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlci5wYWdpbmF0aW9uO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHN1YkVsLmNsYXNzTGlzdC5yZW1vdmUoc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLnBhZ2luYXRpb25EaXNhYmxlZENsYXNzKSk7XG4gICAgfVxuICAgIGluaXQoKTtcbiAgICByZW5kZXIoKTtcbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucGFnaW5hdGlvbkRpc2FibGVkQ2xhc3MpO1xuICAgIGxldCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIucGFnaW5hdGlvbjtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgICAgZWwuZm9yRWFjaChzdWJFbCA9PiBzdWJFbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5wYWdpbmF0aW9uRGlzYWJsZWRDbGFzcykpO1xuICAgIH1cbiAgICBkZXN0cm95KCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhZ2luYXRpb24sIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICByZW5kZXIsXG4gICAgdXBkYXRlLFxuICAgIGluaXQsXG4gICAgZGVzdHJveVxuICB9KTtcbn1cblxuZXhwb3J0IHsgUGFnaW5hdGlvbiBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgaCBhcyBjbGFzc2VzVG9Ub2tlbnMsIGMgYXMgY3JlYXRlRWxlbWVudCwgbiBhcyBuZXh0VGljaywgYiBhcyBlbGVtZW50T2Zmc2V0IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzJztcbmltcG9ydCB7IGMgYXMgY2xhc3Nlc1RvU2VsZWN0b3IgfSBmcm9tICcuLi9zaGFyZWQvY2xhc3Nlcy10by1zZWxlY3Rvci5tanMnO1xuXG5mdW5jdGlvbiBTY3JvbGxiYXIoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgaXNUb3VjaGVkID0gZmFsc2U7XG4gIGxldCB0aW1lb3V0ID0gbnVsbDtcbiAgbGV0IGRyYWdUaW1lb3V0ID0gbnVsbDtcbiAgbGV0IGRyYWdTdGFydFBvcztcbiAgbGV0IGRyYWdTaXplO1xuICBsZXQgdHJhY2tTaXplO1xuICBsZXQgZGl2aWRlcjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBzY3JvbGxiYXI6IHtcbiAgICAgIGVsOiBudWxsLFxuICAgICAgZHJhZ1NpemU6ICdhdXRvJyxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIHNuYXBPblJlbGVhc2U6IHRydWUsXG4gICAgICBsb2NrQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWxvY2snLFxuICAgICAgZHJhZ0NsYXNzOiAnc3dpcGVyLXNjcm9sbGJhci1kcmFnJyxcbiAgICAgIHNjcm9sbGJhckRpc2FibGVkQ2xhc3M6ICdzd2lwZXItc2Nyb2xsYmFyLWRpc2FibGVkJyxcbiAgICAgIGhvcml6b250YWxDbGFzczogYHN3aXBlci1zY3JvbGxiYXItaG9yaXpvbnRhbGAsXG4gICAgICB2ZXJ0aWNhbENsYXNzOiBgc3dpcGVyLXNjcm9sbGJhci12ZXJ0aWNhbGBcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIuc2Nyb2xsYmFyID0ge1xuICAgIGVsOiBudWxsLFxuICAgIGRyYWdFbDogbnVsbFxuICB9O1xuICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICBkcmFnRWwsXG4gICAgICBlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXI7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBzd2lwZXIucGFyYW1zLmxvb3AgPyBzd2lwZXIucHJvZ3Jlc3NMb29wIDogc3dpcGVyLnByb2dyZXNzO1xuICAgIGxldCBuZXdTaXplID0gZHJhZ1NpemU7XG4gICAgbGV0IG5ld1BvcyA9ICh0cmFja1NpemUgLSBkcmFnU2l6ZSkgKiBwcm9ncmVzcztcbiAgICBpZiAocnRsKSB7XG4gICAgICBuZXdQb3MgPSAtbmV3UG9zO1xuICAgICAgaWYgKG5ld1BvcyA+IDApIHtcbiAgICAgICAgbmV3U2l6ZSA9IGRyYWdTaXplIC0gbmV3UG9zO1xuICAgICAgICBuZXdQb3MgPSAwO1xuICAgICAgfSBlbHNlIGlmICgtbmV3UG9zICsgZHJhZ1NpemUgPiB0cmFja1NpemUpIHtcbiAgICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSArIG5ld1BvcztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5ld1BvcyA8IDApIHtcbiAgICAgIG5ld1NpemUgPSBkcmFnU2l6ZSArIG5ld1BvcztcbiAgICAgIG5ld1BvcyA9IDA7XG4gICAgfSBlbHNlIGlmIChuZXdQb3MgKyBkcmFnU2l6ZSA+IHRyYWNrU2l6ZSkge1xuICAgICAgbmV3U2l6ZSA9IHRyYWNrU2l6ZSAtIG5ld1BvcztcbiAgICB9XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgZHJhZ0VsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke25ld1Bvc31weCwgMCwgMClgO1xuICAgICAgZHJhZ0VsLnN0eWxlLndpZHRoID0gYCR7bmV3U2l6ZX1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMHB4LCAke25ld1Bvc31weCwgMClgO1xuICAgICAgZHJhZ0VsLnN0eWxlLmhlaWdodCA9IGAke25ld1NpemV9cHhgO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLmhpZGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzQwMG1zJztcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbCB8fCAhc3dpcGVyLnNjcm9sbGJhci5lbCkgcmV0dXJuO1xuICAgIHN3aXBlci5zY3JvbGxiYXIuZHJhZ0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVTaXplKCkge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxiYXJcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHtcbiAgICAgIGRyYWdFbCxcbiAgICAgIGVsXG4gICAgfSA9IHNjcm9sbGJhcjtcbiAgICBkcmFnRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICBkcmFnRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgdHJhY2tTaXplID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gZWwub2Zmc2V0V2lkdGggOiBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgZGl2aWRlciA9IHN3aXBlci5zaXplIC8gKHN3aXBlci52aXJ0dWFsU2l6ZSArIHN3aXBlci5wYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlIC0gKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBzd2lwZXIuc25hcEdyaWRbMF0gOiAwKSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplID09PSAnYXV0bycpIHtcbiAgICAgIGRyYWdTaXplID0gdHJhY2tTaXplICogZGl2aWRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhZ1NpemUgPSBwYXJzZUludChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSwgMTApO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBkcmFnRWwuc3R5bGUud2lkdGggPSBgJHtkcmFnU2l6ZX1weGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYWdFbC5zdHlsZS5oZWlnaHQgPSBgJHtkcmFnU2l6ZX1weGA7XG4gICAgfVxuICAgIGlmIChkaXZpZGVyID49IDEpIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmhpZGUpIHtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5lbmFibGVkKSB7XG4gICAgICBzY3JvbGxiYXIuZWwuY2xhc3NMaXN0W3N3aXBlci5pc0xvY2tlZCA/ICdhZGQnIDogJ3JlbW92ZSddKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlKSB7XG4gICAgcmV0dXJuIHN3aXBlci5pc0hvcml6b250YWwoKSA/IGUuY2xpZW50WCA6IGUuY2xpZW50WTtcbiAgfVxuICBmdW5jdGlvbiBzZXREcmFnUG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCB7XG4gICAgICBlbFxuICAgIH0gPSBzY3JvbGxiYXI7XG4gICAgbGV0IHBvc2l0aW9uUmF0aW87XG4gICAgcG9zaXRpb25SYXRpbyA9IChnZXRQb2ludGVyUG9zaXRpb24oZSkgLSBlbGVtZW50T2Zmc2V0KGVsKVtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJ10gLSAoZHJhZ1N0YXJ0UG9zICE9PSBudWxsID8gZHJhZ1N0YXJ0UG9zIDogZHJhZ1NpemUgLyAyKSkgLyAodHJhY2tTaXplIC0gZHJhZ1NpemUpO1xuICAgIHBvc2l0aW9uUmF0aW8gPSBNYXRoLm1heChNYXRoLm1pbihwb3NpdGlvblJhdGlvLCAxKSwgMCk7XG4gICAgaWYgKHJ0bCkge1xuICAgICAgcG9zaXRpb25SYXRpbyA9IDEgLSBwb3NpdGlvblJhdGlvO1xuICAgIH1cbiAgICBjb25zdCBwb3NpdGlvbiA9IHN3aXBlci5taW5UcmFuc2xhdGUoKSArIChzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpICogcG9zaXRpb25SYXRpbztcbiAgICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MocG9zaXRpb24pO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUocG9zaXRpb24pO1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIH1cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgZWwsXG4gICAgICBkcmFnRWxcbiAgICB9ID0gc2Nyb2xsYmFyO1xuICAgIGlzVG91Y2hlZCA9IHRydWU7XG4gICAgZHJhZ1N0YXJ0UG9zID0gZS50YXJnZXQgPT09IGRyYWdFbCA/IGdldFBvaW50ZXJQb3NpdGlvbihlKSAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3N3aXBlci5pc0hvcml6b250YWwoKSA/ICdsZWZ0JyA6ICd0b3AnXSA6IG51bGw7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcxMDBtcyc7XG4gICAgZHJhZ0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcxMDBtcyc7XG4gICAgc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIGNsZWFyVGltZW91dChkcmFnVGltZW91dCk7XG4gICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgaWYgKHBhcmFtcy5oaWRlKSB7XG4gICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVsnc2Nyb2xsLXNuYXAtdHlwZSddID0gJ25vbmUnO1xuICAgIH1cbiAgICBlbWl0KCdzY3JvbGxiYXJEcmFnU3RhcnQnLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRyYWdNb3ZlKGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxiYXIsXG4gICAgICB3cmFwcGVyRWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHtcbiAgICAgIGVsLFxuICAgICAgZHJhZ0VsXG4gICAgfSA9IHNjcm9sbGJhcjtcbiAgICBpZiAoIWlzVG91Y2hlZCkgcmV0dXJuO1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSBlLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgc2V0RHJhZ1Bvc2l0aW9uKGUpO1xuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICBkcmFnRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgZW1pdCgnc2Nyb2xsYmFyRHJhZ01vdmUnLCBlKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRyYWdFbmQoZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHdyYXBwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3Qge1xuICAgICAgZWxcbiAgICB9ID0gc2Nyb2xsYmFyO1xuICAgIGlmICghaXNUb3VjaGVkKSByZXR1cm47XG4gICAgaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVsnc2Nyb2xsLXNuYXAtdHlwZSddID0gJyc7XG4gICAgICB3cmFwcGVyRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuaGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KGRyYWdUaW1lb3V0KTtcbiAgICAgIGRyYWdUaW1lb3V0ID0gbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzQwMG1zJztcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgICBlbWl0KCdzY3JvbGxiYXJEcmFnRW5kJywgZSk7XG4gICAgaWYgKHBhcmFtcy5zbmFwT25SZWxlYXNlKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXZlbnRzKG1ldGhvZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIHBhcmFtc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgZWwgPSBzY3JvbGxiYXIuZWw7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IHRhcmdldCA9IGVsO1xuICAgIGNvbnN0IGFjdGl2ZUxpc3RlbmVyID0gcGFyYW1zLnBhc3NpdmVMaXN0ZW5lcnMgPyB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGNvbnN0IHBhc3NpdmVMaXN0ZW5lciA9IHBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSA6IGZhbHNlO1xuICAgIGlmICghdGFyZ2V0KSByZXR1cm47XG4gICAgY29uc3QgZXZlbnRNZXRob2QgPSBtZXRob2QgPT09ICdvbicgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gICAgdGFyZ2V0W2V2ZW50TWV0aG9kXSgncG9pbnRlcmRvd24nLCBvbkRyYWdTdGFydCwgYWN0aXZlTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50W2V2ZW50TWV0aG9kXSgncG9pbnRlcm1vdmUnLCBvbkRyYWdNb3ZlLCBhY3RpdmVMaXN0ZW5lcik7XG4gICAgZG9jdW1lbnRbZXZlbnRNZXRob2RdKCdwb2ludGVydXAnLCBvbkRyYWdFbmQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlRHJhZ2dhYmxlKCkge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZWwgfHwgIXN3aXBlci5zY3JvbGxiYXIuZWwpIHJldHVybjtcbiAgICBldmVudHMoJ29uJyk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzYWJsZURyYWdnYWJsZSgpIHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmVsIHx8ICFzd2lwZXIuc2Nyb2xsYmFyLmVsKSByZXR1cm47XG4gICAgZXZlbnRzKCdvZmYnKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjcm9sbGJhcixcbiAgICAgIGVsOiBzd2lwZXJFbFxuICAgIH0gPSBzd2lwZXI7XG4gICAgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIgPSBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkKHN3aXBlciwgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLnNjcm9sbGJhciwgc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIsIHtcbiAgICAgIGVsOiAnc3dpcGVyLXNjcm9sbGJhcidcbiAgICB9KTtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBpZiAoIXBhcmFtcy5lbCkgcmV0dXJuO1xuICAgIGxldCBlbDtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5lbCA9PT0gJ3N0cmluZycgJiYgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgZWwgPSBzd2lwZXIuZWwucXVlcnlTZWxlY3RvcihwYXJhbXMuZWwpO1xuICAgIH1cbiAgICBpZiAoIWVsICYmIHR5cGVvZiBwYXJhbXMuZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKTtcbiAgICAgIGlmICghZWwubGVuZ3RoKSByZXR1cm47XG4gICAgfSBlbHNlIGlmICghZWwpIHtcbiAgICAgIGVsID0gcGFyYW1zLmVsO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBlbC5sZW5ndGggPiAxICYmIHN3aXBlckVsLnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLmVsKS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGVsID0gc3dpcGVyRWwucXVlcnlTZWxlY3RvcihwYXJhbXMuZWwpO1xuICAgIH1cbiAgICBpZiAoZWwubGVuZ3RoID4gMCkgZWwgPSBlbFswXTtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHBhcmFtcy5ob3Jpem9udGFsQ2xhc3MgOiBwYXJhbXMudmVydGljYWxDbGFzcyk7XG4gICAgbGV0IGRyYWdFbDtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGRyYWdFbCA9IGVsLnF1ZXJ5U2VsZWN0b3IoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ0NsYXNzKSk7XG4gICAgICBpZiAoIWRyYWdFbCkge1xuICAgICAgICBkcmFnRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MpO1xuICAgICAgICBlbC5hcHBlbmQoZHJhZ0VsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihzY3JvbGxiYXIsIHtcbiAgICAgIGVsLFxuICAgICAgZHJhZ0VsXG4gICAgfSk7XG4gICAgaWYgKHBhcmFtcy5kcmFnZ2FibGUpIHtcbiAgICAgIGVuYWJsZURyYWdnYWJsZSgpO1xuICAgIH1cbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLmNsYXNzTGlzdFtzd2lwZXIuZW5hYmxlZCA/ICdyZW1vdmUnIDogJ2FkZCddKC4uLmNsYXNzZXNUb1Rva2Vucyhzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnNjcm9sbGJhcjtcbiAgICBjb25zdCBlbCA9IHN3aXBlci5zY3JvbGxiYXIuZWw7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXNUb1Rva2Vucyhzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBwYXJhbXMuaG9yaXpvbnRhbENsYXNzIDogcGFyYW1zLnZlcnRpY2FsQ2xhc3MpKTtcbiAgICB9XG4gICAgZGlzYWJsZURyYWdnYWJsZSgpO1xuICB9XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnNjcm9sbGJhci5lbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBkaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHVwZGF0ZVNpemUoKTtcbiAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd1cGRhdGUgcmVzaXplIG9ic2VydmVyVXBkYXRlIGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIHVwZGF0ZVNpemUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbFxuICAgIH0gPSBzd2lwZXIuc2Nyb2xsYmFyO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuY2xhc3NMaXN0W3N3aXBlci5lbmFibGVkID8gJ3JlbW92ZScgOiAnYWRkJ10oLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcykpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIGNvbnN0IGVuYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzVG9Ub2tlbnMoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcykpO1xuICAgIGlmIChzd2lwZXIuc2Nyb2xsYmFyLmVsKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZVNpemUoKTtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfTtcbiAgY29uc3QgZGlzYWJsZSA9ICgpID0+IHtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzVG9Ub2tlbnMoc3dpcGVyLnBhcmFtcy5zY3JvbGxiYXIuc2Nyb2xsYmFyRGlzYWJsZWRDbGFzcykpO1xuICAgIGlmIChzd2lwZXIuc2Nyb2xsYmFyLmVsKSB7XG4gICAgICBzd2lwZXIuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlc1RvVG9rZW5zKHN3aXBlci5wYXJhbXMuc2Nyb2xsYmFyLnNjcm9sbGJhckRpc2FibGVkQ2xhc3MpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHN3aXBlci5zY3JvbGxiYXIsIHtcbiAgICBlbmFibGUsXG4gICAgZGlzYWJsZSxcbiAgICB1cGRhdGVTaXplLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFNjcm9sbGJhciBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gUGFyYWxsYXgoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgcGFyYWxsYXg6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3QgZWxlbWVudHNTZWxlY3RvciA9ICdbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdJztcbiAgY29uc3Qgc2V0VHJhbnNmb3JtID0gKGVsLCBwcm9ncmVzcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHJ0bFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcnRsRmFjdG9yID0gcnRsID8gLTEgOiAxO1xuICAgIGNvbnN0IHAgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4JykgfHwgJzAnO1xuICAgIGxldCB4ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC14Jyk7XG4gICAgbGV0IHkgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LXknKTtcbiAgICBjb25zdCBzY2FsZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGUnKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgcm90YXRlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1wYXJhbGxheC1yb3RhdGUnKTtcbiAgICBpZiAoeCB8fCB5KSB7XG4gICAgICB4ID0geCB8fCAnMCc7XG4gICAgICB5ID0geSB8fCAnMCc7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHggPSBwO1xuICAgICAgeSA9ICcwJztcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IHA7XG4gICAgICB4ID0gJzAnO1xuICAgIH1cbiAgICBpZiAoeC5pbmRleE9mKCclJykgPj0gMCkge1xuICAgICAgeCA9IGAke3BhcnNlSW50KHgsIDEwKSAqIHByb2dyZXNzICogcnRsRmFjdG9yfSVgO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gYCR7eCAqIHByb2dyZXNzICogcnRsRmFjdG9yfXB4YDtcbiAgICB9XG4gICAgaWYgKHkuaW5kZXhPZignJScpID49IDApIHtcbiAgICAgIHkgPSBgJHtwYXJzZUludCh5LCAxMCkgKiBwcm9ncmVzc30lYDtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IGAke3kgKiBwcm9ncmVzc31weGA7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgJiYgb3BhY2l0eSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudE9wYWNpdHkgPSBvcGFjaXR5IC0gKG9wYWNpdHkgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSBjdXJyZW50T3BhY2l0eTtcbiAgICB9XG4gICAgbGV0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9LCAke3l9LCAwcHgpYDtcbiAgICBpZiAodHlwZW9mIHNjYWxlICE9PSAndW5kZWZpbmVkJyAmJiBzY2FsZSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gc2NhbGUgLSAoc2NhbGUgLSAxKSAqICgxIC0gTWF0aC5hYnMocHJvZ3Jlc3MpKTtcbiAgICAgIHRyYW5zZm9ybSArPSBgIHNjYWxlKCR7Y3VycmVudFNjYWxlfSlgO1xuICAgIH1cbiAgICBpZiAocm90YXRlICYmIHR5cGVvZiByb3RhdGUgIT09ICd1bmRlZmluZWQnICYmIHJvdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudFJvdGF0ZSA9IHJvdGF0ZSAqIHByb2dyZXNzICogLTE7XG4gICAgICB0cmFuc2Zvcm0gKz0gYCByb3RhdGUoJHtjdXJyZW50Um90YXRlfWRlZylgO1xuICAgIH1cbiAgICBlbC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbCxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHByb2dyZXNzLFxuICAgICAgc25hcEdyaWQsXG4gICAgICBpc0VsZW1lbnRcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudENoaWxkcmVuKGVsLCBlbGVtZW50c1NlbGVjdG9yKTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgZWxlbWVudHMucHVzaCguLi5lbGVtZW50Q2hpbGRyZW4oc3dpcGVyLmhvc3RFbCwgZWxlbWVudHNTZWxlY3RvcikpO1xuICAgIH1cbiAgICBlbGVtZW50cy5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHNldFRyYW5zZm9ybShzdWJFbCwgcHJvZ3Jlc3MpO1xuICAgIH0pO1xuICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBsZXQgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEgJiYgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVQcm9ncmVzcyArPSBNYXRoLmNlaWwoc2xpZGVJbmRleCAvIDIpIC0gcHJvZ3Jlc3MgKiAoc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICBzbGlkZVByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTEpLCAxKTtcbiAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbChgJHtlbGVtZW50c1NlbGVjdG9yfSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXJvdGF0ZV1gKS5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc2V0VHJhbnNmb3JtKHN1YkVsLCBzbGlkZVByb2dyZXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgaWYgKGR1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZWwsXG4gICAgICBob3N0RWxcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHNTZWxlY3RvcildO1xuICAgIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBlbGVtZW50cy5wdXNoKC4uLmhvc3RFbC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzU2VsZWN0b3IpKTtcbiAgICB9XG4gICAgZWxlbWVudHMuZm9yRWFjaChwYXJhbGxheEVsID0+IHtcbiAgICAgIGxldCBwYXJhbGxheER1cmF0aW9uID0gcGFyc2VJbnQocGFyYWxsYXhFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uJyksIDEwKSB8fCBkdXJhdGlvbjtcbiAgICAgIGlmIChkdXJhdGlvbiA9PT0gMCkgcGFyYWxsYXhEdXJhdGlvbiA9IDA7XG4gICAgICBwYXJhbGxheEVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke3BhcmFsbGF4RHVyYXRpb259bXNgO1xuICAgIH0pO1xuICB9O1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCkgcmV0dXJuO1xuICAgIHN3aXBlci5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9IHRydWU7XG4gICAgc3dpcGVyLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSB0cnVlO1xuICB9KTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zd2lwZXIsIGR1cmF0aW9uKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQpIHJldHVybjtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFBhcmFsbGF4IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGEgYXMgZWxlbWVudFBhcmVudHMsIGIgYXMgZWxlbWVudE9mZnNldCwgaSBhcyBnZXRUcmFuc2xhdGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gWm9vbShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICB6b29tOiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIG1heFJhdGlvOiAzLFxuICAgICAgbWluUmF0aW86IDEsXG4gICAgICB0b2dnbGU6IHRydWUsXG4gICAgICBjb250YWluZXJDbGFzczogJ3N3aXBlci16b29tLWNvbnRhaW5lcicsXG4gICAgICB6b29tZWRTbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXpvb21lZCdcbiAgICB9XG4gIH0pO1xuICBzd2lwZXIuem9vbSA9IHtcbiAgICBlbmFibGVkOiBmYWxzZVxuICB9O1xuICBsZXQgY3VycmVudFNjYWxlID0gMTtcbiAgbGV0IGlzU2NhbGluZyA9IGZhbHNlO1xuICBsZXQgZmFrZUdlc3R1cmVUb3VjaGVkO1xuICBsZXQgZmFrZUdlc3R1cmVNb3ZlZDtcbiAgY29uc3QgZXZDYWNoZSA9IFtdO1xuICBjb25zdCBnZXN0dXJlID0ge1xuICAgIG9yaWdpblg6IDAsXG4gICAgb3JpZ2luWTogMCxcbiAgICBzbGlkZUVsOiB1bmRlZmluZWQsXG4gICAgc2xpZGVXaWR0aDogdW5kZWZpbmVkLFxuICAgIHNsaWRlSGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgaW1hZ2VFbDogdW5kZWZpbmVkLFxuICAgIGltYWdlV3JhcEVsOiB1bmRlZmluZWQsXG4gICAgbWF4UmF0aW86IDNcbiAgfTtcbiAgY29uc3QgaW1hZ2UgPSB7XG4gICAgaXNUb3VjaGVkOiB1bmRlZmluZWQsXG4gICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgIGN1cnJlbnRYOiB1bmRlZmluZWQsXG4gICAgY3VycmVudFk6IHVuZGVmaW5lZCxcbiAgICBtaW5YOiB1bmRlZmluZWQsXG4gICAgbWluWTogdW5kZWZpbmVkLFxuICAgIG1heFg6IHVuZGVmaW5lZCxcbiAgICBtYXhZOiB1bmRlZmluZWQsXG4gICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICBzdGFydFg6IHVuZGVmaW5lZCxcbiAgICBzdGFydFk6IHVuZGVmaW5lZCxcbiAgICB0b3VjaGVzU3RhcnQ6IHt9LFxuICAgIHRvdWNoZXNDdXJyZW50OiB7fVxuICB9O1xuICBjb25zdCB2ZWxvY2l0eSA9IHtcbiAgICB4OiB1bmRlZmluZWQsXG4gICAgeTogdW5kZWZpbmVkLFxuICAgIHByZXZQb3NpdGlvblg6IHVuZGVmaW5lZCxcbiAgICBwcmV2UG9zaXRpb25ZOiB1bmRlZmluZWQsXG4gICAgcHJldlRpbWU6IHVuZGVmaW5lZFxuICB9O1xuICBsZXQgc2NhbGUgPSAxO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpcGVyLnpvb20sICdzY2FsZScsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc2NhbGU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIGlmIChzY2FsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VFbCA9IGdlc3R1cmUuaW1hZ2VFbDtcbiAgICAgICAgY29uc3Qgc2xpZGVFbCA9IGdlc3R1cmUuc2xpZGVFbDtcbiAgICAgICAgZW1pdCgnem9vbUNoYW5nZScsIHZhbHVlLCBpbWFnZUVsLCBzbGlkZUVsKTtcbiAgICAgIH1cbiAgICAgIHNjYWxlID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcygpIHtcbiAgICBpZiAoZXZDYWNoZS5sZW5ndGggPCAyKSByZXR1cm4gMTtcbiAgICBjb25zdCB4MSA9IGV2Q2FjaGVbMF0ucGFnZVg7XG4gICAgY29uc3QgeTEgPSBldkNhY2hlWzBdLnBhZ2VZO1xuICAgIGNvbnN0IHgyID0gZXZDYWNoZVsxXS5wYWdlWDtcbiAgICBjb25zdCB5MiA9IGV2Q2FjaGVbMV0ucGFnZVk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHgyIC0geDEpICoqIDIgKyAoeTIgLSB5MSkgKiogMik7XG4gICAgcmV0dXJuIGRpc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNjYWxlT3JpZ2luKCkge1xuICAgIGlmIChldkNhY2hlLmxlbmd0aCA8IDIpIHJldHVybiB7XG4gICAgICB4OiBudWxsLFxuICAgICAgeTogbnVsbFxuICAgIH07XG4gICAgY29uc3QgYm94ID0gZ2VzdHVyZS5pbWFnZUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBbKGV2Q2FjaGVbMF0ucGFnZVggKyAoZXZDYWNoZVsxXS5wYWdlWCAtIGV2Q2FjaGVbMF0ucGFnZVgpIC8gMiAtIGJveC54IC0gd2luZG93LnNjcm9sbFgpIC8gY3VycmVudFNjYWxlLCAoZXZDYWNoZVswXS5wYWdlWSArIChldkNhY2hlWzFdLnBhZ2VZIC0gZXZDYWNoZVswXS5wYWdlWSkgLyAyIC0gYm94LnkgLSB3aW5kb3cuc2Nyb2xsWSkgLyBjdXJyZW50U2NhbGVdO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNsaWRlU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIHN3aXBlci5pc0VsZW1lbnQgPyBgc3dpcGVyLXNsaWRlYCA6IGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQ2xhc3N9YDtcbiAgfVxuICBmdW5jdGlvbiBldmVudFdpdGhpblNsaWRlKGUpIHtcbiAgICBjb25zdCBzbGlkZVNlbGVjdG9yID0gZ2V0U2xpZGVTZWxlY3RvcigpO1xuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKHNsaWRlU2VsZWN0b3IpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbnRhaW5zKGUudGFyZ2V0KSkubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGV2ZW50V2l0aGluWm9vbUNvbnRhaW5lcihlKSB7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgLiR7c3dpcGVyLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzfWA7XG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoWy4uLnN3aXBlci5ob3N0RWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcildLmZpbHRlcihjb250YWluZXJFbCA9PiBjb250YWluZXJFbC5jb250YWlucyhlLnRhcmdldCkpLmxlbmd0aCA+IDApIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEV2ZW50c1xuICBmdW5jdGlvbiBvbkdlc3R1cmVTdGFydChlKSB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgIGV2Q2FjaGUuc3BsaWNlKDAsIGV2Q2FjaGUubGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKCFldmVudFdpdGhpblNsaWRlKGUpKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGZha2VHZXN0dXJlVG91Y2hlZCA9IGZhbHNlO1xuICAgIGZha2VHZXN0dXJlTW92ZWQgPSBmYWxzZTtcbiAgICBldkNhY2hlLnB1c2goZSk7XG4gICAgaWYgKGV2Q2FjaGUubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmYWtlR2VzdHVyZVRvdWNoZWQgPSB0cnVlO1xuICAgIGdlc3R1cmUuc2NhbGVTdGFydCA9IGdldERpc3RhbmNlQmV0d2VlblRvdWNoZXMoKTtcbiAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkgZ2VzdHVyZS5zbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgICAgbGV0IGltYWdlRWwgPSBnZXN0dXJlLnNsaWRlRWwucXVlcnlTZWxlY3RvcihgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApO1xuICAgICAgaWYgKGltYWdlRWwpIHtcbiAgICAgICAgaW1hZ2VFbCA9IGltYWdlRWwucXVlcnlTZWxlY3RvckFsbCgncGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldCcpWzBdO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5pbWFnZUVsID0gaW1hZ2VFbDtcbiAgICAgIGlmIChpbWFnZUVsKSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwgPSBlbGVtZW50UGFyZW50cyhnZXN0dXJlLmltYWdlRWwsIGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YClbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFnZXN0dXJlLmltYWdlV3JhcEVsKSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VFbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5tYXhSYXRpbyA9IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIH1cbiAgICBpZiAoZ2VzdHVyZS5pbWFnZUVsKSB7XG4gICAgICBjb25zdCBbb3JpZ2luWCwgb3JpZ2luWV0gPSBnZXRTY2FsZU9yaWdpbigpO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gb3JpZ2luWDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IG9yaWdpblk7XG4gICAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBtcyc7XG4gICAgfVxuICAgIGlzU2NhbGluZyA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gb25HZXN0dXJlQ2hhbmdlKGUpIHtcbiAgICBpZiAoIWV2ZW50V2l0aGluU2xpZGUoZSkpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLnpvb207XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IGV2Q2FjaGUuZmluZEluZGV4KGNhY2hlZEV2ID0+IGNhY2hlZEV2LnBvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQpO1xuICAgIGlmIChwb2ludGVySW5kZXggPj0gMCkgZXZDYWNoZVtwb2ludGVySW5kZXhdID0gZTtcbiAgICBpZiAoZXZDYWNoZS5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZha2VHZXN0dXJlTW92ZWQgPSB0cnVlO1xuICAgIGdlc3R1cmUuc2NhbGVNb3ZlID0gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcygpO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLnNjYWxlTW92ZSAvIGdlc3R1cmUuc2NhbGVTdGFydCAqIGN1cnJlbnRTY2FsZTtcbiAgICBpZiAoem9vbS5zY2FsZSA+IGdlc3R1cmUubWF4UmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBnZXN0dXJlLm1heFJhdGlvIC0gMSArICh6b29tLnNjYWxlIC0gZ2VzdHVyZS5tYXhSYXRpbyArIDEpICoqIDAuNTtcbiAgICB9XG4gICAgaWYgKHpvb20uc2NhbGUgPCBwYXJhbXMubWluUmF0aW8pIHtcbiAgICAgIHpvb20uc2NhbGUgPSBwYXJhbXMubWluUmF0aW8gKyAxIC0gKHBhcmFtcy5taW5SYXRpbyAtIHpvb20uc2NhbGUgKyAxKSAqKiAwLjU7XG4gICAgfVxuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7em9vbS5zY2FsZX0pYDtcbiAgfVxuICBmdW5jdGlvbiBvbkdlc3R1cmVFbmQoZSkge1xuICAgIGlmICghZXZlbnRXaXRoaW5TbGlkZShlKSkgcmV0dXJuO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGUudHlwZSA9PT0gJ3BvaW50ZXJvdXQnKSByZXR1cm47XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSBldkNhY2hlLmZpbmRJbmRleChjYWNoZWRFdiA9PiBjYWNoZWRFdi5wb2ludGVySWQgPT09IGUucG9pbnRlcklkKTtcbiAgICBpZiAocG9pbnRlckluZGV4ID49IDApIGV2Q2FjaGUuc3BsaWNlKHBvaW50ZXJJbmRleCwgMSk7XG4gICAgaWYgKCFmYWtlR2VzdHVyZVRvdWNoZWQgfHwgIWZha2VHZXN0dXJlTW92ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmFrZUdlc3R1cmVUb3VjaGVkID0gZmFsc2U7XG4gICAgZmFrZUdlc3R1cmVNb3ZlZCA9IGZhbHNlO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSByZXR1cm47XG4gICAgem9vbS5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHpvb20uc2NhbGUsIGdlc3R1cmUubWF4UmF0aW8pLCBwYXJhbXMubWluUmF0aW8pO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtzd2lwZXIucGFyYW1zLnNwZWVkfW1zYDtcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgke3pvb20uc2NhbGV9KWA7XG4gICAgY3VycmVudFNjYWxlID0gem9vbS5zY2FsZTtcbiAgICBpc1NjYWxpbmcgPSBmYWxzZTtcbiAgICBpZiAoem9vbS5zY2FsZSA+IDEgJiYgZ2VzdHVyZS5zbGlkZUVsKSB7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICB9IGVsc2UgaWYgKHpvb20uc2NhbGUgPD0gMSAmJiBnZXN0dXJlLnNsaWRlRWwpIHtcbiAgICAgIGdlc3R1cmUuc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy56b29tZWRTbGlkZUNsYXNzfWApO1xuICAgIH1cbiAgICBpZiAoem9vbS5zY2FsZSA9PT0gMSkge1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IDA7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7XG4gICAgY29uc3QgZGV2aWNlID0gc3dpcGVyLmRldmljZTtcbiAgICBpZiAoIWdlc3R1cmUuaW1hZ2VFbCkgcmV0dXJuO1xuICAgIGlmIChpbWFnZS5pc1RvdWNoZWQpIHJldHVybjtcbiAgICBpZiAoZGV2aWNlLmFuZHJvaWQgJiYgZS5jYW5jZWxhYmxlKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW1hZ2UuaXNUb3VjaGVkID0gdHJ1ZTtcbiAgICBjb25zdCBldmVudCA9IGV2Q2FjaGUubGVuZ3RoID4gMCA/IGV2Q2FjaGVbMF0gOiBlO1xuICAgIGltYWdlLnRvdWNoZXNTdGFydC54ID0gZXZlbnQucGFnZVg7XG4gICAgaW1hZ2UudG91Y2hlc1N0YXJ0LnkgPSBldmVudC5wYWdlWTtcbiAgfVxuICBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgaWYgKCFldmVudFdpdGhpblNsaWRlKGUpIHx8ICFldmVudFdpdGhpblpvb21Db250YWluZXIoZSkpIHJldHVybjtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCFnZXN0dXJlLmltYWdlRWwpIHJldHVybjtcbiAgICBpZiAoIWltYWdlLmlzVG91Y2hlZCB8fCAhZ2VzdHVyZS5zbGlkZUVsKSByZXR1cm47XG4gICAgaWYgKCFpbWFnZS5pc01vdmVkKSB7XG4gICAgICBpbWFnZS53aWR0aCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGltYWdlLmhlaWdodCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBpbWFnZS5zdGFydFggPSBnZXRUcmFuc2xhdGUoZ2VzdHVyZS5pbWFnZVdyYXBFbCwgJ3gnKSB8fCAwO1xuICAgICAgaW1hZ2Uuc3RhcnRZID0gZ2V0VHJhbnNsYXRlKGdlc3R1cmUuaW1hZ2VXcmFwRWwsICd5JykgfHwgMDtcbiAgICAgIGdlc3R1cmUuc2xpZGVXaWR0aCA9IGdlc3R1cmUuc2xpZGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGdlc3R1cmUuc2xpZGVIZWlnaHQgPSBnZXN0dXJlLnNsaWRlRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMG1zJztcbiAgICB9XG4gICAgLy8gRGVmaW5lIGlmIHdlIG5lZWQgaW1hZ2UgZHJhZ1xuICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gaW1hZ2Uud2lkdGggKiB6b29tLnNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IGltYWdlLmhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgaWYgKHNjYWxlZFdpZHRoIDwgZ2VzdHVyZS5zbGlkZVdpZHRoICYmIHNjYWxlZEhlaWdodCA8IGdlc3R1cmUuc2xpZGVIZWlnaHQpIHJldHVybjtcbiAgICBpbWFnZS5taW5YID0gTWF0aC5taW4oZ2VzdHVyZS5zbGlkZVdpZHRoIC8gMiAtIHNjYWxlZFdpZHRoIC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WCA9IC1pbWFnZS5taW5YO1xuICAgIGltYWdlLm1pblkgPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgIGltYWdlLm1heFkgPSAtaW1hZ2UubWluWTtcbiAgICBpbWFnZS50b3VjaGVzQ3VycmVudC54ID0gZXZDYWNoZS5sZW5ndGggPiAwID8gZXZDYWNoZVswXS5wYWdlWCA6IGUucGFnZVg7XG4gICAgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA9IGV2Q2FjaGUubGVuZ3RoID4gMCA/IGV2Q2FjaGVbMF0ucGFnZVkgOiBlLnBhZ2VZO1xuICAgIGNvbnN0IHRvdWNoZXNEaWZmID0gTWF0aC5tYXgoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIGltYWdlLnRvdWNoZXNTdGFydC54KSwgTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIGltYWdlLnRvdWNoZXNTdGFydC55KSk7XG4gICAgaWYgKHRvdWNoZXNEaWZmID4gNSkge1xuICAgICAgc3dpcGVyLmFsbG93Q2xpY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpbWFnZS5pc01vdmVkICYmICFpc1NjYWxpbmcpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3IoaW1hZ2UubWluWCkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRYKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC54IDwgaW1hZ2UudG91Y2hlc1N0YXJ0LnggfHwgTWF0aC5mbG9vcihpbWFnZS5tYXhYKSA9PT0gTWF0aC5mbG9vcihpbWFnZS5zdGFydFgpICYmIGltYWdlLnRvdWNoZXNDdXJyZW50LnggPiBpbWFnZS50b3VjaGVzU3RhcnQueCkpIHtcbiAgICAgICAgaW1hZ2UuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIChNYXRoLmZsb29yKGltYWdlLm1pblkpID09PSBNYXRoLmZsb29yKGltYWdlLnN0YXJ0WSkgJiYgaW1hZ2UudG91Y2hlc0N1cnJlbnQueSA8IGltYWdlLnRvdWNoZXNTdGFydC55IHx8IE1hdGguZmxvb3IoaW1hZ2UubWF4WSkgPT09IE1hdGguZmxvb3IoaW1hZ2Uuc3RhcnRZKSAmJiBpbWFnZS50b3VjaGVzQ3VycmVudC55ID4gaW1hZ2UudG91Y2hlc1N0YXJ0LnkpKSB7XG4gICAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpbWFnZS5pc01vdmVkID0gdHJ1ZTtcbiAgICBjb25zdCBzY2FsZVJhdGlvID0gKHpvb20uc2NhbGUgLSBjdXJyZW50U2NhbGUpIC8gKGdlc3R1cmUubWF4UmF0aW8gLSBzd2lwZXIucGFyYW1zLnpvb20ubWluUmF0aW8pO1xuICAgIGNvbnN0IHtcbiAgICAgIG9yaWdpblgsXG4gICAgICBvcmlnaW5ZXG4gICAgfSA9IGdlc3R1cmU7XG4gICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gaW1hZ2UudG91Y2hlc1N0YXJ0LnggKyBpbWFnZS5zdGFydFggKyBzY2FsZVJhdGlvICogKGltYWdlLndpZHRoIC0gb3JpZ2luWCAqIDIpO1xuICAgIGltYWdlLmN1cnJlbnRZID0gaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIGltYWdlLnRvdWNoZXNTdGFydC55ICsgaW1hZ2Uuc3RhcnRZICsgc2NhbGVSYXRpbyAqIChpbWFnZS5oZWlnaHQgLSBvcmlnaW5ZICogMik7XG4gICAgaWYgKGltYWdlLmN1cnJlbnRYIDwgaW1hZ2UubWluWCkge1xuICAgICAgaW1hZ2UuY3VycmVudFggPSBpbWFnZS5taW5YICsgMSAtIChpbWFnZS5taW5YIC0gaW1hZ2UuY3VycmVudFggKyAxKSAqKiAwLjg7XG4gICAgfVxuICAgIGlmIChpbWFnZS5jdXJyZW50WCA+IGltYWdlLm1heFgpIHtcbiAgICAgIGltYWdlLmN1cnJlbnRYID0gaW1hZ2UubWF4WCAtIDEgKyAoaW1hZ2UuY3VycmVudFggLSBpbWFnZS5tYXhYICsgMSkgKiogMC44O1xuICAgIH1cbiAgICBpZiAoaW1hZ2UuY3VycmVudFkgPCBpbWFnZS5taW5ZKSB7XG4gICAgICBpbWFnZS5jdXJyZW50WSA9IGltYWdlLm1pblkgKyAxIC0gKGltYWdlLm1pblkgLSBpbWFnZS5jdXJyZW50WSArIDEpICoqIDAuODtcbiAgICB9XG4gICAgaWYgKGltYWdlLmN1cnJlbnRZID4gaW1hZ2UubWF4WSkge1xuICAgICAgaW1hZ2UuY3VycmVudFkgPSBpbWFnZS5tYXhZIC0gMSArIChpbWFnZS5jdXJyZW50WSAtIGltYWdlLm1heFkgKyAxKSAqKiAwLjg7XG4gICAgfVxuXG4gICAgLy8gVmVsb2NpdHlcbiAgICBpZiAoIXZlbG9jaXR5LnByZXZQb3NpdGlvblgpIHZlbG9jaXR5LnByZXZQb3NpdGlvblggPSBpbWFnZS50b3VjaGVzQ3VycmVudC54O1xuICAgIGlmICghdmVsb2NpdHkucHJldlBvc2l0aW9uWSkgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgaWYgKCF2ZWxvY2l0eS5wcmV2VGltZSkgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZlbG9jaXR5LnggPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueCAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblgpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIHZlbG9jaXR5LnkgPSAoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIC8gKERhdGUubm93KCkgLSB2ZWxvY2l0eS5wcmV2VGltZSkgLyAyO1xuICAgIGlmIChNYXRoLmFicyhpbWFnZS50b3VjaGVzQ3VycmVudC54IC0gdmVsb2NpdHkucHJldlBvc2l0aW9uWCkgPCAyKSB2ZWxvY2l0eS54ID0gMDtcbiAgICBpZiAoTWF0aC5hYnMoaW1hZ2UudG91Y2hlc0N1cnJlbnQueSAtIHZlbG9jaXR5LnByZXZQb3NpdGlvblkpIDwgMikgdmVsb2NpdHkueSA9IDA7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWCA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lng7XG4gICAgdmVsb2NpdHkucHJldlBvc2l0aW9uWSA9IGltYWdlLnRvdWNoZXNDdXJyZW50Lnk7XG4gICAgdmVsb2NpdHkucHJldlRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7aW1hZ2UuY3VycmVudFh9cHgsICR7aW1hZ2UuY3VycmVudFl9cHgsMClgO1xuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hFbmQoKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsKSByZXR1cm47XG4gICAgaWYgKCFpbWFnZS5pc1RvdWNoZWQgfHwgIWltYWdlLmlzTW92ZWQpIHtcbiAgICAgIGltYWdlLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgaW1hZ2UuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbWFnZS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICBpbWFnZS5pc01vdmVkID0gZmFsc2U7XG4gICAgbGV0IG1vbWVudHVtRHVyYXRpb25YID0gMzAwO1xuICAgIGxldCBtb21lbnR1bUR1cmF0aW9uWSA9IDMwMDtcbiAgICBjb25zdCBtb21lbnR1bURpc3RhbmNlWCA9IHZlbG9jaXR5LnggKiBtb21lbnR1bUR1cmF0aW9uWDtcbiAgICBjb25zdCBuZXdQb3NpdGlvblggPSBpbWFnZS5jdXJyZW50WCArIG1vbWVudHVtRGlzdGFuY2VYO1xuICAgIGNvbnN0IG1vbWVudHVtRGlzdGFuY2VZID0gdmVsb2NpdHkueSAqIG1vbWVudHVtRHVyYXRpb25ZO1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uWSA9IGltYWdlLmN1cnJlbnRZICsgbW9tZW50dW1EaXN0YW5jZVk7XG5cbiAgICAvLyBGaXggZHVyYXRpb25cbiAgICBpZiAodmVsb2NpdHkueCAhPT0gMCkgbW9tZW50dW1EdXJhdGlvblggPSBNYXRoLmFicygobmV3UG9zaXRpb25YIC0gaW1hZ2UuY3VycmVudFgpIC8gdmVsb2NpdHkueCk7XG4gICAgaWYgKHZlbG9jaXR5LnkgIT09IDApIG1vbWVudHVtRHVyYXRpb25ZID0gTWF0aC5hYnMoKG5ld1Bvc2l0aW9uWSAtIGltYWdlLmN1cnJlbnRZKSAvIHZlbG9jaXR5LnkpO1xuICAgIGNvbnN0IG1vbWVudHVtRHVyYXRpb24gPSBNYXRoLm1heChtb21lbnR1bUR1cmF0aW9uWCwgbW9tZW50dW1EdXJhdGlvblkpO1xuICAgIGltYWdlLmN1cnJlbnRYID0gbmV3UG9zaXRpb25YO1xuICAgIGltYWdlLmN1cnJlbnRZID0gbmV3UG9zaXRpb25ZO1xuICAgIC8vIERlZmluZSBpZiB3ZSBuZWVkIGltYWdlIGRyYWdcbiAgICBjb25zdCBzY2FsZWRXaWR0aCA9IGltYWdlLndpZHRoICogem9vbS5zY2FsZTtcbiAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiB6b29tLnNjYWxlO1xuICAgIGltYWdlLm1pblggPSBNYXRoLm1pbihnZXN0dXJlLnNsaWRlV2lkdGggLyAyIC0gc2NhbGVkV2lkdGggLyAyLCAwKTtcbiAgICBpbWFnZS5tYXhYID0gLWltYWdlLm1pblg7XG4gICAgaW1hZ2UubWluWSA9IE1hdGgubWluKGdlc3R1cmUuc2xpZGVIZWlnaHQgLyAyIC0gc2NhbGVkSGVpZ2h0IC8gMiwgMCk7XG4gICAgaW1hZ2UubWF4WSA9IC1pbWFnZS5taW5ZO1xuICAgIGltYWdlLmN1cnJlbnRYID0gTWF0aC5tYXgoTWF0aC5taW4oaW1hZ2UuY3VycmVudFgsIGltYWdlLm1heFgpLCBpbWFnZS5taW5YKTtcbiAgICBpbWFnZS5jdXJyZW50WSA9IE1hdGgubWF4KE1hdGgubWluKGltYWdlLmN1cnJlbnRZLCBpbWFnZS5tYXhZKSwgaW1hZ2UubWluWSk7XG4gICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHttb21lbnR1bUR1cmF0aW9ufW1zYDtcbiAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke2ltYWdlLmN1cnJlbnRYfXB4LCAke2ltYWdlLmN1cnJlbnRZfXB4LDApYDtcbiAgfVxuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmIChnZXN0dXJlLnNsaWRlRWwgJiYgc3dpcGVyLmFjdGl2ZUluZGV4ICE9PSBzd2lwZXIuc2xpZGVzLmluZGV4T2YoZ2VzdHVyZS5zbGlkZUVsKSkge1xuICAgICAgaWYgKGdlc3R1cmUuaW1hZ2VFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKSc7XG4gICAgICB9XG4gICAgICBpZiAoZ2VzdHVyZS5pbWFnZVdyYXBFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknO1xuICAgICAgfVxuICAgICAgZ2VzdHVyZS5zbGlkZUVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy56b29tLnpvb21lZFNsaWRlQ2xhc3N9YCk7XG4gICAgICB6b29tLnNjYWxlID0gMTtcbiAgICAgIGN1cnJlbnRTY2FsZSA9IDE7XG4gICAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLmltYWdlRWwgPSB1bmRlZmluZWQ7XG4gICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gdW5kZWZpbmVkO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICAgIGdlc3R1cmUub3JpZ2luWSA9IDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHpvb21JbihlKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuem9vbTtcbiAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgaWYgKGUgJiYgZS50YXJnZXQpIHtcbiAgICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWdlc3R1cmUuc2xpZGVFbCkge1xuICAgICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgICAgZ2VzdHVyZS5zbGlkZUVsID0gZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnZXN0dXJlLnNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBpbWFnZUVsID0gZ2VzdHVyZS5zbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKTtcbiAgICAgIGlmIChpbWFnZUVsKSB7XG4gICAgICAgIGltYWdlRWwgPSBpbWFnZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BpY3R1cmUsIGltZywgc3ZnLCBjYW52YXMsIC5zd2lwZXItem9vbS10YXJnZXQnKVswXTtcbiAgICAgIH1cbiAgICAgIGdlc3R1cmUuaW1hZ2VFbCA9IGltYWdlRWw7XG4gICAgICBpZiAoaW1hZ2VFbCkge1xuICAgICAgICBnZXN0dXJlLmltYWdlV3JhcEVsID0gZWxlbWVudFBhcmVudHMoZ2VzdHVyZS5pbWFnZUVsLCBgLiR7cGFyYW1zLmNvbnRhaW5lckNsYXNzfWApWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFnZXN0dXJlLmltYWdlRWwgfHwgIWdlc3R1cmUuaW1hZ2VXcmFwRWwpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgIH1cbiAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICBsZXQgdG91Y2hYO1xuICAgIGxldCB0b3VjaFk7XG4gICAgbGV0IG9mZnNldFg7XG4gICAgbGV0IG9mZnNldFk7XG4gICAgbGV0IGRpZmZYO1xuICAgIGxldCBkaWZmWTtcbiAgICBsZXQgdHJhbnNsYXRlWDtcbiAgICBsZXQgdHJhbnNsYXRlWTtcbiAgICBsZXQgaW1hZ2VXaWR0aDtcbiAgICBsZXQgaW1hZ2VIZWlnaHQ7XG4gICAgbGV0IHNjYWxlZFdpZHRoO1xuICAgIGxldCBzY2FsZWRIZWlnaHQ7XG4gICAgbGV0IHRyYW5zbGF0ZU1pblg7XG4gICAgbGV0IHRyYW5zbGF0ZU1pblk7XG4gICAgbGV0IHRyYW5zbGF0ZU1heFg7XG4gICAgbGV0IHRyYW5zbGF0ZU1heFk7XG4gICAgbGV0IHNsaWRlV2lkdGg7XG4gICAgbGV0IHNsaWRlSGVpZ2h0O1xuICAgIGlmICh0eXBlb2YgaW1hZ2UudG91Y2hlc1N0YXJ0LnggPT09ICd1bmRlZmluZWQnICYmIGUpIHtcbiAgICAgIHRvdWNoWCA9IGUucGFnZVg7XG4gICAgICB0b3VjaFkgPSBlLnBhZ2VZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaFggPSBpbWFnZS50b3VjaGVzU3RhcnQueDtcbiAgICAgIHRvdWNoWSA9IGltYWdlLnRvdWNoZXNTdGFydC55O1xuICAgIH1cbiAgICBjb25zdCBmb3JjZVpvb21SYXRpbyA9IHR5cGVvZiBlID09PSAnbnVtYmVyJyA/IGUgOiBudWxsO1xuICAgIGlmIChjdXJyZW50U2NhbGUgPT09IDEgJiYgZm9yY2Vab29tUmF0aW8pIHtcbiAgICAgIHRvdWNoWCA9IHVuZGVmaW5lZDtcbiAgICAgIHRvdWNoWSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgem9vbS5zY2FsZSA9IGZvcmNlWm9vbVJhdGlvIHx8IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIGN1cnJlbnRTY2FsZSA9IGZvcmNlWm9vbVJhdGlvIHx8IGdlc3R1cmUuaW1hZ2VXcmFwRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci16b29tJykgfHwgcGFyYW1zLm1heFJhdGlvO1xuICAgIGlmIChlICYmICEoY3VycmVudFNjYWxlID09PSAxICYmIGZvcmNlWm9vbVJhdGlvKSkge1xuICAgICAgc2xpZGVXaWR0aCA9IGdlc3R1cmUuc2xpZGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZ2VzdHVyZS5zbGlkZUVsLm9mZnNldEhlaWdodDtcbiAgICAgIG9mZnNldFggPSBlbGVtZW50T2Zmc2V0KGdlc3R1cmUuc2xpZGVFbCkubGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgICAgb2Zmc2V0WSA9IGVsZW1lbnRPZmZzZXQoZ2VzdHVyZS5zbGlkZUVsKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIGRpZmZYID0gb2Zmc2V0WCArIHNsaWRlV2lkdGggLyAyIC0gdG91Y2hYO1xuICAgICAgZGlmZlkgPSBvZmZzZXRZICsgc2xpZGVIZWlnaHQgLyAyIC0gdG91Y2hZO1xuICAgICAgaW1hZ2VXaWR0aCA9IGdlc3R1cmUuaW1hZ2VFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGltYWdlSGVpZ2h0ID0gZ2VzdHVyZS5pbWFnZUVsLm9mZnNldEhlaWdodDtcbiAgICAgIHNjYWxlZFdpZHRoID0gaW1hZ2VXaWR0aCAqIHpvb20uc2NhbGU7XG4gICAgICBzY2FsZWRIZWlnaHQgPSBpbWFnZUhlaWdodCAqIHpvb20uc2NhbGU7XG4gICAgICB0cmFuc2xhdGVNaW5YID0gTWF0aC5taW4oc2xpZGVXaWR0aCAvIDIgLSBzY2FsZWRXaWR0aCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWluWSA9IE1hdGgubWluKHNsaWRlSGVpZ2h0IC8gMiAtIHNjYWxlZEhlaWdodCAvIDIsIDApO1xuICAgICAgdHJhbnNsYXRlTWF4WCA9IC10cmFuc2xhdGVNaW5YO1xuICAgICAgdHJhbnNsYXRlTWF4WSA9IC10cmFuc2xhdGVNaW5ZO1xuICAgICAgdHJhbnNsYXRlWCA9IGRpZmZYICogem9vbS5zY2FsZTtcbiAgICAgIHRyYW5zbGF0ZVkgPSBkaWZmWSAqIHpvb20uc2NhbGU7XG4gICAgICBpZiAodHJhbnNsYXRlWCA8IHRyYW5zbGF0ZU1pblgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1pblg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWCA+IHRyYW5zbGF0ZU1heFgpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZU1heFg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWSA8IHRyYW5zbGF0ZU1pblkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1pblk7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNsYXRlWSA+IHRyYW5zbGF0ZU1heFkpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZU1heFk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zbGF0ZVggPSAwO1xuICAgICAgdHJhbnNsYXRlWSA9IDA7XG4gICAgfVxuICAgIGlmIChmb3JjZVpvb21SYXRpbyAmJiB6b29tLnNjYWxlID09PSAxKSB7XG4gICAgICBnZXN0dXJlLm9yaWdpblggPSAwO1xuICAgICAgZ2VzdHVyZS5vcmlnaW5ZID0gMDtcbiAgICB9XG4gICAgZ2VzdHVyZS5pbWFnZVdyYXBFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMzAwbXMnO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH1weCwgJHt0cmFuc2xhdGVZfXB4LDApYDtcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzMwMG1zJztcbiAgICBnZXN0dXJlLmltYWdlRWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgke3pvb20uc2NhbGV9KWA7XG4gIH1cbiAgZnVuY3Rpb24gem9vbU91dCgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy56b29tO1xuICAgIGlmICghZ2VzdHVyZS5zbGlkZUVsKSB7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsKSB7XG4gICAgICAgIGdlc3R1cmUuc2xpZGVFbCA9IGVsZW1lbnRDaGlsZHJlbihzd2lwZXIuc2xpZGVzRWwsIGAuJHtzd2lwZXIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3N9YClbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXN0dXJlLnNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF07XG4gICAgICB9XG4gICAgICBsZXQgaW1hZ2VFbCA9IGdlc3R1cmUuc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtwYXJhbXMuY29udGFpbmVyQ2xhc3N9YCk7XG4gICAgICBpZiAoaW1hZ2VFbCkge1xuICAgICAgICBpbWFnZUVsID0gaW1hZ2VFbC5xdWVyeVNlbGVjdG9yQWxsKCdwaWN0dXJlLCBpbWcsIHN2ZywgY2FudmFzLCAuc3dpcGVyLXpvb20tdGFyZ2V0JylbMF07XG4gICAgICB9XG4gICAgICBnZXN0dXJlLmltYWdlRWwgPSBpbWFnZUVsO1xuICAgICAgaWYgKGltYWdlRWwpIHtcbiAgICAgICAgZ2VzdHVyZS5pbWFnZVdyYXBFbCA9IGVsZW1lbnRQYXJlbnRzKGdlc3R1cmUuaW1hZ2VFbCwgYC4ke3BhcmFtcy5jb250YWluZXJDbGFzc31gKVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS5pbWFnZUVsIHx8ICFnZXN0dXJlLmltYWdlV3JhcEVsKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgIH1cbiAgICB6b29tLnNjYWxlID0gMTtcbiAgICBjdXJyZW50U2NhbGUgPSAxO1xuICAgIGdlc3R1cmUuaW1hZ2VXcmFwRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJzMwMG1zJztcbiAgICBnZXN0dXJlLmltYWdlV3JhcEVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnMzAwbXMnO1xuICAgIGdlc3R1cmUuaW1hZ2VFbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpJztcbiAgICBnZXN0dXJlLnNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShgJHtwYXJhbXMuem9vbWVkU2xpZGVDbGFzc31gKTtcbiAgICBnZXN0dXJlLnNsaWRlRWwgPSB1bmRlZmluZWQ7XG4gICAgZ2VzdHVyZS5vcmlnaW5YID0gMDtcbiAgICBnZXN0dXJlLm9yaWdpblkgPSAwO1xuICB9XG5cbiAgLy8gVG9nZ2xlIFpvb21cbiAgZnVuY3Rpb24gem9vbVRvZ2dsZShlKSB7XG4gICAgY29uc3Qgem9vbSA9IHN3aXBlci56b29tO1xuICAgIGlmICh6b29tLnNjYWxlICYmIHpvb20uc2NhbGUgIT09IDEpIHtcbiAgICAgIC8vIFpvb20gT3V0XG4gICAgICB6b29tT3V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFpvb20gSW5cbiAgICAgIHpvb21JbihlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHBhc3NpdmVMaXN0ZW5lciA9IHN3aXBlci5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycyA/IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0gOiBmYWxzZTtcbiAgICBjb25zdCBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlID0gc3dpcGVyLnBhcmFtcy5wYXNzaXZlTGlzdGVuZXJzID8ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSA6IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3NpdmVMaXN0ZW5lcixcbiAgICAgIGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmVcbiAgICB9O1xuICB9XG5cbiAgLy8gQXR0YWNoL0RldGFjaCBFdmVudHNcbiAgZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgIGNvbnN0IHpvb20gPSBzd2lwZXIuem9vbTtcbiAgICBpZiAoem9vbS5lbmFibGVkKSByZXR1cm47XG4gICAgem9vbS5lbmFibGVkID0gdHJ1ZTtcbiAgICBjb25zdCB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfSA9IGdldExpc3RlbmVycygpO1xuXG4gICAgLy8gU2NhbGUgaW1hZ2VcbiAgICBzd2lwZXIud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgWydwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0J10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gTW92ZSBpbWFnZVxuICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBjb25zdCB6b29tID0gc3dpcGVyLnpvb207XG4gICAgaWYgKCF6b29tLmVuYWJsZWQpIHJldHVybjtcbiAgICB6b29tLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBjb25zdCB7XG4gICAgICBwYXNzaXZlTGlzdGVuZXIsXG4gICAgICBhY3RpdmVMaXN0ZW5lcldpdGhDYXB0dXJlXG4gICAgfSA9IGdldExpc3RlbmVycygpO1xuXG4gICAgLy8gU2NhbGUgaW1hZ2VcbiAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25HZXN0dXJlU3RhcnQsIHBhc3NpdmVMaXN0ZW5lcik7XG4gICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uR2VzdHVyZUNoYW5nZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gICAgWydwb2ludGVydXAnLCAncG9pbnRlcmNhbmNlbCcsICdwb2ludGVyb3V0J10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25HZXN0dXJlRW5kLCBwYXNzaXZlTGlzdGVuZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gTW92ZSBpbWFnZVxuICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblRvdWNoTW92ZSwgYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZSk7XG4gIH1cbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICBlbmFibGUoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkaXNhYmxlKCk7XG4gIH0pO1xuICBvbigndG91Y2hTdGFydCcsIChfcywgZSkgPT4ge1xuICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIG9uVG91Y2hTdGFydChlKTtcbiAgfSk7XG4gIG9uKCd0b3VjaEVuZCcsIChfcywgZSkgPT4ge1xuICAgIGlmICghc3dpcGVyLnpvb20uZW5hYmxlZCkgcmV0dXJuO1xuICAgIG9uVG91Y2hFbmQoKTtcbiAgfSk7XG4gIG9uKCdkb3VibGVUYXAnLCAoX3MsIGUpID0+IHtcbiAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnpvb20uZW5hYmxlZCAmJiBzd2lwZXIucGFyYW1zLnpvb20udG9nZ2xlKSB7XG4gICAgICB6b29tVG9nZ2xlKGUpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuem9vbS5lbmFibGVkICYmIHN3aXBlci5wYXJhbXMuem9vbS5lbmFibGVkKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy56b29tLmVuYWJsZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBvblRyYW5zaXRpb25FbmQoKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHN3aXBlci56b29tLCB7XG4gICAgZW5hYmxlLFxuICAgIGRpc2FibGUsXG4gICAgaW46IHpvb21JbixcbiAgICBvdXQ6IHpvb21PdXQsXG4gICAgdG9nZ2xlOiB6b29tVG9nZ2xlXG4gIH0pO1xufVxuXG5leHBvcnQgeyBab29tIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBuIGFzIG5leHRUaWNrLCBqIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbi8qIGVzbGludCBuby1iaXR3aXNlOiBbXCJlcnJvclwiLCB7IFwiYWxsb3dcIjogW1wiPj5cIl0gfV0gKi9cbmZ1bmN0aW9uIENvbnRyb2xsZXIoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgY29udHJvbGxlcjoge1xuICAgICAgY29udHJvbDogdW5kZWZpbmVkLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICBieTogJ3NsaWRlJyAvLyBvciAnY29udGFpbmVyJ1xuICAgIH1cbiAgfSk7XG5cbiAgc3dpcGVyLmNvbnRyb2xsZXIgPSB7XG4gICAgY29udHJvbDogdW5kZWZpbmVkXG4gIH07XG4gIGZ1bmN0aW9uIExpbmVhclNwbGluZSh4LCB5KSB7XG4gICAgY29uc3QgYmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gc2VhcmNoKCkge1xuICAgICAgbGV0IG1heEluZGV4O1xuICAgICAgbGV0IG1pbkluZGV4O1xuICAgICAgbGV0IGd1ZXNzO1xuICAgICAgcmV0dXJuIChhcnJheSwgdmFsKSA9PiB7XG4gICAgICAgIG1pbkluZGV4ID0gLTE7XG4gICAgICAgIG1heEluZGV4ID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobWF4SW5kZXggLSBtaW5JbmRleCA+IDEpIHtcbiAgICAgICAgICBndWVzcyA9IG1heEluZGV4ICsgbWluSW5kZXggPj4gMTtcbiAgICAgICAgICBpZiAoYXJyYXlbZ3Vlc3NdIDw9IHZhbCkge1xuICAgICAgICAgICAgbWluSW5kZXggPSBndWVzcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4SW5kZXggPSBndWVzcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heEluZGV4O1xuICAgICAgfTtcbiAgICB9KCk7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMubGFzdEluZGV4ID0geC5sZW5ndGggLSAxO1xuICAgIC8vIEdpdmVuIGFuIHggdmFsdWUgKHgyKSwgcmV0dXJuIHRoZSBleHBlY3RlZCB5MiB2YWx1ZTpcbiAgICAvLyAoeDEseTEpIGlzIHRoZSBrbm93biBwb2ludCBiZWZvcmUgZ2l2ZW4gdmFsdWUsXG4gICAgLy8gKHgzLHkzKSBpcyB0aGUga25vd24gcG9pbnQgYWZ0ZXIgZ2l2ZW4gdmFsdWUuXG4gICAgbGV0IGkxO1xuICAgIGxldCBpMztcbiAgICB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUoeDIpIHtcbiAgICAgIGlmICgheDIpIHJldHVybiAwO1xuXG4gICAgICAvLyBHZXQgdGhlIGluZGV4ZXMgb2YgeDEgYW5kIHgzICh0aGUgYXJyYXkgaW5kZXhlcyBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHgyKTpcbiAgICAgIGkzID0gYmluYXJ5U2VhcmNoKHRoaXMueCwgeDIpO1xuICAgICAgaTEgPSBpMyAtIDE7XG5cbiAgICAgIC8vIFdlIGhhdmUgb3VyIGluZGV4ZXMgaTEgJiBpMywgc28gd2UgY2FuIGNhbGN1bGF0ZSBhbHJlYWR5OlxuICAgICAgLy8geTIgOj0gKCh4Mlx1MjIxMngxKSBcdTAwRDcgKHkzXHUyMjEyeTEpKSBcdTAwRjcgKHgzXHUyMjEyeDEpICsgeTFcbiAgICAgIHJldHVybiAoeDIgLSB0aGlzLnhbaTFdKSAqICh0aGlzLnlbaTNdIC0gdGhpcy55W2kxXSkgLyAodGhpcy54W2kzXSAtIHRoaXMueFtpMV0pICsgdGhpcy55W2kxXTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIGdldEludGVycG9sYXRlRnVuY3Rpb24oYykge1xuICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHN3aXBlci5wYXJhbXMubG9vcCA/IG5ldyBMaW5lYXJTcGxpbmUoc3dpcGVyLnNsaWRlc0dyaWQsIGMuc2xpZGVzR3JpZCkgOiBuZXcgTGluZWFyU3BsaW5lKHN3aXBlci5zbmFwR3JpZCwgYy5zbmFwR3JpZCk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0VHJhbnNsYXRlKF90LCBieUNvbnRyb2xsZXIpIHtcbiAgICBjb25zdCBjb250cm9sbGVkID0gc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbDtcbiAgICBsZXQgbXVsdGlwbGllcjtcbiAgICBsZXQgY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICBjb25zdCBTd2lwZXIgPSBzd2lwZXIuY29uc3RydWN0b3I7XG4gICAgZnVuY3Rpb24gc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjKSB7XG4gICAgICBpZiAoYy5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgLy8gdGhpcyB3aWxsIGNyZWF0ZSBhbiBJbnRlcnBvbGF0ZSBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgc25hcEdyaWRzXG4gICAgICAvLyB4IGlzIHRoZSBHcmlkIG9mIHRoZSBzY3JvbGxlZCBzY3JvbGxlciBhbmQgeSB3aWxsIGJlIHRoZSBjb250cm9sbGVkIHNjcm9sbGVyXG4gICAgICAvLyBpdCBtYWtlcyBzZW5zZSB0byBjcmVhdGUgdGhpcyBvbmx5IG9uY2UgYW5kIHJlY2FsbCBpdCBmb3IgdGhlIGludGVycG9sYXRpb25cbiAgICAgIC8vIHRoZSBmdW5jdGlvbiBkb2VzIGEgbG90IG9mIHZhbHVlIGNhY2hpbmcgZm9yIHBlcmZvcm1hbmNlXG4gICAgICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gLXN3aXBlci50cmFuc2xhdGUgOiBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5ieSA9PT0gJ3NsaWRlJykge1xuICAgICAgICBnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGMpO1xuICAgICAgICAvLyBpIGFtIG5vdCBzdXJlIHdoeSB0aGUgdmFsdWVzIGhhdmUgdG8gYmUgbXVsdGlwbGljYXRlZCB0aGlzIHdheSwgdHJpZWQgdG8gaW52ZXJ0IHRoZSBzbmFwR3JpZFxuICAgICAgICAvLyBidXQgaXQgZGlkIG5vdCB3b3JrIG91dFxuICAgICAgICBjb250cm9sbGVkVHJhbnNsYXRlID0gLXN3aXBlci5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtdHJhbnNsYXRlKTtcbiAgICAgIH1cbiAgICAgIGlmICghY29udHJvbGxlZFRyYW5zbGF0ZSB8fCBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuYnkgPT09ICdjb250YWluZXInKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAoYy5tYXhUcmFuc2xhdGUoKSAtIGMubWluVHJhbnNsYXRlKCkpIC8gKHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4obXVsdGlwbGllcikgfHwgIU51bWJlci5pc0Zpbml0ZShtdWx0aXBsaWVyKSkge1xuICAgICAgICAgIG11bHRpcGxpZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSAodHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAqIG11bHRpcGxpZXIgKyBjLm1pblRyYW5zbGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY29udHJvbGxlci5pbnZlcnNlKSB7XG4gICAgICAgIGNvbnRyb2xsZWRUcmFuc2xhdGUgPSBjLm1heFRyYW5zbGF0ZSgpIC0gY29udHJvbGxlZFRyYW5zbGF0ZTtcbiAgICAgIH1cbiAgICAgIGMudXBkYXRlUHJvZ3Jlc3MoY29udHJvbGxlZFRyYW5zbGF0ZSk7XG4gICAgICBjLnNldFRyYW5zbGF0ZShjb250cm9sbGVkVHJhbnNsYXRlLCBzd2lwZXIpO1xuICAgICAgYy51cGRhdGVBY3RpdmVJbmRleCgpO1xuICAgICAgYy51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRyb2xsZWQpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zbGF0ZShjb250cm9sbGVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29udHJvbGxlZCBpbnN0YW5jZW9mIFN3aXBlciAmJiBieUNvbnRyb2xsZXIgIT09IGNvbnRyb2xsZWQpIHtcbiAgICAgIHNldENvbnRyb2xsZWRUcmFuc2xhdGUoY29udHJvbGxlZCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZHVyYXRpb24sIGJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IFN3aXBlciA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcbiAgICBjb25zdCBjb250cm9sbGVkID0gc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbDtcbiAgICBsZXQgaTtcbiAgICBmdW5jdGlvbiBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjKSB7XG4gICAgICBpZiAoYy5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIGMuc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgc3dpcGVyKTtcbiAgICAgIGlmIChkdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICBjLnRyYW5zaXRpb25TdGFydCgpO1xuICAgICAgICBpZiAoYy5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGMudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGMud3JhcHBlckVsLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFjb250cm9sbGVkKSByZXR1cm47XG4gICAgICAgICAgYy50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250cm9sbGVkKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRyb2xsZWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZWRbaV0gIT09IGJ5Q29udHJvbGxlciAmJiBjb250cm9sbGVkW2ldIGluc3RhbmNlb2YgU3dpcGVyKSB7XG4gICAgICAgICAgc2V0Q29udHJvbGxlZFRyYW5zaXRpb24oY29udHJvbGxlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZWQgaW5zdGFuY2VvZiBTd2lwZXIgJiYgYnlDb250cm9sbGVyICE9PSBjb250cm9sbGVkKSB7XG4gICAgICBzZXRDb250cm9sbGVkVHJhbnNpdGlvbihjb250cm9sbGVkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlU3BsaW5lKCkge1xuICAgIGlmICghc3dpcGVyLmNvbnRyb2xsZXIuY29udHJvbCkgcmV0dXJuO1xuICAgIGlmIChzd2lwZXIuY29udHJvbGxlci5zcGxpbmUpIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLnNwbGluZSA9IHVuZGVmaW5lZDtcbiAgICAgIGRlbGV0ZSBzd2lwZXIuY29udHJvbGxlci5zcGxpbmU7XG4gICAgfVxuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHR5cGVvZiBzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbCA9PT0gJ3N0cmluZycgfHwgc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2wgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihzd2lwZXIucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbCk7XG4gICAgICBpZiAoY29udHJvbEVsZW1lbnQgJiYgY29udHJvbEVsZW1lbnQuc3dpcGVyKSB7XG4gICAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgPSBjb250cm9sRWxlbWVudC5zd2lwZXI7XG4gICAgICB9IGVsc2UgaWYgKGNvbnRyb2xFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9uQ29udHJvbGxlclN3aXBlciA9IGUgPT4ge1xuICAgICAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgPSBlLmRldGFpbFswXTtcbiAgICAgICAgICBzd2lwZXIudXBkYXRlKCk7XG4gICAgICAgICAgY29udHJvbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5pdCcsIG9uQ29udHJvbGxlclN3aXBlcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnRyb2xFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2luaXQnLCBvbkNvbnRyb2xsZXJTd2lwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sID0gc3dpcGVyLnBhcmFtcy5jb250cm9sbGVyLmNvbnRyb2w7XG4gIH0pO1xuICBvbigndXBkYXRlJywgKCkgPT4ge1xuICAgIHJlbW92ZVNwbGluZSgpO1xuICB9KTtcbiAgb24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdvYnNlcnZlclVwZGF0ZScsICgpID0+IHtcbiAgICByZW1vdmVTcGxpbmUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoX3MsIHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sIHx8IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZGVzdHJveWVkKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbiwgYnlDb250cm9sbGVyKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIuY29udHJvbGxlci5jb250cm9sIHx8IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wuZGVzdHJveWVkKSByZXR1cm47XG4gICAgc3dpcGVyLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbiwgYnlDb250cm9sbGVyKTtcbiAgfSk7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLmNvbnRyb2xsZXIsIHtcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvblxuICB9KTtcbn1cblxuZXhwb3J0IHsgQ29udHJvbGxlciBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjbGFzc2VzVG9TZWxlY3RvciB9IGZyb20gJy4uL3NoYXJlZC9jbGFzc2VzLXRvLXNlbGVjdG9yLm1qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUVsZW1lbnQsIGcgYXMgZWxlbWVudEluZGV4IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEExMXkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgYTExeToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIG5vdGlmaWNhdGlvbkNsYXNzOiAnc3dpcGVyLW5vdGlmaWNhdGlvbicsXG4gICAgICBwcmV2U2xpZGVNZXNzYWdlOiAnUHJldmlvdXMgc2xpZGUnLFxuICAgICAgbmV4dFNsaWRlTWVzc2FnZTogJ05leHQgc2xpZGUnLFxuICAgICAgZmlyc3RTbGlkZU1lc3NhZ2U6ICdUaGlzIGlzIHRoZSBmaXJzdCBzbGlkZScsXG4gICAgICBsYXN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgbGFzdCBzbGlkZScsXG4gICAgICBwYWdpbmF0aW9uQnVsbGV0TWVzc2FnZTogJ0dvIHRvIHNsaWRlIHt7aW5kZXh9fScsXG4gICAgICBzbGlkZUxhYmVsTWVzc2FnZTogJ3t7aW5kZXh9fSAvIHt7c2xpZGVzTGVuZ3RofX0nLFxuICAgICAgY29udGFpbmVyTWVzc2FnZTogbnVsbCxcbiAgICAgIGNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6IG51bGwsXG4gICAgICBpdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZTogbnVsbCxcbiAgICAgIHNsaWRlUm9sZTogJ2dyb3VwJyxcbiAgICAgIGlkOiBudWxsXG4gICAgfVxuICB9KTtcbiAgc3dpcGVyLmExMXkgPSB7XG4gICAgY2xpY2tlZDogZmFsc2VcbiAgfTtcbiAgbGV0IGxpdmVSZWdpb24gPSBudWxsO1xuICBmdW5jdGlvbiBub3RpZnkobWVzc2FnZSkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGxpdmVSZWdpb247XG4gICAgaWYgKG5vdGlmaWNhdGlvbi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBub3RpZmljYXRpb24uaW5uZXJIVE1MID0gJyc7XG4gICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gIH1cbiAgY29uc3QgbWFrZUVsZW1lbnRzQXJyYXkgPSBlbCA9PiAoQXJyYXkuaXNBcnJheShlbCkgPyBlbCA6IFtlbF0pLmZpbHRlcihlID0+ICEhZSk7XG4gIGZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcihzaXplKSB7XG4gICAgaWYgKHNpemUgPT09IHZvaWQgMCkge1xuICAgICAgc2l6ZSA9IDE2O1xuICAgIH1cbiAgICBjb25zdCByYW5kb21DaGFyID0gKCkgPT4gTWF0aC5yb3VuZCgxNiAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gJ3gnLnJlcGVhdChzaXplKS5yZXBsYWNlKC94L2csIHJhbmRvbUNoYXIpO1xuICB9XG4gIGZ1bmN0aW9uIG1ha2VFbEZvY3VzYWJsZShlbCkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcwJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gbWFrZUVsTm90Rm9jdXNhYmxlKGVsKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkRWxSb2xlKGVsLCByb2xlKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCByb2xlKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBhZGRFbFJvbGVEZXNjcmlwdGlvbihlbCwgZGVzY3JpcHRpb24pIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1yb2xlZGVzY3JpcHRpb24nLCBkZXNjcmlwdGlvbik7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWRkRWxDb250cm9scyhlbCwgY29udHJvbHMpIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIGNvbnRyb2xzKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBhZGRFbExhYmVsKGVsLCBsYWJlbCkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbGFiZWwpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFkZEVsSWQoZWwsIGlkKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFkZEVsTGl2ZShlbCwgbGl2ZSkge1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgc3ViRWwuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCBsaXZlKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBkaXNhYmxlRWwoZWwpIHtcbiAgICBlbCA9IG1ha2VFbGVtZW50c0FycmF5KGVsKTtcbiAgICBlbC5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgIHN1YkVsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHRydWUpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZUVsKGVsKSB7XG4gICAgZWwgPSBtYWtlRWxlbWVudHNBcnJheShlbCk7XG4gICAgZWwuZm9yRWFjaChzdWJFbCA9PiB7XG4gICAgICBzdWJFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25FbnRlck9yU3BhY2VLZXkoZSkge1xuICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmIGUua2V5Q29kZSAhPT0gMzIpIHJldHVybjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBpZiAoc3dpcGVyLnBhZ2luYXRpb24gJiYgc3dpcGVyLnBhZ2luYXRpb24uZWwgJiYgKHRhcmdldEVsID09PSBzd2lwZXIucGFnaW5hdGlvbi5lbCB8fCBzd2lwZXIucGFnaW5hdGlvbi5lbC5jb250YWlucyhlLnRhcmdldCkpKSB7XG4gICAgICBpZiAoIWUudGFyZ2V0Lm1hdGNoZXMoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSkpIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNFbmQgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5pc0VuZCkge1xuICAgICAgICBub3RpZnkocGFyYW1zLmxhc3RTbGlkZU1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm90aWZ5KHBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN3aXBlci5uYXZpZ2F0aW9uICYmIHN3aXBlci5uYXZpZ2F0aW9uLnByZXZFbCAmJiB0YXJnZXRFbCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKSB7XG4gICAgICBpZiAoIShzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMubG9vcCkpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5pc0JlZ2lubmluZykge1xuICAgICAgICBub3RpZnkocGFyYW1zLmZpcnN0U2xpZGVNZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vdGlmeShwYXJhbXMucHJldlNsaWRlTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzd2lwZXIucGFnaW5hdGlvbiAmJiB0YXJnZXRFbC5tYXRjaGVzKGNsYXNzZXNUb1NlbGVjdG9yKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpKSB7XG4gICAgICB0YXJnZXRFbC5jbGljaygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uKCkge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQgfHwgIXN3aXBlci5uYXZpZ2F0aW9uKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNCZWdpbm5pbmcpIHtcbiAgICAgICAgZGlzYWJsZUVsKHByZXZFbCk7XG4gICAgICAgIG1ha2VFbE5vdEZvY3VzYWJsZShwcmV2RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5hYmxlRWwocHJldkVsKTtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKHByZXZFbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuZXh0RWwpIHtcbiAgICAgIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgICAgZGlzYWJsZUVsKG5leHRFbCk7XG4gICAgICAgIG1ha2VFbE5vdEZvY3VzYWJsZShuZXh0RWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5hYmxlRWwobmV4dEVsKTtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKG5leHRFbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhc1BhZ2luYXRpb24oKSB7XG4gICAgcmV0dXJuIHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgc3dpcGVyLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGg7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQ2xpY2thYmxlUGFnaW5hdGlvbigpIHtcbiAgICByZXR1cm4gaGFzUGFnaW5hdGlvbigpICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGU7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbigpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgaWYgKCFoYXNQYWdpbmF0aW9uKCkpIHJldHVybjtcbiAgICBzd2lwZXIucGFnaW5hdGlvbi5idWxsZXRzLmZvckVhY2goYnVsbGV0RWwgPT4ge1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUpIHtcbiAgICAgICAgbWFrZUVsRm9jdXNhYmxlKGJ1bGxldEVsKTtcbiAgICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24ucmVuZGVyQnVsbGV0KSB7XG4gICAgICAgICAgYWRkRWxSb2xlKGJ1bGxldEVsLCAnYnV0dG9uJyk7XG4gICAgICAgICAgYWRkRWxMYWJlbChidWxsZXRFbCwgcGFyYW1zLnBhZ2luYXRpb25CdWxsZXRNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9LywgZWxlbWVudEluZGV4KGJ1bGxldEVsKSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJ1bGxldEVsLm1hdGNoZXMoY2xhc3Nlc1RvU2VsZWN0b3Ioc3dpcGVyLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldEFjdGl2ZUNsYXNzKSkpIHtcbiAgICAgICAgYnVsbGV0RWwuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVsbGV0RWwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBpbml0TmF2RWwgPSAoZWwsIHdyYXBwZXJJZCwgbWVzc2FnZSkgPT4ge1xuICAgIG1ha2VFbEZvY3VzYWJsZShlbCk7XG4gICAgaWYgKGVsLnRhZ05hbWUgIT09ICdCVVRUT04nKSB7XG4gICAgICBhZGRFbFJvbGUoZWwsICdidXR0b24nKTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgfVxuICAgIGFkZEVsTGFiZWwoZWwsIG1lc3NhZ2UpO1xuICAgIGFkZEVsQ29udHJvbHMoZWwsIHdyYXBwZXJJZCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKCkgPT4ge1xuICAgIHN3aXBlci5hMTF5LmNsaWNrZWQgPSB0cnVlO1xuICB9O1xuICBjb25zdCBoYW5kbGVQb2ludGVyVXAgPSAoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkge1xuICAgICAgICAgIHN3aXBlci5hMTF5LmNsaWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gZSA9PiB7XG4gICAgaWYgKHN3aXBlci5hMTF5LmNsaWNrZWQpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZUVsID0gZS50YXJnZXQuY2xvc2VzdChgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgaWYgKCFzbGlkZUVsIHx8ICFzd2lwZXIuc2xpZGVzLmluY2x1ZGVzKHNsaWRlRWwpKSByZXR1cm47XG4gICAgY29uc3QgaXNBY3RpdmUgPSBzd2lwZXIuc2xpZGVzLmluZGV4T2Yoc2xpZGVFbCkgPT09IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICBjb25zdCBpc1Zpc2libGUgPSBzd2lwZXIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgJiYgc3dpcGVyLnZpc2libGVTbGlkZXMgJiYgc3dpcGVyLnZpc2libGVTbGlkZXMuaW5jbHVkZXMoc2xpZGVFbCk7XG4gICAgaWYgKGlzQWN0aXZlIHx8IGlzVmlzaWJsZSkgcmV0dXJuO1xuICAgIGlmIChlLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBlLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgc3dpcGVyLmVsLnNjcm9sbExlZnQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuZWwuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnNsaWRlcy5pbmRleE9mKHNsaWRlRWwpLCAwKTtcbiAgfTtcbiAgY29uc3QgaW5pdFNsaWRlcyA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmExMXk7XG4gICAgaWYgKHBhcmFtcy5pdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZSkge1xuICAgICAgYWRkRWxSb2xlRGVzY3JpcHRpb24oc3dpcGVyLnNsaWRlcywgcGFyYW1zLml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5zbGlkZVJvbGUpIHtcbiAgICAgIGFkZEVsUm9sZShzd2lwZXIuc2xpZGVzLCBwYXJhbXMuc2xpZGVSb2xlKTtcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVzTGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gICAgaWYgKHBhcmFtcy5zbGlkZUxhYmVsTWVzc2FnZSkge1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZUVsLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnBhcmFtcy5sb29wID8gcGFyc2VJbnQoc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKSA6IGluZGV4O1xuICAgICAgICBjb25zdCBhcmlhTGFiZWxNZXNzYWdlID0gcGFyYW1zLnNsaWRlTGFiZWxNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9Lywgc2xpZGVJbmRleCArIDEpLnJlcGxhY2UoL1xce1xce3NsaWRlc0xlbmd0aFxcfVxcfS8sIHNsaWRlc0xlbmd0aCk7XG4gICAgICAgIGFkZEVsTGFiZWwoc2xpZGVFbCwgYXJpYUxhYmVsTWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5hMTF5O1xuICAgIHN3aXBlci5lbC5hcHBlbmQobGl2ZVJlZ2lvbik7XG5cbiAgICAvLyBDb250YWluZXJcbiAgICBjb25zdCBjb250YWluZXJFbCA9IHN3aXBlci5lbDtcbiAgICBpZiAocGFyYW1zLmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpIHtcbiAgICAgIGFkZEVsUm9sZURlc2NyaXB0aW9uKGNvbnRhaW5lckVsLCBwYXJhbXMuY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZSk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuY29udGFpbmVyTWVzc2FnZSkge1xuICAgICAgYWRkRWxMYWJlbChjb250YWluZXJFbCwgcGFyYW1zLmNvbnRhaW5lck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8vIFdyYXBwZXJcbiAgICBjb25zdCB3cmFwcGVyRWwgPSBzd2lwZXIud3JhcHBlckVsO1xuICAgIGNvbnN0IHdyYXBwZXJJZCA9IHBhcmFtcy5pZCB8fCB3cmFwcGVyRWwuZ2V0QXR0cmlidXRlKCdpZCcpIHx8IGBzd2lwZXItd3JhcHBlci0ke2dldFJhbmRvbU51bWJlcigxNil9YDtcbiAgICBjb25zdCBsaXZlID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheSAmJiBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQgPyAnb2ZmJyA6ICdwb2xpdGUnO1xuICAgIGFkZEVsSWQod3JhcHBlckVsLCB3cmFwcGVySWQpO1xuICAgIGFkZEVsTGl2ZSh3cmFwcGVyRWwsIGxpdmUpO1xuXG4gICAgLy8gU2xpZGVcbiAgICBpbml0U2xpZGVzKCk7XG5cbiAgICAvLyBOYXZpZ2F0aW9uXG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbiA/IHN3aXBlci5uYXZpZ2F0aW9uIDoge307XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGlmIChuZXh0RWwpIHtcbiAgICAgIG5leHRFbC5mb3JFYWNoKGVsID0+IGluaXROYXZFbChlbCwgd3JhcHBlcklkLCBwYXJhbXMubmV4dFNsaWRlTWVzc2FnZSkpO1xuICAgIH1cbiAgICBpZiAocHJldkVsKSB7XG4gICAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBpbml0TmF2RWwoZWwsIHdyYXBwZXJJZCwgcGFyYW1zLnByZXZTbGlkZU1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICAvLyBQYWdpbmF0aW9uXG4gICAgaWYgKGhhc0NsaWNrYWJsZVBhZ2luYXRpb24oKSkge1xuICAgICAgY29uc3QgcGFnaW5hdGlvbkVsID0gbWFrZUVsZW1lbnRzQXJyYXkoc3dpcGVyLnBhZ2luYXRpb24uZWwpO1xuICAgICAgcGFnaW5hdGlvbkVsLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25FbnRlck9yU3BhY2VLZXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGFiIGZvY3VzXG4gICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIHN3aXBlci5lbC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGhhbmRsZVBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwLCB0cnVlKTtcbiAgfTtcbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAobGl2ZVJlZ2lvbikgbGl2ZVJlZ2lvbi5yZW1vdmUoKTtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uID8gc3dpcGVyLm5hdmlnYXRpb24gOiB7fTtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgaWYgKG5leHRFbCkge1xuICAgICAgbmV4dEVsLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRW50ZXJPclNwYWNlS2V5KSk7XG4gICAgfVxuICAgIGlmIChwcmV2RWwpIHtcbiAgICAgIHByZXZFbC5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSkpO1xuICAgIH1cblxuICAgIC8vIFBhZ2luYXRpb25cbiAgICBpZiAoaGFzQ2xpY2thYmxlUGFnaW5hdGlvbigpKSB7XG4gICAgICBjb25zdCBwYWdpbmF0aW9uRWwgPSBtYWtlRWxlbWVudHNBcnJheShzd2lwZXIucGFnaW5hdGlvbi5lbCk7XG4gICAgICBwYWdpbmF0aW9uRWwuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVudGVyT3JTcGFjZUtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUYWIgZm9jdXNcbiAgICBzd2lwZXIuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBoYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24sIHRydWUpO1xuICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXAsIHRydWUpO1xuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGxpdmVSZWdpb24gPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgc3dpcGVyLnBhcmFtcy5hMTF5Lm5vdGlmaWNhdGlvbkNsYXNzKTtcbiAgICBsaXZlUmVnaW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgIGxpdmVSZWdpb24uc2V0QXR0cmlidXRlKCdhcmlhLWF0b21pYycsICd0cnVlJyk7XG4gIH0pO1xuICBvbignYWZ0ZXJJbml0JywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICBpbml0KCk7XG4gIH0pO1xuICBvbignc2xpZGVzTGVuZ3RoQ2hhbmdlIHNuYXBHcmlkTGVuZ3RoQ2hhbmdlIHNsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGluaXRTbGlkZXMoKTtcbiAgfSk7XG4gIG9uKCdmcm9tRWRnZSB0b0VkZ2UgYWZ0ZXJJbml0IGxvY2sgdW5sb2NrJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hMTF5LmVuYWJsZWQpIHJldHVybjtcbiAgICB1cGRhdGVOYXZpZ2F0aW9uKCk7XG4gIH0pO1xuICBvbigncGFnaW5hdGlvblVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuYTExeS5lbmFibGVkKSByZXR1cm47XG4gICAgdXBkYXRlUGFnaW5hdGlvbigpO1xuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmExMXkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEExMXkgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGEgYXMgZ2V0V2luZG93IH0gZnJvbSAnLi4vc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyc7XG5cbmZ1bmN0aW9uIEhpc3RvcnkoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgaGlzdG9yeToge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICByb290OiAnJyxcbiAgICAgIHJlcGxhY2VTdGF0ZTogZmFsc2UsXG4gICAgICBrZXk6ICdzbGlkZXMnLFxuICAgICAga2VlcFF1ZXJ5OiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBsZXQgcGF0aHMgPSB7fTtcbiAgY29uc3Qgc2x1Z2lmeSA9IHRleHQgPT4ge1xuICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csICcnKS5yZXBsYWNlKC8tLSsvZywgJy0nKS5yZXBsYWNlKC9eLSsvLCAnJykucmVwbGFjZSgvLSskLywgJycpO1xuICB9O1xuICBjb25zdCBnZXRQYXRoVmFsdWVzID0gdXJsT3ZlcnJpZGUgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGxldCBsb2NhdGlvbjtcbiAgICBpZiAodXJsT3ZlcnJpZGUpIHtcbiAgICAgIGxvY2F0aW9uID0gbmV3IFVSTCh1cmxPdmVycmlkZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIH1cbiAgICBjb25zdCBwYXRoQXJyYXkgPSBsb2NhdGlvbi5wYXRobmFtZS5zbGljZSgxKS5zcGxpdCgnLycpLmZpbHRlcihwYXJ0ID0+IHBhcnQgIT09ICcnKTtcbiAgICBjb25zdCB0b3RhbCA9IHBhdGhBcnJheS5sZW5ndGg7XG4gICAgY29uc3Qga2V5ID0gcGF0aEFycmF5W3RvdGFsIC0gMl07XG4gICAgY29uc3QgdmFsdWUgPSBwYXRoQXJyYXlbdG90YWwgLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9O1xuICBjb25zdCBzZXRIaXN0b3J5ID0gKGtleSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgICBpZiAoIWluaXRpYWxpemVkIHx8ICFzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGxldCBsb2NhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy51cmwpIHtcbiAgICAgIGxvY2F0aW9uID0gbmV3IFVSTChzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXNbaW5kZXhdO1xuICAgIGxldCB2YWx1ZSA9IHNsdWdpZnkoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhpc3RvcnknKSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yb290Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCByb290ID0gc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJvb3Q7XG4gICAgICBpZiAocm9vdFtyb290Lmxlbmd0aCAtIDFdID09PSAnLycpIHJvb3QgPSByb290LnNsaWNlKDAsIHJvb3QubGVuZ3RoIC0gMSk7XG4gICAgICB2YWx1ZSA9IGAke3Jvb3R9LyR7a2V5ID8gYCR7a2V5fS9gIDogJyd9JHt2YWx1ZX1gO1xuICAgIH0gZWxzZSBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHZhbHVlID0gYCR7a2V5ID8gYCR7a2V5fS9gIDogJyd9JHt2YWx1ZX1gO1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtlZXBRdWVyeSkge1xuICAgICAgdmFsdWUgKz0gbG9jYXRpb24uc2VhcmNoO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZTtcbiAgICBpZiAoY3VycmVudFN0YXRlICYmIGN1cnJlbnRTdGF0ZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgIHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgIHZhbHVlXG4gICAgICB9LCBudWxsLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzY3JvbGxUb1NsaWRlID0gKHNwZWVkLCB2YWx1ZSwgcnVuQ2FsbGJhY2tzKSA9PiB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgICAgIGNvbnN0IHNsaWRlSGlzdG9yeSA9IHNsdWdpZnkoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhpc3RvcnknKSk7XG4gICAgICAgIGlmIChzbGlkZUhpc3RvcnkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChzbGlkZSk7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKDAsIHNwZWVkLCBydW5DYWxsYmFja3MpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0SGlzdG9yeVBvcFN0YXRlID0gKCkgPT4ge1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgc2Nyb2xsVG9TbGlkZShzd2lwZXIucGFyYW1zLnNwZWVkLCBwYXRocy52YWx1ZSwgZmFsc2UpO1xuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5KSByZXR1cm47XG4gICAgaWYgKCF3aW5kb3cuaGlzdG9yeSB8fCAhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7XG4gICAgICBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHBhdGhzID0gZ2V0UGF0aFZhbHVlcyhzd2lwZXIucGFyYW1zLnVybCk7XG4gICAgaWYgKCFwYXRocy5rZXkgJiYgIXBhdGhzLnZhbHVlKSB7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2Nyb2xsVG9TbGlkZSgwLCBwYXRocy52YWx1ZSwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgc2V0SGlzdG9yeVBvcFN0YXRlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBzZXRIaXN0b3J5UG9wU3RhdGUpO1xuICAgIH1cbiAgfTtcbiAgb24oJ2luaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSB7XG4gICAgICBkZXN0cm95KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICBzZXRIaXN0b3J5KHN3aXBlci5wYXJhbXMuaGlzdG9yeS5rZXksIHN3aXBlci5hY3RpdmVJbmRleCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlQ2hhbmdlJywgKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgIHNldEhpc3Rvcnkoc3dpcGVyLnBhcmFtcy5oaXN0b3J5LmtleSwgc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBIaXN0b3J5IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBnIGFzIGdldERvY3VtZW50LCBhIGFzIGdldFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC9zc3Itd2luZG93LmVzbS5tanMnO1xuaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gSGFzaE5hdmlnYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgZW1pdCxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgaGFzaE5hdmlnYXRpb246IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVwbGFjZVN0YXRlOiBmYWxzZSxcbiAgICAgIHdhdGNoU3RhdGU6IGZhbHNlLFxuICAgICAgZ2V0U2xpZGVJbmRleChfcywgaGFzaCkge1xuICAgICAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZVdpdGhIYXNoID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1oYXNoJykgPT09IGhhc2gpWzBdO1xuICAgICAgICAgIGlmICghc2xpZGVXaXRoSGFzaCkgcmV0dXJuIDA7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzbGlkZVdpdGhIYXNoLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWxlbWVudENoaWxkcmVuKHN3aXBlci5zbGlkZXNFbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31bZGF0YS1oYXNoPVwiJHtoYXNofVwiXSwgc3dpcGVyLXNsaWRlW2RhdGEtaGFzaD1cIiR7aGFzaH1cIl1gKVswXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgb25IYXNoQ2hhbmdlID0gKCkgPT4ge1xuICAgIGVtaXQoJ2hhc2hDaGFuZ2UnKTtcbiAgICBjb25zdCBuZXdIYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIGNvbnN0IGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci5zbGlkZXNFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3N3aXBlci5hY3RpdmVJbmRleH1cIl1gKSA6IHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICBjb25zdCBhY3RpdmVTbGlkZUhhc2ggPSBhY3RpdmVTbGlkZUVsID8gYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzaCcpIDogJyc7XG4gICAgaWYgKG5ld0hhc2ggIT09IGFjdGl2ZVNsaWRlSGFzaCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBzd2lwZXIucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmdldFNsaWRlSW5kZXgoc3dpcGVyLCBuZXdIYXNoKTtcbiAgICAgIGlmICh0eXBlb2YgbmV3SW5kZXggPT09ICd1bmRlZmluZWQnIHx8IE51bWJlci5pc05hTihuZXdJbmRleCkpIHJldHVybjtcbiAgICAgIHN3aXBlci5zbGlkZVRvKG5ld0luZGV4KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldEhhc2ggPSAoKSA9PiB7XG4gICAgaWYgKCFpbml0aWFsaXplZCB8fCAhc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlU2xpZGVFbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnNsaWRlc0VsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLmFjdGl2ZUluZGV4fVwiXWApIDogc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgIGNvbnN0IGFjdGl2ZVNsaWRlSGFzaCA9IGFjdGl2ZVNsaWRlRWwgPyBhY3RpdmVTbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1oYXNoJykgfHwgYWN0aXZlU2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGlzdG9yeScpIDogJyc7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ucmVwbGFjZVN0YXRlICYmIHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIGAjJHthY3RpdmVTbGlkZUhhc2h9YCB8fCAnJyk7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBhY3RpdmVTbGlkZUhhc2ggfHwgJyc7XG4gICAgICBlbWl0KCdoYXNoU2V0Jyk7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkIHx8IHN3aXBlci5wYXJhbXMuaGlzdG9yeSAmJiBzd2lwZXIucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgcmV0dXJuO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBoYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgIGlmIChoYXNoKSB7XG4gICAgICBjb25zdCBzcGVlZCA9IDA7XG4gICAgICBjb25zdCBpbmRleCA9IHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZ2V0U2xpZGVJbmRleChzd2lwZXIsIGhhc2gpO1xuICAgICAgc3dpcGVyLnNsaWRlVG8oaW5kZXggfHwgMCwgc3BlZWQsIHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBvbkhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi53YXRjaFN0YXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIG9uSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkKSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgc2V0SGFzaCgpO1xuICAgIH1cbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQgJiYgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzZXRIYXNoKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IHsgSGFzaE5hdmlnYXRpb24gYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcblxuLyogZXNsaW50IG5vLXVuZGVyc2NvcmUtZGFuZ2xlOiBcIm9mZlwiICovXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IFwib2ZmXCIgKi9cbmZ1bmN0aW9uIEF1dG9wbGF5KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uLFxuICAgIGVtaXQsXG4gICAgcGFyYW1zXG4gIH0gPSBfcmVmO1xuICBzd2lwZXIuYXV0b3BsYXkgPSB7XG4gICAgcnVubmluZzogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICB0aW1lTGVmdDogMFxuICB9O1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGF1dG9wbGF5OiB7XG4gICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgIGRlbGF5OiAzMDAwLFxuICAgICAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICBzdG9wT25MYXN0U2xpZGU6IGZhbHNlLFxuICAgICAgcmV2ZXJzZURpcmVjdGlvbjogZmFsc2UsXG4gICAgICBwYXVzZU9uTW91c2VFbnRlcjogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IHJhZjtcbiAgbGV0IGF1dG9wbGF5RGVsYXlUb3RhbCA9IHBhcmFtcyAmJiBwYXJhbXMuYXV0b3BsYXkgPyBwYXJhbXMuYXV0b3BsYXkuZGVsYXkgOiAzMDAwO1xuICBsZXQgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBwYXJhbXMgJiYgcGFyYW1zLmF1dG9wbGF5ID8gcGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogMzAwMDtcbiAgbGV0IGF1dG9wbGF5VGltZUxlZnQ7XG4gIGxldCBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBsZXQgd2FzUGF1c2VkO1xuICBsZXQgaXNUb3VjaGVkO1xuICBsZXQgcGF1c2VkQnlUb3VjaDtcbiAgbGV0IHRvdWNoU3RhcnRUaW1lb3V0O1xuICBsZXQgc2xpZGVDaGFuZ2VkO1xuICBsZXQgcGF1c2VkQnlJbnRlcmFjdGlvbjtcbiAgbGV0IHBhdXNlZEJ5UG9pbnRlckVudGVyO1xuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoZSkge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBpZiAoZS50YXJnZXQgIT09IHN3aXBlci53cmFwcGVyRWwpIHJldHVybjtcbiAgICBzd2lwZXIud3JhcHBlckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQpO1xuICAgIGlmIChwYXVzZWRCeVBvaW50ZXJFbnRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXN1bWUoKTtcbiAgfVxuICBjb25zdCBjYWxjVGltZUxlZnQgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgIHdhc1BhdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh3YXNQYXVzZWQpIHtcbiAgICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gYXV0b3BsYXlUaW1lTGVmdDtcbiAgICAgIHdhc1BhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0aW1lTGVmdCA9IHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPyBhdXRvcGxheVRpbWVMZWZ0IDogYXV0b3BsYXlTdGFydFRpbWUgKyBhdXRvcGxheURlbGF5Q3VycmVudCAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS50aW1lTGVmdCA9IHRpbWVMZWZ0O1xuICAgIGVtaXQoJ2F1dG9wbGF5VGltZUxlZnQnLCB0aW1lTGVmdCwgdGltZUxlZnQgLyBhdXRvcGxheURlbGF5VG90YWwpO1xuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBjYWxjVGltZUxlZnQoKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0U2xpZGVEZWxheSA9ICgpID0+IHtcbiAgICBsZXQgYWN0aXZlU2xpZGVFbDtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIGFjdGl2ZVNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtYWN0aXZlJykpWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoIWFjdGl2ZVNsaWRlRWwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY3VycmVudFNsaWRlRGVsYXkgPSBwYXJzZUludChhY3RpdmVTbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItYXV0b3BsYXknKSwgMTApO1xuICAgIHJldHVybiBjdXJyZW50U2xpZGVEZWxheTtcbiAgfTtcbiAgY29uc3QgcnVuID0gZGVsYXlGb3JjZSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBjYWxjVGltZUxlZnQoKTtcbiAgICBsZXQgZGVsYXkgPSB0eXBlb2YgZGVsYXlGb3JjZSA9PT0gJ3VuZGVmaW5lZCcgPyBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5IDogZGVsYXlGb3JjZTtcbiAgICBhdXRvcGxheURlbGF5VG90YWwgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5RGVsYXlDdXJyZW50ID0gc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kZWxheTtcbiAgICBjb25zdCBjdXJyZW50U2xpZGVEZWxheSA9IGdldFNsaWRlRGVsYXkoKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihjdXJyZW50U2xpZGVEZWxheSkgJiYgY3VycmVudFNsaWRlRGVsYXkgPiAwICYmIHR5cGVvZiBkZWxheUZvcmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVsYXkgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICAgIGF1dG9wbGF5RGVsYXlUb3RhbCA9IGN1cnJlbnRTbGlkZURlbGF5O1xuICAgICAgYXV0b3BsYXlEZWxheUN1cnJlbnQgPSBjdXJyZW50U2xpZGVEZWxheTtcbiAgICB9XG4gICAgYXV0b3BsYXlUaW1lTGVmdCA9IGRlbGF5O1xuICAgIGNvbnN0IHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbikge1xuICAgICAgICBpZiAoIXN3aXBlci5pc0JlZ2lubmluZyB8fCBzd2lwZXIucGFyYW1zLmxvb3AgfHwgc3dpcGVyLnBhcmFtcy5yZXdpbmQpIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVQcmV2KHNwZWVkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBlbWl0KCdhdXRvcGxheScpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc3dpcGVyLmlzRW5kIHx8IHN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIucGFyYW1zLnJld2luZCkge1xuICAgICAgICAgIHN3aXBlci5zbGlkZU5leHQoc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuc3RvcE9uTGFzdFNsaWRlKSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIGVtaXQoJ2F1dG9wbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgYXV0b3BsYXlTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBydW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHByb2NlZWQoKTtcbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcHJvY2VlZCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgcmV0dXJuIGRlbGF5O1xuICB9O1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBhdXRvcGxheVN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nID0gdHJ1ZTtcbiAgICBydW4oKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0YXJ0Jyk7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICBlbWl0KCdhdXRvcGxheVN0b3AnKTtcbiAgfTtcbiAgY29uc3QgcGF1c2UgPSAoaW50ZXJuYWwsIHJlc2V0KSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIGlmICghaW50ZXJuYWwpIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBwcm9jZWVkID0gKCkgPT4ge1xuICAgICAgZW1pdCgnYXV0b3BsYXlQYXVzZScpO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24pIHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VtZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgc3dpcGVyLmF1dG9wbGF5LnBhdXNlZCA9IHRydWU7XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBpZiAoc2xpZGVDaGFuZ2VkKSB7XG4gICAgICAgIGF1dG9wbGF5VGltZUxlZnQgPSBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgICAgfVxuICAgICAgc2xpZGVDaGFuZ2VkID0gZmFsc2U7XG4gICAgICBwcm9jZWVkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlbGF5ID0gYXV0b3BsYXlUaW1lTGVmdCB8fCBzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmRlbGF5O1xuICAgIGF1dG9wbGF5VGltZUxlZnQgPSBkZWxheSAtIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGF1dG9wbGF5U3RhcnRUaW1lKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmIGF1dG9wbGF5VGltZUxlZnQgPCAwICYmICFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgICBpZiAoYXV0b3BsYXlUaW1lTGVmdCA8IDApIGF1dG9wbGF5VGltZUxlZnQgPSAwO1xuICAgIHByb2NlZWQoKTtcbiAgfTtcbiAgY29uc3QgcmVzdW1lID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuaXNFbmQgJiYgYXV0b3BsYXlUaW1lTGVmdCA8IDAgJiYgIXN3aXBlci5wYXJhbXMubG9vcCB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZykgcmV0dXJuO1xuICAgIGF1dG9wbGF5U3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHBhdXNlZEJ5SW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICAgIHJ1bihhdXRvcGxheVRpbWVMZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcnVuKCk7XG4gICAgfVxuICAgIHN3aXBlci5hdXRvcGxheS5wYXVzZWQgPSBmYWxzZTtcbiAgICBlbWl0KCdhdXRvcGxheVJlc3VtZScpO1xuICB9O1xuICBjb25zdCBvblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSByZXR1cm47XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICAgIHBhdXNlKHRydWUpO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgIHJlc3VtZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25Qb2ludGVyRW50ZXIgPSBlID0+IHtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJykgcmV0dXJuO1xuICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgIHBhdXNlZEJ5UG9pbnRlckVudGVyID0gdHJ1ZTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZyB8fCBzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSByZXR1cm47XG4gICAgcGF1c2UodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IG9uUG9pbnRlckxlYXZlID0gZSA9PiB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHJldHVybjtcbiAgICBwYXVzZWRCeVBvaW50ZXJFbnRlciA9IGZhbHNlO1xuICAgIGlmIChzd2lwZXIuYXV0b3BsYXkucGF1c2VkKSB7XG4gICAgICByZXN1bWUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGF0dGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LnBhdXNlT25Nb3VzZUVudGVyKSB7XG4gICAgICBzd2lwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgb25Qb2ludGVyRW50ZXIpO1xuICAgICAgc3dpcGVyLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRldGFjaE1vdXNlRXZlbnRzID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCBvblBvaW50ZXJFbnRlcik7XG4gICAgc3dpcGVyLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIG9uUG9pbnRlckxlYXZlKTtcbiAgfTtcbiAgY29uc3QgYXR0YWNoRG9jdW1lbnRFdmVudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICB9O1xuICBjb25zdCBkZXRhY2hEb2N1bWVudEV2ZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQpIHtcbiAgICAgIGF0dGFjaE1vdXNlRXZlbnRzKCk7XG4gICAgICBhdHRhY2hEb2N1bWVudEV2ZW50cygpO1xuICAgICAgc3RhcnQoKTtcbiAgICB9XG4gIH0pO1xuICBvbignZGVzdHJveScsICgpID0+IHtcbiAgICBkZXRhY2hNb3VzZUV2ZW50cygpO1xuICAgIGRldGFjaERvY3VtZW50RXZlbnRzKCk7XG4gICAgaWYgKHN3aXBlci5hdXRvcGxheS5ydW5uaW5nKSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZVN0YXRpY1JlbGVhc2UnLCAoKSA9PiB7XG4gICAgaWYgKHBhdXNlZEJ5VG91Y2ggfHwgcGF1c2VkQnlJbnRlcmFjdGlvbikge1xuICAgICAgcmVzdW1lKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJywgKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgcGF1c2UodHJ1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH0pO1xuICBvbignYmVmb3JlVHJhbnNpdGlvblN0YXJ0JywgKF9zLCBzcGVlZCwgaW50ZXJuYWwpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoaW50ZXJuYWwgfHwgIXN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlKHRydWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3NsaWRlckZpcnN0TW92ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbikge1xuICAgICAgc3RvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc1RvdWNoZWQgPSB0cnVlO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBwYXVzZWRCeUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgdG91Y2hTdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBhdXNlZEJ5SW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgcGF1c2VkQnlUb3VjaCA9IHRydWU7XG4gICAgICBwYXVzZSh0cnVlKTtcbiAgICB9LCAyMDApO1xuICB9KTtcbiAgb24oJ3RvdWNoRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIuYXV0b3BsYXkucnVubmluZyB8fCAhaXNUb3VjaGVkKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRvdWNoU3RhcnRUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24pIHtcbiAgICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICAgIGlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGF1c2VkQnlUb3VjaCAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJlc3VtZSgpO1xuICAgIHBhdXNlZEJ5VG91Y2ggPSBmYWxzZTtcbiAgICBpc1RvdWNoZWQgPSBmYWxzZTtcbiAgfSk7XG4gIG9uKCdzbGlkZUNoYW5nZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmF1dG9wbGF5LnJ1bm5pbmcpIHJldHVybjtcbiAgICBzbGlkZUNoYW5nZWQgPSB0cnVlO1xuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIuYXV0b3BsYXksIHtcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgQXV0b3BsYXkgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGcgYXMgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi9zaGFyZWQvc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGsgYXMgaXNPYmplY3QsIGUgYXMgZWxlbWVudENoaWxkcmVuIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIFRodW1iKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIHRodW1iczoge1xuICAgICAgc3dpcGVyOiBudWxsLFxuICAgICAgbXVsdGlwbGVBY3RpdmVUaHVtYnM6IHRydWUsXG4gICAgICBhdXRvU2Nyb2xsT2Zmc2V0OiAwLFxuICAgICAgc2xpZGVUaHVtYkFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLXRodW1iLWFjdGl2ZScsXG4gICAgICB0aHVtYnNDb250YWluZXJDbGFzczogJ3N3aXBlci10aHVtYnMnXG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBzd2lwZXJDcmVhdGVkID0gZmFsc2U7XG4gIHN3aXBlci50aHVtYnMgPSB7XG4gICAgc3dpcGVyOiBudWxsXG4gIH07XG4gIGZ1bmN0aW9uIG9uVGh1bWJDbGljaygpIHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3QgY2xpY2tlZEluZGV4ID0gdGh1bWJzU3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICBjb25zdCBjbGlja2VkU2xpZGUgPSB0aHVtYnNTd2lwZXIuY2xpY2tlZFNsaWRlO1xuICAgIGlmIChjbGlja2VkU2xpZGUgJiYgY2xpY2tlZFNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhzd2lwZXIucGFyYW1zLnRodW1icy5zbGlkZVRodW1iQWN0aXZlQ2xhc3MpKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBjbGlja2VkSW5kZXggPT09ICd1bmRlZmluZWQnIHx8IGNsaWNrZWRJbmRleCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCBzbGlkZVRvSW5kZXg7XG4gICAgaWYgKHRodW1ic1N3aXBlci5wYXJhbXMubG9vcCkge1xuICAgICAgc2xpZGVUb0luZGV4ID0gcGFyc2VJbnQodGh1bWJzU3dpcGVyLmNsaWNrZWRTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVUb0luZGV4ID0gY2xpY2tlZEluZGV4O1xuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0xvb3Aoc2xpZGVUb0luZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc2xpZGVUb0luZGV4KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCB7XG4gICAgICB0aHVtYnM6IHRodW1ic1BhcmFtc1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmIChpbml0aWFsaXplZCkgcmV0dXJuIGZhbHNlO1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBTd2lwZXJDbGFzcyA9IHN3aXBlci5jb25zdHJ1Y3RvcjtcbiAgICBpZiAodGh1bWJzUGFyYW1zLnN3aXBlciBpbnN0YW5jZW9mIFN3aXBlckNsYXNzKSB7XG4gICAgICBzd2lwZXIudGh1bWJzLnN3aXBlciA9IHRodW1ic1BhcmFtcy5zd2lwZXI7XG4gICAgICBPYmplY3QuYXNzaWduKHN3aXBlci50aHVtYnMuc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnRodW1icy5zd2lwZXIucGFyYW1zLCB7XG4gICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci50aHVtYnMuc3dpcGVyLnVwZGF0ZSgpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodGh1bWJzUGFyYW1zLnN3aXBlcikpIHtcbiAgICAgIGNvbnN0IHRodW1ic1N3aXBlclBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRodW1ic1BhcmFtcy5zd2lwZXIpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aHVtYnNTd2lwZXJQYXJhbXMsIHtcbiAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgc3dpcGVyLnRodW1icy5zd2lwZXIgPSBuZXcgU3dpcGVyQ2xhc3ModGh1bWJzU3dpcGVyUGFyYW1zKTtcbiAgICAgIHN3aXBlckNyZWF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzd2lwZXIudGh1bWJzLnN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKHN3aXBlci5wYXJhbXMudGh1bWJzLnRodW1ic0NvbnRhaW5lckNsYXNzKTtcbiAgICBzd2lwZXIudGh1bWJzLnN3aXBlci5vbigndGFwJywgb25UaHVtYkNsaWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoaW5pdGlhbCkge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gdGh1bWJzU3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyB0aHVtYnNTd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHRodW1ic1N3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcblxuICAgIC8vIEFjdGl2YXRlIHRodW1ic1xuICAgIGxldCB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICBjb25zdCB0aHVtYkFjdGl2ZUNsYXNzID0gc3dpcGVyLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzO1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxICYmICFzd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIH1cbiAgICBpZiAoIXN3aXBlci5wYXJhbXMudGh1bWJzLm11bHRpcGxlQWN0aXZlVGh1bWJzKSB7XG4gICAgICB0aHVtYnNUb0FjdGl2YXRlID0gMTtcbiAgICB9XG4gICAgdGh1bWJzVG9BY3RpdmF0ZSA9IE1hdGguZmxvb3IodGh1bWJzVG9BY3RpdmF0ZSk7XG4gICAgdGh1bWJzU3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4gc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHRodW1iQWN0aXZlQ2xhc3MpKTtcbiAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wIHx8IHRodW1ic1N3aXBlci5wYXJhbXMudmlydHVhbCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aHVtYnNUb0FjdGl2YXRlOyBpICs9IDEpIHtcbiAgICAgICAgZWxlbWVudENoaWxkcmVuKHRodW1ic1N3aXBlci5zbGlkZXNFbCwgYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7c3dpcGVyLnJlYWxJbmRleCArIGl9XCJdYCkuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgICBzbGlkZUVsLmNsYXNzTGlzdC5hZGQodGh1bWJBY3RpdmVDbGFzcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRodW1ic1RvQWN0aXZhdGU7IGkgKz0gMSkge1xuICAgICAgICBpZiAodGh1bWJzU3dpcGVyLnNsaWRlc1tzd2lwZXIucmVhbEluZGV4ICsgaV0pIHtcbiAgICAgICAgICB0aHVtYnNTd2lwZXIuc2xpZGVzW3N3aXBlci5yZWFsSW5kZXggKyBpXS5jbGFzc0xpc3QuYWRkKHRodW1iQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGF1dG9TY3JvbGxPZmZzZXQgPSBzd2lwZXIucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0O1xuICAgIGNvbnN0IHVzZU9mZnNldCA9IGF1dG9TY3JvbGxPZmZzZXQgJiYgIXRodW1ic1N3aXBlci5wYXJhbXMubG9vcDtcbiAgICBpZiAoc3dpcGVyLnJlYWxJbmRleCAhPT0gdGh1bWJzU3dpcGVyLnJlYWxJbmRleCB8fCB1c2VPZmZzZXQpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaHVtYnNJbmRleCA9IHRodW1ic1N3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgIGxldCBuZXdUaHVtYnNJbmRleDtcbiAgICAgIGxldCBkaXJlY3Rpb247XG4gICAgICBpZiAodGh1bWJzU3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICAgIGNvbnN0IG5ld1RodW1ic1NsaWRlID0gdGh1bWJzU3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSA9PT0gYCR7c3dpcGVyLnJlYWxJbmRleH1gKVswXTtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggPSB0aHVtYnNTd2lwZXIuc2xpZGVzLmluZGV4T2YobmV3VGh1bWJzU2xpZGUpO1xuICAgICAgICBkaXJlY3Rpb24gPSBzd2lwZXIuYWN0aXZlSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RodW1ic0luZGV4ID0gc3dpcGVyLnJlYWxJbmRleDtcbiAgICAgICAgZGlyZWN0aW9uID0gbmV3VGh1bWJzSW5kZXggPiBzd2lwZXIucHJldmlvdXNJbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgIH1cbiAgICAgIGlmICh1c2VPZmZzZXQpIHtcbiAgICAgICAgbmV3VGh1bWJzSW5kZXggKz0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyBhdXRvU2Nyb2xsT2Zmc2V0IDogLTEgKiBhdXRvU2Nyb2xsT2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKHRodW1ic1N3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyAmJiB0aHVtYnNTd2lwZXIudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihuZXdUaHVtYnNJbmRleCkgPCAwKSB7XG4gICAgICAgIGlmICh0aHVtYnNTd2lwZXIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICAgICAgaWYgKG5ld1RodW1ic0luZGV4ID4gY3VycmVudFRodW1ic0luZGV4KSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4IC0gTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUaHVtYnNJbmRleCA9IG5ld1RodW1ic0luZGV4ICsgTWF0aC5mbG9vcihzbGlkZXNQZXJWaWV3IC8gMikgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuZXdUaHVtYnNJbmRleCA+IGN1cnJlbnRUaHVtYnNJbmRleCAmJiB0aHVtYnNTd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAxKSA7XG4gICAgICAgIHRodW1ic1N3aXBlci5zbGlkZVRvKG5ld1RodW1ic0luZGV4LCBpbml0aWFsID8gMCA6IHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHRodW1ic1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGlmICghdGh1bWJzIHx8ICF0aHVtYnMuc3dpcGVyKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiB0aHVtYnMuc3dpcGVyID09PSAnc3RyaW5nJyB8fCB0aHVtYnMuc3dpcGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgIGNvbnN0IGdldFRodW1ic0VsZW1lbnRBbmRJbml0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0aHVtYnNFbGVtZW50ID0gdHlwZW9mIHRodW1icy5zd2lwZXIgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aHVtYnMuc3dpcGVyKSA6IHRodW1icy5zd2lwZXI7XG4gICAgICAgIGlmICh0aHVtYnNFbGVtZW50ICYmIHRodW1ic0VsZW1lbnQuc3dpcGVyKSB7XG4gICAgICAgICAgdGh1bWJzLnN3aXBlciA9IHRodW1ic0VsZW1lbnQuc3dpcGVyO1xuICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGh1bWJzRWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IG9uVGh1bWJzU3dpcGVyID0gZSA9PiB7XG4gICAgICAgICAgICB0aHVtYnMuc3dpcGVyID0gZS5kZXRhaWxbMF07XG4gICAgICAgICAgICB0aHVtYnNFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2luaXQnLCBvblRodW1ic1N3aXBlcik7XG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICB0aHVtYnMuc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgc3dpcGVyLnVwZGF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGh1bWJzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbml0Jywgb25UaHVtYnNTd2lwZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aHVtYnNFbGVtZW50O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHdhdGNoRm9yVGh1bWJzVG9BcHBlYXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRodW1ic0VsZW1lbnQgPSBnZXRUaHVtYnNFbGVtZW50QW5kSW5pdCgpO1xuICAgICAgICBpZiAoIXRodW1ic0VsZW1lbnQpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2F0Y2hGb3JUaHVtYnNUb0FwcGVhcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2F0Y2hGb3JUaHVtYnNUb0FwcGVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICAgIHVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gIH0pO1xuICBvbignc2xpZGVDaGFuZ2UgdXBkYXRlIHJlc2l6ZSBvYnNlcnZlclVwZGF0ZScsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IHRodW1ic1N3aXBlciA9IHN3aXBlci50aHVtYnMuc3dpcGVyO1xuICAgIGlmICghdGh1bWJzU3dpcGVyIHx8IHRodW1ic1N3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICB0aHVtYnNTd2lwZXIuc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbignYmVmb3JlRGVzdHJveScsICgpID0+IHtcbiAgICBjb25zdCB0aHVtYnNTd2lwZXIgPSBzd2lwZXIudGh1bWJzLnN3aXBlcjtcbiAgICBpZiAoIXRodW1ic1N3aXBlciB8fCB0aHVtYnNTd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgaWYgKHN3aXBlckNyZWF0ZWQpIHtcbiAgICAgIHRodW1ic1N3aXBlci5kZXN0cm95KCk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIudGh1bWJzLCB7XG4gICAgaW5pdCxcbiAgICB1cGRhdGVcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFRodW1iIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBkIGFzIG5vdywgaiBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBmcmVlTW9kZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBlbWl0LFxuICAgIG9uY2VcbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgZnJlZU1vZGU6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgbW9tZW50dW06IHRydWUsXG4gICAgICBtb21lbnR1bVJhdGlvOiAxLFxuICAgICAgbW9tZW50dW1Cb3VuY2U6IHRydWUsXG4gICAgICBtb21lbnR1bUJvdW5jZVJhdGlvOiAxLFxuICAgICAgbW9tZW50dW1WZWxvY2l0eVJhdGlvOiAxLFxuICAgICAgc3RpY2t5OiBmYWxzZSxcbiAgICAgIG1pbmltdW1WZWxvY2l0eTogMC4wMlxuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydCgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gICAgY29uc3QgdHJhbnNsYXRlID0gc3dpcGVyLmdldFRyYW5zbGF0ZSgpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnZlbG9jaXRpZXMubGVuZ3RoID0gMDtcbiAgICBzd2lwZXIuZnJlZU1vZGUub25Ub3VjaEVuZCh7XG4gICAgICBjdXJyZW50UG9zOiBzd2lwZXIucnRsID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICAgIGNvbnN0IHtcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YSxcbiAgICAgIHRvdWNoZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIC8vIFZlbG9jaXR5XG4gICAgaWYgKGRhdGEudmVsb2NpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRhdGEudmVsb2NpdGllcy5wdXNoKHtcbiAgICAgICAgcG9zaXRpb246IHRvdWNoZXNbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3N0YXJ0WCcgOiAnc3RhcnRZJ10sXG4gICAgICAgIHRpbWU6IGRhdGEudG91Y2hTdGFydFRpbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRhLnZlbG9jaXRpZXMucHVzaCh7XG4gICAgICBwb3NpdGlvbjogdG91Y2hlc1tzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnY3VycmVudFgnIDogJ2N1cnJlbnRZJ10sXG4gICAgICB0aW1lOiBub3coKVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG9uVG91Y2hFbmQoX3JlZjIpIHtcbiAgICBsZXQge1xuICAgICAgY3VycmVudFBvc1xuICAgIH0gPSBfcmVmMjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgcGFyYW1zLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzbmFwR3JpZCxcbiAgICAgIHRvdWNoRXZlbnRzRGF0YTogZGF0YVxuICAgIH0gPSBzd2lwZXI7XG4gICAgLy8gVGltZSBkaWZmXG4gICAgY29uc3QgdG91Y2hFbmRUaW1lID0gbm93KCk7XG4gICAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuICAgIGlmIChjdXJyZW50UG9zIDwgLXN3aXBlci5taW5UcmFuc2xhdGUoKSkge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQb3MgPiAtc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlcy5sZW5ndGggPCBzbmFwR3JpZC5sZW5ndGgpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc25hcEdyaWQubGVuZ3RoIC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtKSB7XG4gICAgICBpZiAoZGF0YS52ZWxvY2l0aWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgbGFzdE1vdmVFdmVudCA9IGRhdGEudmVsb2NpdGllcy5wb3AoKTtcbiAgICAgICAgY29uc3QgdmVsb2NpdHlFdmVudCA9IGRhdGEudmVsb2NpdGllcy5wb3AoKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBsYXN0TW92ZUV2ZW50LnBvc2l0aW9uIC0gdmVsb2NpdHlFdmVudC5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgdGltZSA9IGxhc3RNb3ZlRXZlbnQudGltZSAtIHZlbG9jaXR5RXZlbnQudGltZTtcbiAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gZGlzdGFuY2UgLyB0aW1lO1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgLz0gMjtcbiAgICAgICAgaWYgKE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgPCBwYXJhbXMuZnJlZU1vZGUubWluaW11bVZlbG9jaXR5KSB7XG4gICAgICAgICAgc3dpcGVyLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBhIGZpbmdlciB0aGVuIHJlbGVhc2VkLlxuICAgICAgICAvLyBUaGVyZSB3b3VsZCBiZSBubyBldmVudHMgd2l0aCBkaXN0YW5jZSB6ZXJvLCBzbyB0aGUgbGFzdCBldmVudCBpcyBzdGFsZS5cbiAgICAgICAgaWYgKHRpbWUgPiAxNTAgfHwgbm93KCkgLSBsYXN0TW92ZUV2ZW50LnRpbWUgPiAzMDApIHtcbiAgICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIudmVsb2NpdHkgPSAwO1xuICAgICAgfVxuICAgICAgc3dpcGVyLnZlbG9jaXR5ICo9IHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bVZlbG9jaXR5UmF0aW87XG4gICAgICBkYXRhLnZlbG9jaXRpZXMubGVuZ3RoID0gMDtcbiAgICAgIGxldCBtb21lbnR1bUR1cmF0aW9uID0gMTAwMCAqIHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bVJhdGlvO1xuICAgICAgY29uc3QgbW9tZW50dW1EaXN0YW5jZSA9IHN3aXBlci52ZWxvY2l0eSAqIG1vbWVudHVtRHVyYXRpb247XG4gICAgICBsZXQgbmV3UG9zaXRpb24gPSBzd2lwZXIudHJhbnNsYXRlICsgbW9tZW50dW1EaXN0YW5jZTtcbiAgICAgIGlmIChydGwpIG5ld1Bvc2l0aW9uID0gLW5ld1Bvc2l0aW9uO1xuICAgICAgbGV0IGRvQm91bmNlID0gZmFsc2U7XG4gICAgICBsZXQgYWZ0ZXJCb3VuY2VQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGJvdW5jZUFtb3VudCA9IE1hdGguYWJzKHN3aXBlci52ZWxvY2l0eSkgKiAyMCAqIHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZVJhdGlvO1xuICAgICAgbGV0IG5lZWRzTG9vcEZpeDtcbiAgICAgIGlmIChuZXdQb3NpdGlvbiA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlKSB7XG4gICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uICsgc3dpcGVyLm1heFRyYW5zbGF0ZSgpIDwgLWJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQm91bmNlUG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobmV3UG9zaXRpb24gPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5mcmVlTW9kZS5tb21lbnR1bUJvdW5jZSkge1xuICAgICAgICAgIGlmIChuZXdQb3NpdGlvbiAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSA+IGJvdW5jZUFtb3VudCkge1xuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgKyBib3VuY2VBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQm91bmNlUG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgICAgZG9Cb3VuY2UgPSB0cnVlO1xuICAgICAgICAgIGRhdGEuYWxsb3dNb21lbnR1bUJvdW5jZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5sb29wICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlcykgbmVlZHNMb29wRml4ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgICBsZXQgbmV4dFNsaWRlO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNuYXBHcmlkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgaWYgKHNuYXBHcmlkW2pdID4gLW5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICBuZXh0U2xpZGUgPSBqO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhzbmFwR3JpZFtuZXh0U2xpZGVdIC0gbmV3UG9zaXRpb24pIDwgTWF0aC5hYnMoc25hcEdyaWRbbmV4dFNsaWRlIC0gMV0gLSBuZXdQb3NpdGlvbikgfHwgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgICBuZXdQb3NpdGlvbiA9IHNuYXBHcmlkW25leHRTbGlkZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UG9zaXRpb24gPSBzbmFwR3JpZFtuZXh0U2xpZGUgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBuZXdQb3NpdGlvbiA9IC1uZXdQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkc0xvb3BGaXgpIHtcbiAgICAgICAgb25jZSgndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICAgICAgICBzd2lwZXIubG9vcEZpeCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEZpeCBkdXJhdGlvblxuICAgICAgaWYgKHN3aXBlci52ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICBpZiAocnRsKSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKCgtbmV3UG9zaXRpb24gLSBzd2lwZXIudHJhbnNsYXRlKSAvIHN3aXBlci52ZWxvY2l0eSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IE1hdGguYWJzKChuZXdQb3NpdGlvbiAtIHN3aXBlci50cmFuc2xhdGUpIC8gc3dpcGVyLnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLnN0aWNreSkge1xuICAgICAgICAgIC8vIElmIGZyZWVNb2RlLnN0aWNreSBpcyBhY3RpdmUgYW5kIHRoZSB1c2VyIGVuZHMgYSBzd2lwZSB3aXRoIGEgc2xvdy12ZWxvY2l0eVxuICAgICAgICAgIC8vIGV2ZW50LCB0aGVuIGR1cmF0aW9ucyBjYW4gYmUgMjArIHNlY29uZHMgdG8gc2xpZGUgb25lIChvciB6ZXJvISkgc2xpZGVzLlxuICAgICAgICAgIC8vIEl0J3MgZWFzeSB0byBzZWUgdGhpcyB3aGVuIHNpbXVsYXRpbmcgdG91Y2ggd2l0aCBtb3VzZSBldmVudHMuIFRvIGZpeCB0aGlzLFxuICAgICAgICAgIC8vIGxpbWl0IHNpbmdsZS1zbGlkZSBzd2lwZXMgdG8gdGhlIGRlZmF1bHQgc2xpZGUgZHVyYXRpb24uIFRoaXMgYWxzbyBoYXMgdGhlXG4gICAgICAgICAgLy8gbmljZSBzaWRlIGVmZmVjdCBvZiBtYXRjaGluZyBzbGlkZSBzcGVlZCBpZiB0aGUgdXNlciBzdG9wcGVkIG1vdmluZyBiZWZvcmVcbiAgICAgICAgICAvLyBsaWZ0aW5nIGZpbmdlciBvciBtb3VzZSB2cy4gbW92aW5nIHNsb3dseSBiZWZvcmUgbGlmdGluZyB0aGUgZmluZ2VyL21vdXNlLlxuICAgICAgICAgIC8vIEZvciBmYXN0ZXIgc3dpcGVzLCBhbHNvIGFwcGx5IGxpbWl0cyAoYWxiZWl0IGhpZ2hlciBvbmVzKS5cbiAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBNYXRoLmFicygocnRsID8gLW5ld1Bvc2l0aW9uIDogbmV3UG9zaXRpb24pIC0gc3dpcGVyLnRyYW5zbGF0ZSk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlU2l6ZSA9IHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLmFjdGl2ZUluZGV4XTtcbiAgICAgICAgICBpZiAobW92ZURpc3RhbmNlIDwgY3VycmVudFNsaWRlU2l6ZSkge1xuICAgICAgICAgICAgbW9tZW50dW1EdXJhdGlvbiA9IHBhcmFtcy5zcGVlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVEaXN0YW5jZSA8IDIgKiBjdXJyZW50U2xpZGVTaXplKSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMS41O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb21lbnR1bUR1cmF0aW9uID0gcGFyYW1zLnNwZWVkICogMi41O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvQ2xvc2VzdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlICYmIGRvQm91bmNlKSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhhZnRlckJvdW5jZVBvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnNldFRyYW5zaXRpb24obW9tZW50dW1EdXJhdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3UG9zaXRpb24pO1xuICAgICAgICBzd2lwZXIudHJhbnNpdGlvblN0YXJ0KHRydWUsIHN3aXBlci5zd2lwZURpcmVjdGlvbik7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZCh3cmFwcGVyRWwsICgpID0+IHtcbiAgICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFkYXRhLmFsbG93TW9tZW50dW1Cb3VuY2UpIHJldHVybjtcbiAgICAgICAgICBlbWl0KCdtb21lbnR1bUJvdW5jZScpO1xuICAgICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHBhcmFtcy5zcGVlZCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKGFmdGVyQm91bmNlUG9zaXRpb24pO1xuICAgICAgICAgICAgZWxlbWVudFRyYW5zaXRpb25FbmQod3JhcHBlckVsLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoc3dpcGVyLnZlbG9jaXR5KSB7XG4gICAgICAgIGVtaXQoJ19mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlJyk7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKG1vbWVudHVtRHVyYXRpb24pO1xuICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgc3dpcGVyLnRyYW5zaXRpb25TdGFydCh0cnVlLCBzd2lwZXIuc3dpcGVEaXJlY3Rpb24pO1xuICAgICAgICBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZCh3cmFwcGVyRWwsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci51cGRhdGVQcm9ncmVzcyhuZXdQb3NpdGlvbik7XG4gICAgICB9XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfSBlbHNlIGlmIChwYXJhbXMuZnJlZU1vZGUuc3RpY2t5KSB7XG4gICAgICBzd2lwZXIuc2xpZGVUb0Nsb3Nlc3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5mcmVlTW9kZSkge1xuICAgICAgZW1pdCgnX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2UnKTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbXMuZnJlZU1vZGUubW9tZW50dW0gfHwgdGltZURpZmYgPj0gcGFyYW1zLmxvbmdTd2lwZXNNcykge1xuICAgICAgZW1pdCgnX2ZyZWVNb2RlU3RhdGljUmVsZWFzZScpO1xuICAgICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgZnJlZU1vZGU6IHtcbiAgICAgIG9uVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaEVuZFxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IGZyZWVNb2RlIGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBHcmlkKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGdyaWQ6IHtcbiAgICAgIHJvd3M6IDEsXG4gICAgICBmaWxsOiAnY29sdW1uJ1xuICAgIH1cbiAgfSk7XG4gIGxldCBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICBsZXQgc2xpZGVzUGVyUm93O1xuICBsZXQgbnVtRnVsbENvbHVtbnM7XG4gIGxldCB3YXNNdWx0aVJvdztcbiAgY29uc3QgZ2V0U3BhY2VCZXR3ZWVuID0gKCkgPT4ge1xuICAgIGxldCBzcGFjZUJldHdlZW4gPSBzd2lwZXIucGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbi5yZXBsYWNlKCclJywgJycpKSAvIDEwMCAqIHN3aXBlci5zaXplO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwYWNlQmV0d2VlbjtcbiAgfTtcbiAgY29uc3QgaW5pdFNsaWRlcyA9IHNsaWRlcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzUGVyVmlld1xuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGNvbnN0IHtcbiAgICAgIHJvd3MsXG4gICAgICBmaWxsXG4gICAgfSA9IHN3aXBlci5wYXJhbXMuZ3JpZDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICAgIG51bUZ1bGxDb2x1bW5zID0gTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyByb3dzKTtcbiAgICBpZiAoTWF0aC5mbG9vcihzbGlkZXNMZW5ndGggLyByb3dzKSA9PT0gc2xpZGVzTGVuZ3RoIC8gcm93cykge1xuICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IHNsaWRlc0xlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVzTnVtYmVyRXZlblRvUm93cyA9IE1hdGguY2VpbChzbGlkZXNMZW5ndGggLyByb3dzKSAqIHJvd3M7XG4gICAgfVxuICAgIGlmIChzbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgZmlsbCA9PT0gJ3JvdycpIHtcbiAgICAgIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgPSBNYXRoLm1heChzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzLCBzbGlkZXNQZXJWaWV3ICogcm93cyk7XG4gICAgfVxuICAgIHNsaWRlc1BlclJvdyA9IHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyByb3dzO1xuICB9O1xuICBjb25zdCB1bnNldFNsaWRlcyA9ICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnNsaWRlcykge1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgaWYgKHNsaWRlLnN3aXBlclNsaWRlR3JpZFNldCkge1xuICAgICAgICAgIHNsaWRlLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgIHNsaWRlLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZVNsaWRlID0gKGksIHNsaWRlLCBzbGlkZXMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNQZXJHcm91cFxuICAgIH0gPSBzd2lwZXIucGFyYW1zO1xuICAgIGNvbnN0IHNwYWNlQmV0d2VlbiA9IGdldFNwYWNlQmV0d2VlbigpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJvd3MsXG4gICAgICBmaWxsXG4gICAgfSA9IHN3aXBlci5wYXJhbXMuZ3JpZDtcbiAgICBjb25zdCBzbGlkZXNMZW5ndGggPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICAgIC8vIFNldCBzbGlkZXMgb3JkZXJcbiAgICBsZXQgbmV3U2xpZGVPcmRlckluZGV4O1xuICAgIGxldCBjb2x1bW47XG4gICAgbGV0IHJvdztcbiAgICBpZiAoZmlsbCA9PT0gJ3JvdycgJiYgc2xpZGVzUGVyR3JvdXAgPiAxKSB7XG4gICAgICBjb25zdCBncm91cEluZGV4ID0gTWF0aC5mbG9vcihpIC8gKHNsaWRlc1Blckdyb3VwICogcm93cykpO1xuICAgICAgY29uc3Qgc2xpZGVJbmRleEluR3JvdXAgPSBpIC0gcm93cyAqIHNsaWRlc1Blckdyb3VwICogZ3JvdXBJbmRleDtcbiAgICAgIGNvbnN0IGNvbHVtbnNJbkdyb3VwID0gZ3JvdXBJbmRleCA9PT0gMCA/IHNsaWRlc1Blckdyb3VwIDogTWF0aC5taW4oTWF0aC5jZWlsKChzbGlkZXNMZW5ndGggLSBncm91cEluZGV4ICogcm93cyAqIHNsaWRlc1Blckdyb3VwKSAvIHJvd3MpLCBzbGlkZXNQZXJHcm91cCk7XG4gICAgICByb3cgPSBNYXRoLmZsb29yKHNsaWRlSW5kZXhJbkdyb3VwIC8gY29sdW1uc0luR3JvdXApO1xuICAgICAgY29sdW1uID0gc2xpZGVJbmRleEluR3JvdXAgLSByb3cgKiBjb2x1bW5zSW5Hcm91cCArIGdyb3VwSW5kZXggKiBzbGlkZXNQZXJHcm91cDtcbiAgICAgIG5ld1NsaWRlT3JkZXJJbmRleCA9IGNvbHVtbiArIHJvdyAqIHNsaWRlc051bWJlckV2ZW5Ub1Jvd3MgLyByb3dzO1xuICAgICAgc2xpZGUuc3R5bGUub3JkZXIgPSBuZXdTbGlkZU9yZGVySW5kZXg7XG4gICAgfSBlbHNlIGlmIChmaWxsID09PSAnY29sdW1uJykge1xuICAgICAgY29sdW1uID0gTWF0aC5mbG9vcihpIC8gcm93cyk7XG4gICAgICByb3cgPSBpIC0gY29sdW1uICogcm93cztcbiAgICAgIGlmIChjb2x1bW4gPiBudW1GdWxsQ29sdW1ucyB8fCBjb2x1bW4gPT09IG51bUZ1bGxDb2x1bW5zICYmIHJvdyA9PT0gcm93cyAtIDEpIHtcbiAgICAgICAgcm93ICs9IDE7XG4gICAgICAgIGlmIChyb3cgPj0gcm93cykge1xuICAgICAgICAgIHJvdyA9IDA7XG4gICAgICAgICAgY29sdW1uICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcm93ID0gTWF0aC5mbG9vcihpIC8gc2xpZGVzUGVyUm93KTtcbiAgICAgIGNvbHVtbiA9IGkgLSByb3cgKiBzbGlkZXNQZXJSb3c7XG4gICAgfVxuICAgIHNsaWRlLnJvdyA9IHJvdztcbiAgICBzbGlkZS5jb2x1bW4gPSBjb2x1bW47XG4gICAgc2xpZGUuc3R5bGUuaGVpZ2h0ID0gYGNhbGMoKDEwMCUgLSAkeyhyb3dzIC0gMSkgKiBzcGFjZUJldHdlZW59cHgpIC8gJHtyb3dzfSlgO1xuICAgIHNsaWRlLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luLXRvcCcpXSA9IHJvdyAhPT0gMCA/IHNwYWNlQmV0d2VlbiAmJiBgJHtzcGFjZUJldHdlZW59cHhgIDogJyc7XG4gICAgc2xpZGUuc3dpcGVyU2xpZGVHcmlkU2V0ID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlV3JhcHBlclNpemUgPSAoc2xpZGVTaXplLCBzbmFwR3JpZCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNlbnRlcmVkU2xpZGVzLFxuICAgICAgcm91bmRMZW5ndGhzXG4gICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgY29uc3Qgc3BhY2VCZXR3ZWVuID0gZ2V0U3BhY2VCZXR3ZWVuKCk7XG4gICAgY29uc3Qge1xuICAgICAgcm93c1xuICAgIH0gPSBzd2lwZXIucGFyYW1zLmdyaWQ7XG4gICAgc3dpcGVyLnZpcnR1YWxTaXplID0gKHNsaWRlU2l6ZSArIHNwYWNlQmV0d2VlbikgKiBzbGlkZXNOdW1iZXJFdmVuVG9Sb3dzO1xuICAgIHN3aXBlci52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbChzd2lwZXIudmlydHVhbFNpemUgLyByb3dzKSAtIHNwYWNlQmV0d2VlbjtcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9XG4gICAgaWYgKGNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYXBHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGxldCBzbGlkZXNHcmlkSXRlbSA9IHNuYXBHcmlkW2ldO1xuICAgICAgICBpZiAocm91bmRMZW5ndGhzKSBzbGlkZXNHcmlkSXRlbSA9IE1hdGguZmxvb3Ioc2xpZGVzR3JpZEl0ZW0pO1xuICAgICAgICBpZiAoc25hcEdyaWRbaV0gPCBzd2lwZXIudmlydHVhbFNpemUgKyBzbmFwR3JpZFswXSkgbmV3U2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIH1cbiAgICAgIHNuYXBHcmlkLnNwbGljZSgwLCBzbmFwR3JpZC5sZW5ndGgpO1xuICAgICAgc25hcEdyaWQucHVzaCguLi5uZXdTbGlkZXNHcmlkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uSW5pdCA9ICgpID0+IHtcbiAgICB3YXNNdWx0aVJvdyA9IHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDE7XG4gIH07XG4gIGNvbnN0IG9uVXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmFtcyxcbiAgICAgIGVsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBpc011bHRpUm93ID0gcGFyYW1zLmdyaWQgJiYgcGFyYW1zLmdyaWQucm93cyA+IDE7XG4gICAgaWYgKHdhc011bHRpUm93ICYmICFpc011bHRpUm93KSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgLCBgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgICAgbnVtRnVsbENvbHVtbnMgPSAxO1xuICAgICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgfSBlbHNlIGlmICghd2FzTXVsdGlSb3cgJiYgaXNNdWx0aVJvdykge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCk7XG4gICAgICBpZiAocGFyYW1zLmdyaWQuZmlsbCA9PT0gJ2NvbHVtbicpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgICAgfVxuICAgICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgfVxuICAgIHdhc011bHRpUm93ID0gaXNNdWx0aVJvdztcbiAgfTtcbiAgb24oJ2luaXQnLCBvbkluaXQpO1xuICBvbigndXBkYXRlJywgb25VcGRhdGUpO1xuICBzd2lwZXIuZ3JpZCA9IHtcbiAgICBpbml0U2xpZGVzLFxuICAgIHVuc2V0U2xpZGVzLFxuICAgIHVwZGF0ZVNsaWRlLFxuICAgIHVwZGF0ZVdyYXBwZXJTaXplXG4gIH07XG59XG5cbmV4cG9ydCB7IEdyaWQgYXMgZGVmYXVsdCB9O1xuIiwgImZ1bmN0aW9uIGFwcGVuZFNsaWRlKHNsaWRlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICB9XG4gIGNvbnN0IGFwcGVuZEVsZW1lbnQgPSBzbGlkZUVsID0+IHtcbiAgICBpZiAodHlwZW9mIHNsaWRlRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCB0ZW1wRE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZW1wRE9NLmlubmVySFRNTCA9IHNsaWRlRWw7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQodGVtcERPTS5jaGlsZHJlblswXSk7XG4gICAgICB0ZW1wRE9NLmlubmVySFRNTCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pIGFwcGVuZEVsZW1lbnQoc2xpZGVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXBwZW5kRWxlbWVudChzbGlkZXMpO1xuICB9XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLmxvb3BDcmVhdGUoKTtcbiAgfVxuICBpZiAoIXBhcmFtcy5vYnNlcnZlciB8fCBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBlbmRTbGlkZShzbGlkZXMpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleCxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCArIDE7XG4gIGNvbnN0IHByZXBlbmRFbGVtZW50ID0gc2xpZGVFbCA9PiB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZUVsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgdGVtcERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcERPTS5pbm5lckhUTUwgPSBzbGlkZUVsO1xuICAgICAgc2xpZGVzRWwucHJlcGVuZCh0ZW1wRE9NLmNoaWxkcmVuWzBdKTtcbiAgICAgIHRlbXBET00uaW5uZXJIVE1MID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlc0VsLnByZXBlbmQoc2xpZGVFbCk7XG4gICAgfVxuICB9O1xuICBpZiAodHlwZW9mIHNsaWRlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChzbGlkZXNbaV0pIHByZXBlbmRFbGVtZW50KHNsaWRlc1tpXSk7XG4gICAgfVxuICAgIG5ld0FjdGl2ZUluZGV4ID0gYWN0aXZlSW5kZXggKyBzbGlkZXMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHByZXBlbmRFbGVtZW50KHNsaWRlcyk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG4gIGlmICghcGFyYW1zLm9ic2VydmVyIHx8IHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWRkU2xpZGUoaW5kZXgsIHNsaWRlcykge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIHNsaWRlc0VsXG4gIH0gPSBzd2lwZXI7XG4gIGxldCBhY3RpdmVJbmRleEJ1ZmZlciA9IGFjdGl2ZUluZGV4O1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBhY3RpdmVJbmRleEJ1ZmZlciAtPSBzd2lwZXIubG9vcGVkU2xpZGVzO1xuICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgfVxuICBjb25zdCBiYXNlTGVuZ3RoID0gc3dpcGVyLnNsaWRlcy5sZW5ndGg7XG4gIGlmIChpbmRleCA8PSAwKSB7XG4gICAgc3dpcGVyLnByZXBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5kZXggPj0gYmFzZUxlbmd0aCkge1xuICAgIHN3aXBlci5hcHBlbmRTbGlkZShzbGlkZXMpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyAxIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIGNvbnN0IHNsaWRlc0J1ZmZlciA9IFtdO1xuICBmb3IgKGxldCBpID0gYmFzZUxlbmd0aCAtIDE7IGkgPj0gaW5kZXg7IGkgLT0gMSkge1xuICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgY3VycmVudFNsaWRlLnJlbW92ZSgpO1xuICAgIHNsaWRlc0J1ZmZlci51bnNoaWZ0KGN1cnJlbnRTbGlkZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzbGlkZXMgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIHNsaWRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldKSBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzW2ldKTtcbiAgICB9XG4gICAgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlciA+IGluZGV4ID8gYWN0aXZlSW5kZXhCdWZmZXIgKyBzbGlkZXMubGVuZ3RoIDogYWN0aXZlSW5kZXhCdWZmZXI7XG4gIH0gZWxzZSB7XG4gICAgc2xpZGVzRWwuYXBwZW5kKHNsaWRlcyk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNCdWZmZXIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzQnVmZmVyW2ldKTtcbiAgfVxuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gIH1cbiAgaWYgKCFwYXJhbXMub2JzZXJ2ZXIgfHwgc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci51cGRhdGUoKTtcbiAgfVxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCArIHN3aXBlci5sb29wZWRTbGlkZXMsIDAsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhuZXdBY3RpdmVJbmRleCwgMCwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNsaWRlKHNsaWRlc0luZGV4ZXMpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXhCdWZmZXIgPSBhY3RpdmVJbmRleDtcbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgYWN0aXZlSW5kZXhCdWZmZXIgLT0gc3dpcGVyLmxvb3BlZFNsaWRlcztcbiAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgfVxuICBsZXQgbmV3QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleEJ1ZmZlcjtcbiAgbGV0IGluZGV4VG9SZW1vdmU7XG4gIGlmICh0eXBlb2Ygc2xpZGVzSW5kZXhlcyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gc2xpZGVzSW5kZXhlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzSW5kZXhlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaW5kZXhUb1JlbW92ZSA9IHNsaWRlc0luZGV4ZXNbaV07XG4gICAgICBpZiAoc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXSkgc3dpcGVyLnNsaWRlc1tpbmRleFRvUmVtb3ZlXS5yZW1vdmUoKTtcbiAgICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgfVxuICAgIG5ld0FjdGl2ZUluZGV4ID0gTWF0aC5tYXgobmV3QWN0aXZlSW5kZXgsIDApO1xuICB9IGVsc2Uge1xuICAgIGluZGV4VG9SZW1vdmUgPSBzbGlkZXNJbmRleGVzO1xuICAgIGlmIChzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdKSBzd2lwZXIuc2xpZGVzW2luZGV4VG9SZW1vdmVdLnJlbW92ZSgpO1xuICAgIGlmIChpbmRleFRvUmVtb3ZlIDwgbmV3QWN0aXZlSW5kZXgpIG5ld0FjdGl2ZUluZGV4IC09IDE7XG4gICAgbmV3QWN0aXZlSW5kZXggPSBNYXRoLm1heChuZXdBY3RpdmVJbmRleCwgMCk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBzd2lwZXIubG9vcENyZWF0ZSgpO1xuICB9XG4gIGlmICghcGFyYW1zLm9ic2VydmVyIHx8IHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICBzd2lwZXIudXBkYXRlKCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5sb29wKSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXggKyBzd2lwZXIubG9vcGVkU2xpZGVzLCAwLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3QWN0aXZlSW5kZXgsIDAsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzd2lwZXIuc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICB9XG4gIHN3aXBlci5yZW1vdmVTbGlkZShzbGlkZXNJbmRleGVzKTtcbn1cblxuZnVuY3Rpb24gTWFuaXB1bGF0aW9uKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXJcbiAgfSA9IF9yZWY7XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgYXBwZW5kU2xpZGU6IGFwcGVuZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICBwcmVwZW5kU2xpZGU6IHByZXBlbmRTbGlkZS5iaW5kKHN3aXBlciksXG4gICAgYWRkU2xpZGU6IGFkZFNsaWRlLmJpbmQoc3dpcGVyKSxcbiAgICByZW1vdmVTbGlkZTogcmVtb3ZlU2xpZGUuYmluZChzd2lwZXIpLFxuICAgIHJlbW92ZUFsbFNsaWRlczogcmVtb3ZlQWxsU2xpZGVzLmJpbmQoc3dpcGVyKVxuICB9KTtcbn1cblxuZXhwb3J0IHsgTWFuaXB1bGF0aW9uIGFzIGRlZmF1bHQgfTtcbiIsICJmdW5jdGlvbiBlZmZlY3RJbml0KHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgZWZmZWN0LFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXMsXG4gICAgcGVyc3BlY3RpdmUsXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtc1xuICB9ID0gcGFyYW1zO1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7ZWZmZWN0fWApO1xuICAgIGlmIChwZXJzcGVjdGl2ZSAmJiBwZXJzcGVjdGl2ZSgpKSB7XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30zZGApO1xuICAgIH1cbiAgICBjb25zdCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQgPSBvdmVyd3JpdGVQYXJhbXMgPyBvdmVyd3JpdGVQYXJhbXMoKSA6IHt9O1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIGlmIChyZWNyZWF0ZVNoYWRvd3MpIHtcbiAgICAgIGlmICghZ2V0RWZmZWN0UGFyYW1zIHx8ICFnZXRFZmZlY3RQYXJhbXMoKS5zbGlkZVNoYWRvd3MpIHJldHVybjtcbiAgICAgIC8vIHJlbW92ZSBzaGFkb3dzXG4gICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykuZm9yRWFjaChzaGFkb3dFbCA9PiBzaGFkb3dFbC5yZW1vdmUoKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgb25lXG4gICAgICByZWNyZWF0ZVNoYWRvd3MoKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbDtcbiAgb24oJ3ZpcnR1YWxVcGRhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAoIXN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChyZXF1aXJlVXBkYXRlT25WaXJ0dWFsICYmIHN3aXBlci5zbGlkZXMgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGVmZmVjdEluaXQgYXMgZSB9O1xuIiwgImltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VGFyZ2V0KGVmZmVjdFBhcmFtcywgc2xpZGVFbCkge1xuICBjb25zdCB0cmFuc2Zvcm1FbCA9IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCk7XG4gIGlmICh0cmFuc2Zvcm1FbCAhPT0gc2xpZGVFbCkge1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlWyctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknXSA9ICdoaWRkZW4nO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FbDtcbn1cblxuZXhwb3J0IHsgZWZmZWN0VGFyZ2V0IGFzIGUgfTtcbiIsICJpbXBvcnQgeyBqIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGR1cmF0aW9uLFxuICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgIGFsbFNsaWRlc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGdldFNsaWRlID0gZWwgPT4ge1xuICAgIGlmICghZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gYXNzdW1lIHNoYWRvdyByb290XG4gICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5zaGFkb3dSb290ICYmIHNsaWRlRWwuc2hhZG93Um9vdCA9PT0gZWwucGFyZW50Tm9kZSlbMF07XG4gICAgICByZXR1cm4gc2xpZGU7XG4gICAgfVxuICAgIHJldHVybiBlbC5wYXJlbnRFbGVtZW50O1xuICB9O1xuICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlICYmIGR1cmF0aW9uICE9PSAwKSB7XG4gICAgbGV0IGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRyYW5zaXRpb25FbmRUYXJnZXQ7XG4gICAgaWYgKGFsbFNsaWRlcykge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWxlbWVudHMuZmlsdGVyKHRyYW5zZm9ybUVsID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSB0cmFuc2Zvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSA/IGdldFNsaWRlKHRyYW5zZm9ybUVsKSA6IHRyYW5zZm9ybUVsO1xuICAgICAgICByZXR1cm4gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWwpID09PSBhY3RpdmVJbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0LmZvckVhY2goZWwgPT4ge1xuICAgICAgZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsICgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50VHJpZ2dlcmVkKSByZXR1cm47XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ3RyYW5zaXRpb25lbmQnLCB7XG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIGFzIGUgfTtcbiIsICJpbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VGFyZ2V0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzJztcbmltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RGYWRlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW2ldO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGxldCB0eCA9IC1vZmZzZXQ7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkgdHggLT0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzbGlkZU9wYWNpdHkgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlID8gTWF0aC5tYXgoMSAtIE1hdGguYWJzKHNsaWRlRWwucHJvZ3Jlc3MpLCAwKSA6IDEgKyBNYXRoLm1pbihNYXRoLm1heChzbGlkZUVsLnByb2dyZXNzLCAtMSksIDApO1xuICAgICAgY29uc3QgdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCBzbGlkZUVsKTtcbiAgICAgIHRhcmdldEVsLnN0eWxlLm9wYWNpdHkgPSBzbGlkZU9wYWNpdHk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0eH1weCwgJHt0eX1weCwgMHB4KWA7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybUVsZW1lbnRzID0gc3dpcGVyLnNsaWRlcy5tYXAoc2xpZGVFbCA9PiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpKTtcbiAgICB0cmFuc2Zvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICB9KTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgICAgYWxsU2xpZGVzOiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBFZmZlY3RGYWRlIGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RDdWJlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGN1YmVFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHNoYWRvdzogdHJ1ZSxcbiAgICAgIHNoYWRvd09mZnNldDogMjAsXG4gICAgICBzaGFkb3dTY2FsZTogMC45NFxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZVNsaWRlU2hhZG93cyA9IChzbGlkZUVsLCBwcm9ncmVzcywgaXNIb3Jpem9udGFsKSA9PiB7XG4gICAgbGV0IHNoYWRvd0JlZm9yZSA9IGlzSG9yaXpvbnRhbCA/IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICBsZXQgc2hhZG93QWZ0ZXIgPSBpc0hvcml6b250YWwgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuICAgIGlmICghc2hhZG93QmVmb3JlKSB7XG4gICAgICBzaGFkb3dCZWZvcmUgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBgc3dpcGVyLXNsaWRlLXNoYWRvdy1jdWJlIHN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJ31gLnNwbGl0KCcgJykpO1xuICAgICAgc2xpZGVFbC5hcHBlbmQoc2hhZG93QmVmb3JlKTtcbiAgICB9XG4gICAgaWYgKCFzaGFkb3dBZnRlcikge1xuICAgICAgc2hhZG93QWZ0ZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBgc3dpcGVyLXNsaWRlLXNoYWRvdy1jdWJlIHN3aXBlci1zbGlkZS1zaGFkb3ctJHtpc0hvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbSd9YC5zcGxpdCgnICcpKTtcbiAgICAgIHNsaWRlRWwuYXBwZW5kKHNoYWRvd0FmdGVyKTtcbiAgICB9XG4gICAgaWYgKHNoYWRvd0JlZm9yZSkgc2hhZG93QmVmb3JlLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgIGlmIChzaGFkb3dBZnRlcikgc2hhZG93QWZ0ZXIuc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgfTtcbiAgY29uc3QgcmVjcmVhdGVTaGFkb3dzID0gKCkgPT4ge1xuICAgIC8vIGNyZWF0ZSBuZXcgb25lc1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKHNsaWRlRWwucHJvZ3Jlc3MsIDEpLCAtMSk7XG4gICAgICBjcmVhdGVTbGlkZVNoYWRvd3Moc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlcyxcbiAgICAgIHdpZHRoOiBzd2lwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogc3dpcGVySGVpZ2h0LFxuICAgICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgICBzaXplOiBzd2lwZXJTaXplLFxuICAgICAgYnJvd3NlclxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jdWJlRWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgICBsZXQgd3JhcHBlclJvdGF0ZSA9IDA7XG4gICAgbGV0IGN1YmVTaGFkb3dFbDtcbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBjdWJlU2hhZG93RWwgPSBzd2lwZXIud3JhcHBlckVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItY3ViZS1zaGFkb3cnKTtcbiAgICAgICAgaWYgKCFjdWJlU2hhZG93RWwpIHtcbiAgICAgICAgICBjdWJlU2hhZG93RWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG4gICAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5hcHBlbmQoY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgICBjdWJlU2hhZG93RWwuc3R5bGUuaGVpZ2h0ID0gYCR7c3dpcGVyV2lkdGh9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3ViZVNoYWRvd0VsID0gZWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1jdWJlLXNoYWRvdycpO1xuICAgICAgICBpZiAoIWN1YmVTaGFkb3dFbCkge1xuICAgICAgICAgIGN1YmVTaGFkb3dFbCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdzd2lwZXItY3ViZS1zaGFkb3cnKTtcbiAgICAgICAgICBlbC5hcHBlbmQoY3ViZVNoYWRvd0VsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHNsaWRlc1tpXTtcbiAgICAgIGxldCBzbGlkZUluZGV4ID0gaTtcbiAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgc2xpZGVJbmRleCA9IHBhcnNlSW50KHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgICB9XG4gICAgICBsZXQgc2xpZGVBbmdsZSA9IHNsaWRlSW5kZXggKiA5MDtcbiAgICAgIGxldCByb3VuZCA9IE1hdGguZmxvb3Ioc2xpZGVBbmdsZSAvIDM2MCk7XG4gICAgICBpZiAocnRsKSB7XG4gICAgICAgIHNsaWRlQW5nbGUgPSAtc2xpZGVBbmdsZTtcbiAgICAgICAgcm91bmQgPSBNYXRoLmZsb29yKC1zbGlkZUFuZ2xlIC8gMzYwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIGxldCB0eCA9IDA7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgbGV0IHR6ID0gMDtcbiAgICAgIGlmIChzbGlkZUluZGV4ICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1yb3VuZCAqIDQgKiBzd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDA7XG4gICAgICB9IGVsc2UgaWYgKChzbGlkZUluZGV4IC0gMSkgJSA0ID09PSAwKSB7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgICAgdHogPSAtcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoKHNsaWRlSW5kZXggLSAyKSAlIDQgPT09IDApIHtcbiAgICAgICAgdHggPSBzd2lwZXJTaXplICsgcm91bmQgKiA0ICogc3dpcGVyU2l6ZTtcbiAgICAgICAgdHogPSBzd2lwZXJTaXplO1xuICAgICAgfSBlbHNlIGlmICgoc2xpZGVJbmRleCAtIDMpICUgNCA9PT0gMCkge1xuICAgICAgICB0eCA9IC1zd2lwZXJTaXplO1xuICAgICAgICB0eiA9IDMgKiBzd2lwZXJTaXplICsgc3dpcGVyU2l6ZSAqIDQgKiByb3VuZDtcbiAgICAgIH1cbiAgICAgIGlmIChydGwpIHtcbiAgICAgICAgdHggPSAtdHg7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSG9yaXpvbnRhbCkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBgcm90YXRlWCgke2lzSG9yaXpvbnRhbCA/IDAgOiAtc2xpZGVBbmdsZX1kZWcpIHJvdGF0ZVkoJHtpc0hvcml6b250YWwgPyBzbGlkZUFuZ2xlIDogMH1kZWcpIHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsICR7dHp9cHgpYDtcbiAgICAgIGlmIChwcm9ncmVzcyA8PSAxICYmIHByb2dyZXNzID4gLTEpIHtcbiAgICAgICAgd3JhcHBlclJvdGF0ZSA9IHNsaWRlSW5kZXggKiA5MCArIHByb2dyZXNzICogOTA7XG4gICAgICAgIGlmIChydGwpIHdyYXBwZXJSb3RhdGUgPSAtc2xpZGVJbmRleCAqIDkwIC0gcHJvZ3Jlc3MgKiA5MDtcbiAgICAgICAgaWYgKHN3aXBlci5icm93c2VyICYmIHN3aXBlci5icm93c2VyLmlzU2FmYXJpICYmIE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgd3JhcHBlclJvdGF0ZSArPSAwLjAwMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2xpZGVFbC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICBjcmVhdGVTbGlkZVNoYWRvd3Moc2xpZGVFbCwgcHJvZ3Jlc3MsIGlzSG9yaXpvbnRhbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgNTAlIDUwJSAtJHtzd2lwZXJTaXplIC8gMn1weGA7XG4gICAgd3JhcHBlckVsLnN0eWxlWyctd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4nXSA9IGA1MCUgNTAlIC0ke3N3aXBlclNpemUgLyAyfXB4YDtcbiAgICBpZiAocGFyYW1zLnNoYWRvdykge1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBjdWJlU2hhZG93RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDBweCwgJHtzd2lwZXJXaWR0aCAvIDIgKyBwYXJhbXMuc2hhZG93T2Zmc2V0fXB4LCAkey1zd2lwZXJXaWR0aCAvIDJ9cHgpIHJvdGF0ZVgoODkuOTlkZWcpIHJvdGF0ZVooMGRlZykgc2NhbGUoJHtwYXJhbXMuc2hhZG93U2NhbGV9KWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGFkb3dBbmdsZSA9IE1hdGguYWJzKHdyYXBwZXJSb3RhdGUpIC0gTWF0aC5mbG9vcihNYXRoLmFicyh3cmFwcGVyUm90YXRlKSAvIDkwKSAqIDkwO1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gMS41IC0gKE1hdGguc2luKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMiArIE1hdGguY29zKHNoYWRvd0FuZ2xlICogMiAqIE1hdGguUEkgLyAzNjApIC8gMik7XG4gICAgICAgIGNvbnN0IHNjYWxlMSA9IHBhcmFtcy5zaGFkb3dTY2FsZTtcbiAgICAgICAgY29uc3Qgc2NhbGUyID0gcGFyYW1zLnNoYWRvd1NjYWxlIC8gbXVsdGlwbGllcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zLnNoYWRvd09mZnNldDtcbiAgICAgICAgY3ViZVNoYWRvd0VsLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZTNkKCR7c2NhbGUxfSwgMSwgJHtzY2FsZTJ9KSB0cmFuc2xhdGUzZCgwcHgsICR7c3dpcGVySGVpZ2h0IC8gMiArIG9mZnNldH1weCwgJHstc3dpcGVySGVpZ2h0IC8gMiAvIHNjYWxlMn1weCkgcm90YXRlWCgtODkuOTlkZWcpYDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgekZhY3RvciA9IChicm93c2VyLmlzU2FmYXJpIHx8IGJyb3dzZXIuaXNXZWJWaWV3KSAmJiBicm93c2VyLm5lZWRQZXJzcGVjdGl2ZUZpeCA/IC1zd2lwZXJTaXplIC8gMiA6IDA7XG4gICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwcHgsMCwke3pGYWN0b3J9cHgpIHJvdGF0ZVgoJHtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAwIDogd3JhcHBlclJvdGF0ZX1kZWcpIHJvdGF0ZVkoJHtzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAtd3JhcHBlclJvdGF0ZSA6IDB9ZGVnKWA7XG4gICAgd3JhcHBlckVsLnN0eWxlLnNldFByb3BlcnR5KCctLXN3aXBlci1jdWJlLXRyYW5zbGF0ZS16JywgYCR7ekZhY3Rvcn1weGApO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsLFxuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIHNsaWRlRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgc2xpZGVFbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHN1YkVsID0+IHtcbiAgICAgICAgc3ViRWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY3ViZUVmZmVjdC5zaGFkb3cgJiYgIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgY29uc3Qgc2hhZG93RWwgPSBlbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWN1YmUtc2hhZG93Jyk7XG4gICAgICBpZiAoc2hhZG93RWwpIHNoYWRvd0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICB9XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2N1YmUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zOiAoKSA9PiBzd2lwZXIucGFyYW1zLmN1YmVFZmZlY3QsXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHJlc2lzdGFuY2VSYXRpbzogMCxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6IHRydWVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q3ViZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsLCBjIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNoYWRvdyhzdWZmaXgsIHNsaWRlRWwsIHNpZGUpIHtcbiAgY29uc3Qgc2hhZG93Q2xhc3MgPSBgc3dpcGVyLXNsaWRlLXNoYWRvdyR7c2lkZSA/IGAtJHtzaWRlfWAgOiAnJ30ke3N1ZmZpeCA/IGAgc3dpcGVyLXNsaWRlLXNoYWRvdy0ke3N1ZmZpeH1gIDogJyd9YDtcbiAgY29uc3Qgc2hhZG93Q29udGFpbmVyID0gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKTtcbiAgbGV0IHNoYWRvd0VsID0gc2hhZG93Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke3NoYWRvd0NsYXNzLnNwbGl0KCcgJykuam9pbignLicpfWApO1xuICBpZiAoIXNoYWRvd0VsKSB7XG4gICAgc2hhZG93RWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzaGFkb3dDbGFzcy5zcGxpdCgnICcpKTtcbiAgICBzaGFkb3dDb250YWluZXIuYXBwZW5kKHNoYWRvd0VsKTtcbiAgfVxuICByZXR1cm4gc2hhZG93RWw7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVNoYWRvdyBhcyBjIH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjcmVhdGVTaGFkb3cgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmxpcChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmbGlwRWZmZWN0OiB7XG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWUsXG4gICAgICBsaW1pdFJvdGF0aW9uOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgY29uc3QgY3JlYXRlU2xpZGVTaGFkb3dzID0gKHNsaWRlRWwsIHByb2dyZXNzKSA9PiB7XG4gICAgbGV0IHNoYWRvd0JlZm9yZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AnKTtcbiAgICBsZXQgc2hhZG93QWZ0ZXIgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0JykgOiBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbScpO1xuICAgIGlmICghc2hhZG93QmVmb3JlKSB7XG4gICAgICBzaGFkb3dCZWZvcmUgPSBjcmVhdGVTaGFkb3coJ2ZsaXAnLCBzbGlkZUVsLCBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyAnbGVmdCcgOiAndG9wJyk7XG4gICAgfVxuICAgIGlmICghc2hhZG93QWZ0ZXIpIHtcbiAgICAgIHNoYWRvd0FmdGVyID0gY3JlYXRlU2hhZG93KCdmbGlwJywgc2xpZGVFbCwgc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3JpZ2h0JyA6ICdib3R0b20nKTtcbiAgICB9XG4gICAgaWYgKHNoYWRvd0JlZm9yZSkgc2hhZG93QmVmb3JlLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtcHJvZ3Jlc3MsIDApO1xuICAgIGlmIChzaGFkb3dBZnRlcikgc2hhZG93QWZ0ZXIuc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHByb2dyZXNzLCAwKTtcbiAgfTtcbiAgY29uc3QgcmVjcmVhdGVTaGFkb3dzID0gKCkgPT4ge1xuICAgIC8vIFNldCBzaGFkb3dzXG4gICAgc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0O1xuICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgIGxldCBwcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LmxpbWl0Um90YXRpb24pIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbihzbGlkZUVsLnByb2dyZXNzLCAxKSwgLTEpO1xuICAgICAgfVxuICAgICAgY3JlYXRlU2xpZGVTaGFkb3dzKHNsaWRlRWwsIHByb2dyZXNzKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlcyxcbiAgICAgIHJ0bFRyYW5zbGF0ZTogcnRsXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmZsaXBFZmZlY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzbGlkZXNbaV07XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBzbGlkZUVsLnByb2dyZXNzO1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uKSB7XG4gICAgICAgIHByb2dyZXNzID0gTWF0aC5tYXgoTWF0aC5taW4oc2xpZGVFbC5wcm9ncmVzcywgMSksIC0xKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBjb25zdCByb3RhdGUgPSAtMTgwICogcHJvZ3Jlc3M7XG4gICAgICBsZXQgcm90YXRlWSA9IHJvdGF0ZTtcbiAgICAgIGxldCByb3RhdGVYID0gMDtcbiAgICAgIGxldCB0eCA9IHN3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldDtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICAgIHJvdGF0ZVggPSAtcm90YXRlWTtcbiAgICAgICAgcm90YXRlWSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJ0bCkge1xuICAgICAgICByb3RhdGVZID0gLXJvdGF0ZVk7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLmJyb3dzZXIgJiYgc3dpcGVyLmJyb3dzZXIuaXNTYWZhcmkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHJvdGF0ZVkpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgcm90YXRlWSArPSAwLjAwMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRlWCkgLyA5MCAlIDIgPT09IDEpIHtcbiAgICAgICAgICByb3RhdGVYICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHByb2dyZXNzKSkgKyBzbGlkZXMubGVuZ3RoO1xuICAgICAgaWYgKHBhcmFtcy5zbGlkZVNoYWRvd3MpIHtcbiAgICAgICAgY3JlYXRlU2xpZGVTaGFkb3dzKHNsaWRlRWwsIHByb2dyZXNzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAwcHgpIHJvdGF0ZVgoJHtyb3RhdGVYfWRlZykgcm90YXRlWSgke3JvdGF0ZVl9ZGVnKWA7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHNoYWRvd0VsID0+IHtcbiAgICAgICAgc2hhZG93RWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50c1xuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmbGlwJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtczogKCkgPT4gc3dpcGVyLnBhcmFtcy5mbGlwRWZmZWN0LFxuICAgIHBlcnNwZWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICB2aXJ0dWFsVHJhbnNsYXRlOiAhc3dpcGVyLnBhcmFtcy5jc3NNb2RlXG4gICAgfSlcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEVmZmVjdEZsaXAgYXMgZGVmYXVsdCB9O1xuIiwgImltcG9ydCB7IGMgYXMgY3JlYXRlU2hhZG93IH0gZnJvbSAnLi4vc2hhcmVkL2NyZWF0ZS1zaGFkb3cubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0SW5pdCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RUYXJnZXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEVmZmVjdENvdmVyZmxvdyhfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjb3ZlcmZsb3dFZmZlY3Q6IHtcbiAgICAgIHJvdGF0ZTogNTAsXG4gICAgICBzdHJldGNoOiAwLFxuICAgICAgZGVwdGg6IDEwMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgbW9kaWZpZXI6IDEsXG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWVcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGg6IHN3aXBlcldpZHRoLFxuICAgICAgaGVpZ2h0OiBzd2lwZXJIZWlnaHQsXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNTaXplc0dyaWRcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuY292ZXJmbG93RWZmZWN0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHN3aXBlci5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgIGNvbnN0IGNlbnRlciA9IGlzSG9yaXpvbnRhbCA/IC10cmFuc2Zvcm0gKyBzd2lwZXJXaWR0aCAvIDIgOiAtdHJhbnNmb3JtICsgc3dpcGVySGVpZ2h0IC8gMjtcbiAgICBjb25zdCByb3RhdGUgPSBpc0hvcml6b250YWwgPyBwYXJhbXMucm90YXRlIDogLXBhcmFtcy5yb3RhdGU7XG4gICAgY29uc3QgdHJhbnNsYXRlID0gcGFyYW1zLmRlcHRoO1xuICAgIC8vIEVhY2ggc2xpZGUgb2Zmc2V0IGZyb20gY2VudGVyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IHNsaWRlU2l6ZSA9IHNsaWRlc1NpemVzR3JpZFtpXTtcbiAgICAgIGNvbnN0IHNsaWRlT2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGNvbnN0IGNlbnRlck9mZnNldCA9IChjZW50ZXIgLSBzbGlkZU9mZnNldCAtIHNsaWRlU2l6ZSAvIDIpIC8gc2xpZGVTaXplO1xuICAgICAgY29uc3Qgb2Zmc2V0TXVsdGlwbGllciA9IHR5cGVvZiBwYXJhbXMubW9kaWZpZXIgPT09ICdmdW5jdGlvbicgPyBwYXJhbXMubW9kaWZpZXIoY2VudGVyT2Zmc2V0KSA6IGNlbnRlck9mZnNldCAqIHBhcmFtcy5tb2RpZmllcjtcbiAgICAgIGxldCByb3RhdGVZID0gaXNIb3Jpem9udGFsID8gcm90YXRlICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICBsZXQgcm90YXRlWCA9IGlzSG9yaXpvbnRhbCA/IDAgOiByb3RhdGUgKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgLy8gdmFyIHJvdGF0ZVogPSAwXG4gICAgICBsZXQgdHJhbnNsYXRlWiA9IC10cmFuc2xhdGUgKiBNYXRoLmFicyhvZmZzZXRNdWx0aXBsaWVyKTtcbiAgICAgIGxldCBzdHJldGNoID0gcGFyYW1zLnN0cmV0Y2g7XG4gICAgICAvLyBBbGxvdyBwZXJjZW50YWdlIHRvIG1ha2UgYSByZWxhdGl2ZSBzdHJldGNoIGZvciByZXNwb25zaXZlIHNsaWRlcnNcbiAgICAgIGlmICh0eXBlb2Ygc3RyZXRjaCA9PT0gJ3N0cmluZycgJiYgc3RyZXRjaC5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgIHN0cmV0Y2ggPSBwYXJzZUZsb2F0KHBhcmFtcy5zdHJldGNoKSAvIDEwMCAqIHNsaWRlU2l6ZTtcbiAgICAgIH1cbiAgICAgIGxldCB0cmFuc2xhdGVZID0gaXNIb3Jpem9udGFsID8gMCA6IHN0cmV0Y2ggKiBvZmZzZXRNdWx0aXBsaWVyO1xuICAgICAgbGV0IHRyYW5zbGF0ZVggPSBpc0hvcml6b250YWwgPyBzdHJldGNoICogb2Zmc2V0TXVsdGlwbGllciA6IDA7XG4gICAgICBsZXQgc2NhbGUgPSAxIC0gKDEgLSBwYXJhbXMuc2NhbGUpICogTWF0aC5hYnMob2Zmc2V0TXVsdGlwbGllcik7XG5cbiAgICAgIC8vIEZpeCBmb3IgdWx0cmEgc21hbGwgdmFsdWVzXG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWCkgPCAwLjAwMSkgdHJhbnNsYXRlWCA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWSkgPCAwLjAwMSkgdHJhbnNsYXRlWSA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnModHJhbnNsYXRlWikgPCAwLjAwMSkgdHJhbnNsYXRlWiA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMocm90YXRlWSkgPCAwLjAwMSkgcm90YXRlWSA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMocm90YXRlWCkgPCAwLjAwMSkgcm90YXRlWCA9IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoc2NhbGUpIDwgMC4wMDEpIHNjYWxlID0gMDtcbiAgICAgIGlmIChzd2lwZXIuYnJvd3NlciAmJiBzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRlWSkgLyA5MCAlIDIgPT09IDEpIHtcbiAgICAgICAgICByb3RhdGVZICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhyb3RhdGVYKSAvIDkwICUgMiA9PT0gMSkge1xuICAgICAgICAgIHJvdGF0ZVggKz0gMC4wMDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlVHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH1weCwke3RyYW5zbGF0ZVl9cHgsJHt0cmFuc2xhdGVafXB4KSAgcm90YXRlWCgke3JvdGF0ZVh9ZGVnKSByb3RhdGVZKCR7cm90YXRlWX1kZWcpIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gc2xpZGVUcmFuc2Zvcm07XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKG9mZnNldE11bHRpcGxpZXIpKSArIDE7XG4gICAgICBpZiAocGFyYW1zLnNsaWRlU2hhZG93cykge1xuICAgICAgICAvLyBTZXQgc2hhZG93c1xuICAgICAgICBsZXQgc2hhZG93QmVmb3JlRWwgPSBpc0hvcml6b250YWwgPyBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKSA6IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wJyk7XG4gICAgICAgIGxldCBzaGFkb3dBZnRlckVsID0gaXNIb3Jpem9udGFsID8gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCcpIDogc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20nKTtcbiAgICAgICAgaWYgKCFzaGFkb3dCZWZvcmVFbCkge1xuICAgICAgICAgIHNoYWRvd0JlZm9yZUVsID0gY3JlYXRlU2hhZG93KCdjb3ZlcmZsb3cnLCBzbGlkZUVsLCBpc0hvcml6b250YWwgPyAnbGVmdCcgOiAndG9wJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFkb3dBZnRlckVsKSB7XG4gICAgICAgICAgc2hhZG93QWZ0ZXJFbCA9IGNyZWF0ZVNoYWRvdygnY292ZXJmbG93Jywgc2xpZGVFbCwgaXNIb3Jpem9udGFsID8gJ3JpZ2h0JyA6ICdib3R0b20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhZG93QmVmb3JlRWwpIHNoYWRvd0JlZm9yZUVsLnN0eWxlLm9wYWNpdHkgPSBvZmZzZXRNdWx0aXBsaWVyID4gMCA/IG9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgICBpZiAoc2hhZG93QWZ0ZXJFbCkgc2hhZG93QWZ0ZXJFbC5zdHlsZS5vcGFjaXR5ID0gLW9mZnNldE11bHRpcGxpZXIgPiAwID8gLW9mZnNldE11bHRpcGxpZXIgOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHNoYWRvd0VsID0+IHtcbiAgICAgICAgc2hhZG93RWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2NvdmVyZmxvdycsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIHBlcnNwZWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q292ZXJmbG93IGFzIGRlZmF1bHQgfTtcbiIsICJpbXBvcnQgeyBjIGFzIGNyZWF0ZVNoYWRvdyB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGUtc2hhZG93Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VGFyZ2V0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzJztcbmltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RDcmVhdGl2ZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBjcmVhdGl2ZUVmZmVjdDoge1xuICAgICAgbGltaXRQcm9ncmVzczogMSxcbiAgICAgIHNoYWRvd1BlclByb2dyZXNzOiBmYWxzZSxcbiAgICAgIHByb2dyZXNzTXVsdGlwbGllcjogMSxcbiAgICAgIHBlcnNwZWN0aXZlOiB0cnVlLFxuICAgICAgcHJldjoge1xuICAgICAgICB0cmFuc2xhdGU6IFswLCAwLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiAxXG4gICAgICB9LFxuICAgICAgbmV4dDoge1xuICAgICAgICB0cmFuc2xhdGU6IFswLCAwLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZ2V0VHJhbnNsYXRlVmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gYCR7dmFsdWV9cHhgO1xuICB9O1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgd3JhcHBlckVsLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmNyZWF0aXZlRWZmZWN0O1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2dyZXNzTXVsdGlwbGllcjogbXVsdGlwbGllclxuICAgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNDZW50ZXJlZFNsaWRlcyA9IHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXM7XG4gICAgaWYgKGlzQ2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGNvbnN0IG1hcmdpbiA9IHNsaWRlc1NpemVzR3JpZFswXSAvIDIgLSBzd2lwZXIucGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSB8fCAwO1xuICAgICAgd3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKGNhbGMoNTAlIC0gJHttYXJnaW59cHgpKWA7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc2xpZGVzW2ldO1xuICAgICAgY29uc3Qgc2xpZGVQcm9ncmVzcyA9IHNsaWRlRWwucHJvZ3Jlc3M7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwucHJvZ3Jlc3MsIC1wYXJhbXMubGltaXRQcm9ncmVzcyksIHBhcmFtcy5saW1pdFByb2dyZXNzKTtcbiAgICAgIGxldCBvcmlnaW5hbFByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICBpZiAoIWlzQ2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgb3JpZ2luYWxQcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwub3JpZ2luYWxQcm9ncmVzcywgLXBhcmFtcy5saW1pdFByb2dyZXNzKSwgcGFyYW1zLmxpbWl0UHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGNvbnN0IHQgPSBbc3dpcGVyLnBhcmFtcy5jc3NNb2RlID8gLW9mZnNldCAtIHN3aXBlci50cmFuc2xhdGUgOiAtb2Zmc2V0LCAwLCAwXTtcbiAgICAgIGNvbnN0IHIgPSBbMCwgMCwgMF07XG4gICAgICBsZXQgY3VzdG9tID0gZmFsc2U7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0WzFdID0gdFswXTtcbiAgICAgICAgdFswXSA9IDA7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgdHJhbnNsYXRlOiBbMCwgMCwgMF0sXG4gICAgICAgIHJvdGF0ZTogWzAsIDAsIDBdLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfTtcbiAgICAgIGlmIChwcm9ncmVzcyA8IDApIHtcbiAgICAgICAgZGF0YSA9IHBhcmFtcy5uZXh0O1xuICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwcm9ncmVzcyA+IDApIHtcbiAgICAgICAgZGF0YSA9IHBhcmFtcy5wcmV2O1xuICAgICAgICBjdXN0b20gPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gc2V0IHRyYW5zbGF0ZVxuICAgICAgdC5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgdFtpbmRleF0gPSBgY2FsYygke3ZhbHVlfXB4ICsgKCR7Z2V0VHJhbnNsYXRlVmFsdWUoZGF0YS50cmFuc2xhdGVbaW5kZXhdKX0gKiAke01hdGguYWJzKHByb2dyZXNzICogbXVsdGlwbGllcil9KSlgO1xuICAgICAgfSk7XG4gICAgICAvLyBzZXQgcm90YXRlc1xuICAgICAgci5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHZhbCA9IGRhdGEucm90YXRlW2luZGV4XSAqIE1hdGguYWJzKHByb2dyZXNzICogbXVsdGlwbGllcik7XG4gICAgICAgIGlmIChzd2lwZXIuYnJvd3NlciAmJiBzd2lwZXIuYnJvd3Nlci5pc1NhZmFyaSAmJiBNYXRoLmFicyh2YWwpIC8gOTAgJSAyID09PSAxKSB7XG4gICAgICAgICAgdmFsICs9IDAuMDAxO1xuICAgICAgICB9XG4gICAgICAgIHJbaW5kZXhdID0gdmFsO1xuICAgICAgfSk7XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB0cmFuc2xhdGVTdHJpbmcgPSB0LmpvaW4oJywgJyk7XG4gICAgICBjb25zdCByb3RhdGVTdHJpbmcgPSBgcm90YXRlWCgke3JbMF19ZGVnKSByb3RhdGVZKCR7clsxXX1kZWcpIHJvdGF0ZVooJHtyWzJdfWRlZylgO1xuICAgICAgY29uc3Qgc2NhbGVTdHJpbmcgPSBvcmlnaW5hbFByb2dyZXNzIDwgMCA/IGBzY2FsZSgkezEgKyAoMSAtIGRhdGEuc2NhbGUpICogb3JpZ2luYWxQcm9ncmVzcyAqIG11bHRpcGxpZXJ9KWAgOiBgc2NhbGUoJHsxIC0gKDEgLSBkYXRhLnNjYWxlKSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyfSlgO1xuICAgICAgY29uc3Qgb3BhY2l0eVN0cmluZyA9IG9yaWdpbmFsUHJvZ3Jlc3MgPCAwID8gMSArICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyIDogMSAtICgxIC0gZGF0YS5vcGFjaXR5KSAqIG9yaWdpbmFsUHJvZ3Jlc3MgKiBtdWx0aXBsaWVyO1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlU3RyaW5nfSkgJHtyb3RhdGVTdHJpbmd9ICR7c2NhbGVTdHJpbmd9YDtcblxuICAgICAgLy8gU2V0IHNoYWRvd3NcbiAgICAgIGlmIChjdXN0b20gJiYgZGF0YS5zaGFkb3cgfHwgIWN1c3RvbSkge1xuICAgICAgICBsZXQgc2hhZG93RWwgPSBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItc2xpZGUtc2hhZG93Jyk7XG4gICAgICAgIGlmICghc2hhZG93RWwgJiYgZGF0YS5zaGFkb3cpIHtcbiAgICAgICAgICBzaGFkb3dFbCA9IGNyZWF0ZVNoYWRvdygnY3JlYXRpdmUnLCBzbGlkZUVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhZG93RWwpIHtcbiAgICAgICAgICBjb25zdCBzaGFkb3dPcGFjaXR5ID0gcGFyYW1zLnNoYWRvd1BlclByb2dyZXNzID8gcHJvZ3Jlc3MgKiAoMSAvIHBhcmFtcy5saW1pdFByb2dyZXNzKSA6IHByb2dyZXNzO1xuICAgICAgICAgIHNoYWRvd0VsLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyhzaGFkb3dPcGFjaXR5KSwgMCksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHlTdHJpbmc7XG4gICAgICBpZiAoZGF0YS5vcmlnaW4pIHtcbiAgICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gZGF0YS5vcmlnaW47XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybUVsZW1lbnRzID0gc3dpcGVyLnNsaWRlcy5tYXAoc2xpZGVFbCA9PiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpKTtcbiAgICB0cmFuc2Zvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93JykuZm9yRWFjaChzaGFkb3dFbCA9PiB7XG4gICAgICAgIHNoYWRvd0VsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kKHtcbiAgICAgIHN3aXBlcixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgdHJhbnNmb3JtRWxlbWVudHMsXG4gICAgICBhbGxTbGlkZXM6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnY3JlYXRpdmUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBwZXJzcGVjdGl2ZTogKCkgPT4gc3dpcGVyLnBhcmFtcy5jcmVhdGl2ZUVmZmVjdC5wZXJzcGVjdGl2ZSxcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBFZmZlY3RDcmVhdGl2ZSBhcyBkZWZhdWx0IH07XG4iLCAiaW1wb3J0IHsgYyBhcyBjcmVhdGVTaGFkb3cgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlLXNoYWRvdy5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0Q2FyZHMoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgY2FyZHNFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHJvdGF0ZTogdHJ1ZSxcbiAgICAgIHBlclNsaWRlUm90YXRlOiAyLFxuICAgICAgcGVyU2xpZGVPZmZzZXQ6IDhcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzLFxuICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICBydGxUcmFuc2xhdGU6IHJ0bFxuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5jYXJkc0VmZmVjdDtcbiAgICBjb25zdCB7XG4gICAgICBzdGFydFRyYW5zbGF0ZSxcbiAgICAgIGlzVG91Y2hlZFxuICAgIH0gPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICAgIGNvbnN0IGN1cnJlbnRUcmFuc2xhdGUgPSBydGwgPyAtc3dpcGVyLnRyYW5zbGF0ZSA6IHN3aXBlci50cmFuc2xhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzbGlkZXNbaV07XG4gICAgICBjb25zdCBzbGlkZVByb2dyZXNzID0gc2xpZGVFbC5wcm9ncmVzcztcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVQcm9ncmVzcywgLTQpLCA0KTtcbiAgICAgIGxldCBvZmZzZXQgPSBzbGlkZUVsLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIXN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7c3dpcGVyLm1pblRyYW5zbGF0ZSgpfXB4KWA7XG4gICAgICB9XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICAgICAgb2Zmc2V0IC09IHNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIH1cbiAgICAgIGxldCB0WCA9IHN3aXBlci5wYXJhbXMuY3NzTW9kZSA/IC1vZmZzZXQgLSBzd2lwZXIudHJhbnNsYXRlIDogLW9mZnNldDtcbiAgICAgIGxldCB0WSA9IDA7XG4gICAgICBjb25zdCB0WiA9IC0xMDAgKiBNYXRoLmFicyhwcm9ncmVzcyk7XG4gICAgICBsZXQgc2NhbGUgPSAxO1xuICAgICAgbGV0IHJvdGF0ZSA9IC1wYXJhbXMucGVyU2xpZGVSb3RhdGUgKiBwcm9ncmVzcztcbiAgICAgIGxldCB0WEFkZCA9IHBhcmFtcy5wZXJTbGlkZU9mZnNldCAtIE1hdGguYWJzKHByb2dyZXNzKSAqIDAuNzU7XG4gICAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQgPyBzd2lwZXIudmlydHVhbC5mcm9tICsgaSA6IGk7XG4gICAgICBjb25zdCBpc1N3aXBlVG9OZXh0ID0gKHNsaWRlSW5kZXggPT09IGFjdGl2ZUluZGV4IHx8IHNsaWRlSW5kZXggPT09IGFjdGl2ZUluZGV4IC0gMSkgJiYgcHJvZ3Jlc3MgPiAwICYmIHByb2dyZXNzIDwgMSAmJiAoaXNUb3VjaGVkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkgJiYgY3VycmVudFRyYW5zbGF0ZSA8IHN0YXJ0VHJhbnNsYXRlO1xuICAgICAgY29uc3QgaXNTd2lwZVRvUHJldiA9IChzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCB8fCBzbGlkZUluZGV4ID09PSBhY3RpdmVJbmRleCArIDEpICYmIHByb2dyZXNzIDwgMCAmJiBwcm9ncmVzcyA+IC0xICYmIChpc1RvdWNoZWQgfHwgc3dpcGVyLnBhcmFtcy5jc3NNb2RlKSAmJiBjdXJyZW50VHJhbnNsYXRlID4gc3RhcnRUcmFuc2xhdGU7XG4gICAgICBpZiAoaXNTd2lwZVRvTmV4dCB8fCBpc1N3aXBlVG9QcmV2KSB7XG4gICAgICAgIGNvbnN0IHN1YlByb2dyZXNzID0gKDEgLSBNYXRoLmFicygoTWF0aC5hYnMocHJvZ3Jlc3MpIC0gMC41KSAvIDAuNSkpICoqIDAuNTtcbiAgICAgICAgcm90YXRlICs9IC0yOCAqIHByb2dyZXNzICogc3ViUHJvZ3Jlc3M7XG4gICAgICAgIHNjYWxlICs9IC0wLjUgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFhBZGQgKz0gOTYgKiBzdWJQcm9ncmVzcztcbiAgICAgICAgdFkgPSBgJHstMjUgKiBzdWJQcm9ncmVzcyAqIE1hdGguYWJzKHByb2dyZXNzKX0lYDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9ncmVzcyA8IDApIHtcbiAgICAgICAgLy8gbmV4dFxuICAgICAgICB0WCA9IGBjYWxjKCR7dFh9cHggJHtydGwgPyAnLScgOiAnKyd9ICgke3RYQWRkICogTWF0aC5hYnMocHJvZ3Jlc3MpfSUpKWA7XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzID4gMCkge1xuICAgICAgICAvLyBwcmV2XG4gICAgICAgIHRYID0gYGNhbGMoJHt0WH1weCAke3J0bCA/ICctJyA6ICcrJ30gKC0ke3RYQWRkICogTWF0aC5hYnMocHJvZ3Jlc3MpfSUpKWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0WCA9IGAke3RYfXB4YDtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIGNvbnN0IHByZXZZID0gdFk7XG4gICAgICAgIHRZID0gdFg7XG4gICAgICAgIHRYID0gcHJldlk7XG4gICAgICB9XG4gICAgICBjb25zdCBzY2FsZVN0cmluZyA9IHByb2dyZXNzIDwgMCA/IGAkezEgKyAoMSAtIHNjYWxlKSAqIHByb2dyZXNzfWAgOiBgJHsxIC0gKDEgLSBzY2FsZSkgKiBwcm9ncmVzc31gO1xuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gYFxuICAgICAgICB0cmFuc2xhdGUzZCgke3RYfSwgJHt0WX0sICR7dFp9cHgpXG4gICAgICAgIHJvdGF0ZVooJHtwYXJhbXMucm90YXRlID8gcnRsID8gLXJvdGF0ZSA6IHJvdGF0ZSA6IDB9ZGVnKVxuICAgICAgICBzY2FsZSgke3NjYWxlU3RyaW5nfSlcbiAgICAgIGA7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgIGlmIChwYXJhbXMuc2xpZGVTaGFkb3dzKSB7XG4gICAgICAgIC8vIFNldCBzaGFkb3dzXG4gICAgICAgIGxldCBzaGFkb3dFbCA9IHNsaWRlRWwucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS1zaGFkb3cnKTtcbiAgICAgICAgaWYgKCFzaGFkb3dFbCkge1xuICAgICAgICAgIHNoYWRvd0VsID0gY3JlYXRlU2hhZG93KCdjYXJkcycsIHNsaWRlRWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFkb3dFbCkgc2hhZG93RWwuc3R5bGUub3BhY2l0eSA9IE1hdGgubWluKE1hdGgubWF4KChNYXRoLmFicyhwcm9ncmVzcykgLSAwLjUpIC8gMC41LCAwKSwgMSk7XG4gICAgICB9XG4gICAgICBzbGlkZUVsLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKHNsaWRlUHJvZ3Jlc3MpKSArIHNsaWRlcy5sZW5ndGg7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdycpLmZvckVhY2goc2hhZG93RWwgPT4ge1xuICAgICAgICBzaGFkb3dFbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsZW1lbnRzXG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2NhcmRzJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgcGVyc3BlY3RpdmU6ICgpID0+IHRydWUsXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0Q2FyZHMgYXMgZGVmYXVsdCB9O1xuIiwgImV4cG9ydCB7ZGVmYXVsdCBhcyBWaXJ0dWFsfSBmcm9tICcuL3ZpcnR1YWwubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBLZXlib2FyZH0gZnJvbSAnLi9rZXlib2FyZC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE1vdXNld2hlZWx9IGZyb20gJy4vbW91c2V3aGVlbC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE5hdmlnYXRpb259IGZyb20gJy4vbmF2aWdhdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFBhZ2luYXRpb259IGZyb20gJy4vcGFnaW5hdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFNjcm9sbGJhcn0gZnJvbSAnLi9zY3JvbGxiYXIubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQYXJhbGxheH0gZnJvbSAnLi9wYXJhbGxheC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIFpvb219IGZyb20gJy4vem9vbS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENvbnRyb2xsZXJ9IGZyb20gJy4vY29udHJvbGxlci5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEExMXl9IGZyb20gJy4vYTExeS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEhpc3Rvcnl9IGZyb20gJy4vaGlzdG9yeS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEhhc2hOYXZpZ2F0aW9ufSBmcm9tICcuL2hhc2gtbmF2aWdhdGlvbi5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEF1dG9wbGF5fSBmcm9tICcuL2F1dG9wbGF5Lm1qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgVGh1bWJzfSBmcm9tICcuL3RodW1icy5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEZyZWVNb2RlfSBmcm9tICcuL2ZyZWUtbW9kZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEdyaWR9IGZyb20gJy4vZ3JpZC5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIE1hbmlwdWxhdGlvbn0gZnJvbSAnLi9tYW5pcHVsYXRpb24ubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBFZmZlY3RGYWRlfSBmcm9tICcuL2VmZmVjdC1mYWRlLm1qcyc7XG5leHBvcnQge2RlZmF1bHQgYXMgRWZmZWN0Q3ViZX0gZnJvbSAnLi9lZmZlY3QtY3ViZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdEZsaXB9IGZyb20gJy4vZWZmZWN0LWZsaXAubWpzJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBFZmZlY3RDb3ZlcmZsb3d9IGZyb20gJy4vZWZmZWN0LWNvdmVyZmxvdy5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdENyZWF0aXZlfSBmcm9tICcuL2VmZmVjdC1jcmVhdGl2ZS5tanMnO1xuZXhwb3J0IHtkZWZhdWx0IGFzIEVmZmVjdENhcmRzfSBmcm9tICcuL2VmZmVjdC1jYXJkcy5tanMnOyIsICJpbXBvcnQgU3dpcGVyIGZyb20gXCJzd2lwZXJcIjtcclxuaW1wb3J0IHtcclxuICBBdXRvcGxheSxcclxuICBFZmZlY3RGYWRlLFxyXG4gIEdyaWQsXHJcbiAgTW91c2V3aGVlbCxcclxuICBOYXZpZ2F0aW9uLFxyXG4gIFBhZ2luYXRpb24sXHJcbiAgVGh1bWJzLFxyXG4gIENvbnRyb2xsZXIsXHJcbn0gZnJvbSBcInN3aXBlci9tb2R1bGVzXCI7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHN3aXBlckluaXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzd2lwZXJJbml0KCkge1xyXG4gICQoXCIuc3dpcGVyLWNvbHVtbi1hdXRvXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAvLyBDb25maWd1cmF0aW9uIGZsYWdzdmlkZW9TZXR0aW5nXHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgIGxvb3A6ICR0aGlzLmhhc0NsYXNzKFwic3dpcGVyLWxvb3BcIiksXHJcbiAgICAgIHRvdWNoTW92ZTogJHRoaXMuaGFzQ2xhc3MoXCJhbGxvdy10b3VjaE1vdmVcIikgfHwgdHJ1ZSxcclxuICAgICAgbW91c2VXaGVlbDogJHRoaXMuaGFzQ2xhc3MoXCJhbGxvdy1tb3VzZVdoZWVsXCIpXHJcbiAgICAgICAgPyB7IGZvcmNlVG9BeGlzOiB0cnVlIH1cclxuICAgICAgICA6IGZhbHNlLFxyXG4gICAgICBhdXRvSGVpZ2h0OiAkdGhpcy5oYXNDbGFzcyhcImF1dG8taGVpZ2h0XCIpLFxyXG4gICAgICBoYXNWaWRlbzogJHRoaXMuaGFzQ2xhc3MoXCJhdXRvLWRldGVjdC12aWRlb1wiKSxcclxuICAgICAgcHJvZ3Jlc3NiYXI6ICR0aGlzLmhhc0NsYXNzKFwicHJvZ3Jlc3NiYXJcIiksXHJcbiAgICAgIHRpbWU6ICR0aGlzLmF0dHIoXCJkYXRhLXRpbWVcIikgfHwgMzUwMCxcclxuICAgICAgYXV0b3BsYXk6ICR0aGlzLmhhc0NsYXNzKFwiYXV0b3BsYXlcIiksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCB1bmlxdWUgaWRlbnRpZmllciBjbGFzc1xyXG4gICAgJHRoaXMuYWRkQ2xhc3MoYHN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fWApO1xyXG5cclxuICAgIC8vIENyZWF0ZSBzd2lwZXIgd2l0aCBvcHRpbWl6ZWQgb3B0aW9uc1xyXG4gICAgbmV3IFN3aXBlcihgLnN3aXBlci1jb2x1bW4tYXV0by1pZC0ke2luZGV4fSAuc3dpcGVyYCwge1xyXG4gICAgICBtb2R1bGVzOiBbTmF2aWdhdGlvbiwgUGFnaW5hdGlvbiwgTW91c2V3aGVlbF0sXHJcbiAgICAgIHNwZWVkOiA1MDAsXHJcbiAgICAgIG9ic2VydmVyOiB0cnVlLFxyXG4gICAgICBvYnNlcnZlUGFyZW50czogdHJ1ZSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICBsb29wOiBjb25maWcubG9vcCxcclxuICAgICAgLi4uKGNvbmZpZy5hdXRvcGxheSAmJiB7XHJcbiAgICAgICAgYXV0b3BsYXk6IHtcclxuICAgICAgICAgIGRlbGF5OiBjb25maWcudGltZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KSxcclxuICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBlbDogYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLnN3aXBlci1wYWdpbmF0aW9uYCxcclxuICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgLi4uKGNvbmZpZy5wcm9ncmVzc2JhciAmJiB7XHJcbiAgICAgICAgICB0eXBlOiBcInByb2dyZXNzYmFyXCIsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0sXHJcbiAgICAgIG1vdXNld2hlZWw6IGNvbmZpZy5tb3VzZVdoZWVsLFxyXG4gICAgICBhbGxvd1RvdWNoTW92ZTogY29uZmlnLnRvdWNoTW92ZSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIHByZXZFbDogYC5zd2lwZXItY29sdW1uLWF1dG8taWQtJHtpbmRleH0gLmJ0bi1wcmV2YCxcclxuICAgICAgICBuZXh0RWw6IGAuc3dpcGVyLWNvbHVtbi1hdXRvLWlkLSR7aW5kZXh9IC5idG4tbmV4dGAsXHJcbiAgICAgIH0sXHJcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXHJcbiAgICAgIGF1dG9IZWlnaHQ6IGNvbmZpZy5hdXRvSGVpZ2h0LFxyXG4gICAgICBvbjoge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHt9LFxyXG4gICAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7fSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIG5ldyBTd2lwZXIoXCIuc2VjdGlvbi1ob21lLWJhbm5lciAuc3dpcGVyXCIsIHtcclxuICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICBzcGVlZDogMTAwMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBlZmZlY3Q6IFwiZmFkZVwiLFxyXG4gICAgYXV0b3BsYXk6IHtcclxuICAgICAgZGVsYXk6IDM1MDAsXHJcbiAgICB9LFxyXG4gICAgbW9kdWxlczogW1BhZ2luYXRpb24sIE5hdmlnYXRpb24sIEF1dG9wbGF5LCBFZmZlY3RGYWRlXSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6IFwiLnNlY3Rpb24taG9tZS1iYW5uZXIgLnN3aXBlci1wYWdpbmF0aW9uXCIsXHJcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgcmVuZGVyQnVsbGV0OiBmdW5jdGlvbiAoaW5kZXgsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHNsaWRlID0gdGhpcy5zbGlkZXNbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gc2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS10aXRsZVwiKSB8fCBgU2xpZGUgJHtpbmRleCArIDF9YDtcclxuICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+JHt0aXRsZX08L3NwYW4+YDtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIuc2VjdGlvbi1ob21lLWJhbm5lciAuYnRuLW5leHRcIixcclxuICAgICAgcHJldkVsOiBcIi5zZWN0aW9uLWhvbWUtYmFubmVyIC5idG4tcHJldlwiLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgLy8gUGFnZSBCYW5uZXIgU3dpcGVyXHJcbiAgbmV3IFN3aXBlcihcIi5wYWdlLWJhbm5lciAuYmFubmVyLXN3aXBlclwiLCB7XHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgc3BlZWQ6IDMwMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBlZmZlY3Q6IFwiZmFkZVwiLFxyXG4gICAgYXV0b3BsYXk6IHtcclxuICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBtb2R1bGVzOiBbUGFnaW5hdGlvbiwgTmF2aWdhdGlvbiwgQXV0b3BsYXksIEVmZmVjdEZhZGVdLFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBlbDogXCIucGFnZS1iYW5uZXIgLmJhbm5lci1wYWdpbmF0aW9uXCIsXHJcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIucGFnZS1iYW5uZXIgLmJhbm5lci1uZXh0XCIsXHJcbiAgICAgIHByZXZFbDogXCIucGFnZS1iYW5uZXIgLmJhbm5lci1wcmV2XCIsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICAvLyBDdXN0b21lciBTbGlkZXIgKEhvbWUtMylcclxuICBuZXcgU3dpcGVyKFwiLmhvbWUtMyAuY3VzdG9tZXItc2xpZGVyXCIsIHtcclxuICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICBzcGFjZUJldHdlZW46IDE2LFxyXG4gICAgc3BlZWQ6IDUwMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBhdXRvcGxheToge1xyXG4gICAgICBkZWxheTogMzAwMCxcclxuICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIG1vZHVsZXM6IFtQYWdpbmF0aW9uLCBBdXRvcGxheSwgRWZmZWN0RmFkZV0sXHJcbiAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgIG5leHRFbDogXCIuaG9tZS0zIC5idG4tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLmhvbWUtMyAuYnRuLXByZXZcIixcclxuICAgIH0sXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5ob21lLTMgLmhvbWUtMy1wYWdpbmF0aW9uXCIsXHJcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA2NDA6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAyNCxcclxuICAgICAgfSxcclxuICAgICAgMTAyNDoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDUsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIC8vIEhvbWUgRXhwbG9yZSBTbGlkZXIgKEhvbWUtMilcclxuICBpZiAoJChcIi5zZWN0aW9uLWhvbWUtZXhwbG9yZSAuc3dpcGVyXCIpLmxlbmd0aCA+IDApIHtcclxuICAgIG5ldyBTd2lwZXIoXCIuc2VjdGlvbi1ob21lLWV4cGxvcmUgLnN3aXBlclwiLCB7XHJcbiAgICAgIG1vZHVsZXM6IFtQYWdpbmF0aW9uLCBBdXRvcGxheV0sXHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgc3BlZWQ6IDgwMCxcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgYXV0b3BsYXk6IHtcclxuICAgICAgICBkZWxheTogNDAwMCxcclxuICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBlbDogXCIuc2VjdGlvbi1ob21lLWV4cGxvcmUgLnN3aXBlci1wYWdpbmF0aW9uXCIsXHJcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBOZXcgQXJyaXZhbHMgU2xpZGVyIChIb21lLTMpXHJcbiAgaWYgKCQoXCIuc2VjdGlvbi1ob21lLW5ldy1hcnJpdmFscyAuc3dpcGVyXCIpLmxlbmd0aCA+IDApIHtcclxuICAgIG5ldyBTd2lwZXIoXCIuc2VjdGlvbi1ob21lLW5ldy1hcnJpdmFscyAuc3dpcGVyXCIsIHtcclxuICAgICAgbW9kdWxlczogW05hdmlnYXRpb25dLFxyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDEyLFxyXG4gICAgICBzcGVlZDogNjAwLFxyXG4gICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogXCIuc2VjdGlvbi1ob21lLW5ldy1hcnJpdmFscyAubmF2LW5leHRcIixcclxuICAgICAgICBwcmV2RWw6IFwiLnNlY3Rpb24taG9tZS1uZXctYXJyaXZhbHMgLm5hdi1wcmV2XCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgNjQwOiB7XHJcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMixcclxuICAgICAgICB9LFxyXG4gICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTYsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAxMDI0OiB7XHJcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gTW9kZXJuZSBIZXJpdGFnZSBDYXRlZ29yeSBTbGlkZXJzXHJcbiAgJChcIi5jYXRlZ29yeS1ibG9jayAuc2xpZGVyLXdyYXBwZXJcIikuZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG4gICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgLy8gQWRkIHVuaXF1ZSBjbGFzcyB0byBlbnN1cmUgaW5kZXBlbmRlbnQgbmF2aWdhdGlvblxyXG4gICAgJHRoaXMuYWRkQ2xhc3MoYG1vZGVybmUtc2xpZGVyLSR7aW5kZXh9YCk7XHJcblxyXG4gICAgbmV3IFN3aXBlcihgLm1vZGVybmUtc2xpZGVyLSR7aW5kZXh9IC5zd2lwZXJgLCB7XHJcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uXSxcclxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAxMixcclxuICAgICAgc3BlZWQ6IDYwMCxcclxuICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICBuZXh0RWw6IGAubW9kZXJuZS1zbGlkZXItJHtpbmRleH0gLm5hdi1uZXh0YCxcclxuICAgICAgICBwcmV2RWw6IGAubW9kZXJuZS1zbGlkZXItJHtpbmRleH0gLm5hdi1wcmV2YCxcclxuICAgICAgfSxcclxuICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICA2NDA6IHtcclxuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDE2LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTAyNDoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsICJpbXBvcnQgU3dpcGVyIGZyb20gXCJzd2lwZXJcIjtcclxuaW1wb3J0IHtcclxuICBGcmVlTW9kZSxcclxuICBOYXZpZ2F0aW9uLFxyXG4gIFRodW1icyxcclxuICBDb250cm9sbGVyLFxyXG4gIFBhZ2luYXRpb24sXHJcbn0gZnJvbSBcInN3aXBlci9tb2R1bGVzXCI7XHJcblxyXG4vKipcclxuICogUHJvZHVjdCBNZWRpYSBTY3JvbGwgJiBEcmFnIExvZ2ljIChEZXNrdG9wKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQcm9kdWN0TWVkaWFTY3JvbGwoKSB7XHJcbiAgY29uc3QgZWxlbWVudHMgPSB7XHJcbiAgICBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1tZWRpYVwiKSxcclxuICAgIHRodW1iUGFyZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lZGlhVGh1bWJEcmFnUGFyZW50XCIpLFxyXG4gICAgY3Vyc29yOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lZGlhVGh1bWJEcmFnQm94XCIpLFxyXG4gIH07XHJcblxyXG4gIGlmICghZWxlbWVudHMuY29udGFpbmVyIHx8ICFlbGVtZW50cy50aHVtYlBhcmVudCB8fCAhZWxlbWVudHMuY3Vyc29yKSByZXR1cm47XHJcblxyXG4gIC8vIFByZXZlbnQgbXVsdGlwbGUgaW5pdGlhbGl6YXRpb25zXHJcbiAgaWYgKGVsZW1lbnRzLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1pbml0aWFsaXplZFwiKSkgcmV0dXJuO1xyXG4gIGVsZW1lbnRzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaXMtaW5pdGlhbGl6ZWRcIik7XHJcblxyXG4gIC8vIERlc2t0b3Agb25seSBndWFyZCBmb3IgdGhpcyBsb2dpY1xyXG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEwMjQpIHJldHVybjtcclxuXHJcbiAgbGV0IHN0YXRlID0ge1xyXG4gICAgaXNEcmFnZ2luZzogZmFsc2UsXHJcbiAgICBzdGFydFk6IDAsXHJcbiAgICBzdGFydEN1cnNvclRvcDogMCxcclxuICAgIHJhZklkOiBudWxsLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN5bmNDdXJzb3JUb1Njcm9sbCA9ICgpID0+IHtcclxuICAgIC8vIENoZWNrIGFnYWluIGluc2lkZSBmcmFtZSBpZiBzdGlsbCBkZXNrdG9wXHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMDI0KSByZXR1cm47XHJcbiAgICBpZiAoc3RhdGUuaXNEcmFnZ2luZykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50cy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIGNvbnN0IG9mZnNldFRvcCA9IDEwMDsgLy8gSGVhZGVyL1N0aWNreSBidWZmZXJcclxuXHJcbiAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSBlbGVtZW50cy5jb250YWluZXIub2Zmc2V0SGVpZ2h0O1xyXG4gICAgY29uc3Qgc2Nyb2xsYWJsZURpc3QgPSBjb250YWluZXJIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCArIG9mZnNldFRvcDtcclxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGxlZCA9IG9mZnNldFRvcCAtIHJlY3QudG9wO1xyXG5cclxuICAgIGxldCBwZXJjZW50ID0gY3VycmVudFNjcm9sbGVkIC8gc2Nyb2xsYWJsZURpc3Q7XHJcbiAgICBwZXJjZW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcGVyY2VudCkpO1xyXG5cclxuICAgIGNvbnN0IHRyYWNrSGVpZ2h0ID0gZWxlbWVudHMudGh1bWJQYXJlbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgY29uc3QgY3Vyc29ySGVpZ2h0ID0gZWxlbWVudHMuY3Vyc29yLm9mZnNldEhlaWdodDtcclxuICAgIGNvbnN0IG1heEN1cnNvclRvcCA9IHRyYWNrSGVpZ2h0IC0gY3Vyc29ySGVpZ2h0O1xyXG5cclxuICAgIGNvbnN0IG5ld1RvcCA9IHBlcmNlbnQgKiBtYXhDdXJzb3JUb3A7XHJcbiAgICBlbGVtZW50cy5jdXJzb3Iuc3R5bGUudG9wID0gYCR7bmV3VG9wfXB4YDtcclxuICB9O1xyXG5cclxuICBjb25zdCBvbkRyYWdTdGFydCA9IChlKSA9PiB7XHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMDI0KSByZXR1cm47XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzdGF0ZS5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgIHN0YXRlLnN0YXJ0WSA9IGUuY2xpZW50WSB8fCBlLnRvdWNoZXM/LlswXT8uY2xpZW50WTtcclxuICAgIHN0YXRlLnN0YXJ0Q3Vyc29yVG9wID0gcGFyc2VGbG9hdChlbGVtZW50cy5jdXJzb3Iuc3R5bGUudG9wKSB8fCAwO1xyXG4gICAgZWxlbWVudHMuY3Vyc29yLnN0eWxlLmN1cnNvciA9IFwiZ3JhYmJpbmdcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbkRyYWdNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uRHJhZ0VuZCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uRHJhZ01vdmUsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgb25EcmFnRW5kKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvbkRyYWdNb3ZlID0gKGUpID0+IHtcclxuICAgIGlmICghc3RhdGUuaXNEcmFnZ2luZykgcmV0dXJuO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgY2xpZW50WSA9IGUuY2xpZW50WSB8fCBlLnRvdWNoZXM/LlswXT8uY2xpZW50WTtcclxuICAgIGNvbnN0IGRlbHRhWSA9IGNsaWVudFkgLSBzdGF0ZS5zdGFydFk7XHJcblxyXG4gICAgY29uc3QgdHJhY2tIZWlnaHQgPSBlbGVtZW50cy50aHVtYlBhcmVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICBjb25zdCBjdXJzb3JIZWlnaHQgPSBlbGVtZW50cy5jdXJzb3Iub2Zmc2V0SGVpZ2h0O1xyXG4gICAgY29uc3QgbWF4Q3Vyc29yVG9wID0gdHJhY2tIZWlnaHQgLSBjdXJzb3JIZWlnaHQ7XHJcbiAgICBsZXQgbmV3VG9wID0gc3RhdGUuc3RhcnRDdXJzb3JUb3AgKyBkZWx0YVk7XHJcbiAgICBuZXdUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihtYXhDdXJzb3JUb3AsIG5ld1RvcCkpO1xyXG4gICAgZWxlbWVudHMuY3Vyc29yLnN0eWxlLnRvcCA9IGAke25ld1RvcH1weGA7XHJcbiAgICBjb25zdCBwZXJjZW50ID0gbmV3VG9wIC8gbWF4Q3Vyc29yVG9wO1xyXG4gICAgY29uc3QgcmVjdCA9IGVsZW1lbnRzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lckN1cnJlbnRUb3AgPSByZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBjb25zdCBvZmZzZXRUb3AgPSAxMDA7XHJcbiAgICBjb25zdCBzY3JvbGxhYmxlRGlzdCA9XHJcbiAgICAgIGVsZW1lbnRzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCArIG9mZnNldFRvcDtcclxuICAgIGNvbnN0IHRhcmdldFNjcm9sbFkgPVxyXG4gICAgICBjb250YWluZXJDdXJyZW50VG9wICsgcGVyY2VudCAqIHNjcm9sbGFibGVEaXN0IC0gb2Zmc2V0VG9wO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIHRhcmdldFNjcm9sbFkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9uRHJhZ0VuZCA9ICgpID0+IHtcclxuICAgIHN0YXRlLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIGVsZW1lbnRzLmN1cnNvci5zdHlsZS5jdXJzb3IgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJcIjtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25EcmFnTW92ZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBvbkRyYWdFbmQpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvbkRyYWdNb3ZlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBvbkRyYWdFbmQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9uRGJsQ2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTAyNCkgcmV0dXJuO1xyXG4gICAgaWYgKGVsZW1lbnRzLmN1cnNvci5jb250YWlucyhlLnRhcmdldCkpIHJldHVybjtcclxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50cy50aHVtYlBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGNsaWNrWSA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgY29uc3QgdHJhY2tIZWlnaHQgPSBlbGVtZW50cy50aHVtYlBhcmVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICBjb25zdCBjdXJzb3JIZWlnaHQgPSBlbGVtZW50cy5jdXJzb3Iub2Zmc2V0SGVpZ2h0O1xyXG4gICAgY29uc3QgbWF4Q3Vyc29yVG9wID0gdHJhY2tIZWlnaHQgLSBjdXJzb3JIZWlnaHQ7XHJcbiAgICBsZXQgdGFyZ2V0VG9wID0gY2xpY2tZIC0gY3Vyc29ySGVpZ2h0IC8gMjtcclxuICAgIHRhcmdldFRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKG1heEN1cnNvclRvcCwgdGFyZ2V0VG9wKSk7XHJcbiAgICBjb25zdCBwZXJjZW50ID0gdGFyZ2V0VG9wIC8gbWF4Q3Vyc29yVG9wO1xyXG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGVsZW1lbnRzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lckN1cnJlbnRUb3AgPSBjb250YWluZXJSZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBjb25zdCBvZmZzZXRUb3AgPSAxMDA7XHJcbiAgICBjb25zdCBzY3JvbGxhYmxlRGlzdCA9XHJcbiAgICAgIGVsZW1lbnRzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCArIG9mZnNldFRvcDtcclxuICAgIGNvbnN0IHRhcmdldFNjcm9sbFkgPVxyXG4gICAgICBjb250YWluZXJDdXJyZW50VG9wICsgcGVyY2VudCAqIHNjcm9sbGFibGVEaXN0IC0gb2Zmc2V0VG9wO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgdG9wOiB0YXJnZXRTY3JvbGxZLFxyXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgIGlmICghc3RhdGUucmFmSWQpIHtcclxuICAgICAgc3RhdGUucmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHN5bmNDdXJzb3JUb1Njcm9sbCgpO1xyXG4gICAgICAgIHN0YXRlLnJhZklkID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGVsZW1lbnRzLmN1cnNvci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uRHJhZ1N0YXJ0KTtcclxuICBlbGVtZW50cy5jdXJzb3IuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25EcmFnU3RhcnQsIHtcclxuICAgIHBhc3NpdmU6IGZhbHNlLFxyXG4gIH0pO1xyXG4gIGVsZW1lbnRzLnRodW1iUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBvbkRibENsaWNrKTtcclxuXHJcbiAgLy8gSW5pdGlhbCBzeW5jIGNoZWNrXHJcbiAgc3luY0N1cnNvclRvU2Nyb2xsKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNb2JpbGUgTWVkaWEgU3dpcGVyIExvZ2ljXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFByb2R1Y3RNZWRpYVNsaWRlck1vYmlsZSgpIHtcclxuICBsZXQgbWFpblN3aXBlciA9IG51bGw7XHJcbiAgbGV0IHRodW1iU3dpcGVyID0gbnVsbDtcclxuXHJcbiAgY29uc3QgaW5pdFN3aXBlciA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSAxMDI0KSB7XHJcbiAgICAgIGlmIChtYWluU3dpcGVyICYmIHR5cGVvZiBtYWluU3dpcGVyLmRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBtYWluU3dpcGVyLmRlc3Ryb3kodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiU3dpcGVyIGRlc3Ryb3kgZXJyb3I6XCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYWluU3dpcGVyID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGh1bWJTd2lwZXIgJiYgdHlwZW9mIHRodW1iU3dpcGVyLmRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB0aHVtYlN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlN3aXBlciBkZXN0cm95IGVycm9yOlwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGh1bWJTd2lwZXIgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobWFpblN3aXBlcikgcmV0dXJuOyAvLyBBbHJlYWR5IGluaXRcclxuXHJcbiAgICBjb25zdCBtYWluRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2R1Y3QtaW1hZ2VzXCIpO1xyXG4gICAgY29uc3QgdGh1bWJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC10aHVtYnNcIik7XHJcbiAgICBpZiAoIW1haW5FbCB8fCAhdGh1bWJFbCkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEluaXQgVGh1bWJzXHJcbiAgICB0aHVtYlN3aXBlciA9IG5ldyBTd2lwZXIodGh1bWJFbCwge1xyXG4gICAgICBtb2R1bGVzOiBbRnJlZU1vZGVdLFxyXG4gICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcclxuICAgICAgZnJlZU1vZGU6IHRydWUsXHJcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbml0IE1haW5cclxuICAgIG1haW5Td2lwZXIgPSBuZXcgU3dpcGVyKG1haW5FbCwge1xyXG4gICAgICBtb2R1bGVzOiBbVGh1bWJzLCBOYXZpZ2F0aW9uXSxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgdGh1bWJzOiB7XHJcbiAgICAgICAgc3dpcGVyOiB0aHVtYlN3aXBlcixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIEluaXQgb24gbG9hZFxyXG4gIGluaXRTd2lwZXIoKTtcclxuXHJcbiAgLy8gQ2hlY2sgb24gcmVzaXplXHJcbiAgbGV0IHJlc2l6ZVRpbWVyO1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XHJcbiAgICByZXNpemVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBpbml0U3dpcGVyKCk7XHJcblxyXG4gICAgICAvLyBBbHNvIHJlLXRyaWdnZXIgZGVza3RvcCBzY3JvbGwgaW5pdCBjaGVjayBpZiBzd2l0Y2hlZCB0byBkZXNrdG9wXHJcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSAxMDI0KSB7XHJcbiAgICAgICAgaW5pdFByb2R1Y3RNZWRpYVNjcm9sbCgpO1xyXG4gICAgICB9XHJcbiAgICB9LCAyMDApO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU2l6ZSBHdWlkZSBQb3B1cCBMb2dpY1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTaXplR3VpZGVQb3B1cCgpIHtcclxuICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaXplLWd1aWRlLWxpbmtcIik7XHJcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwU2l6ZUd1aWRlXCIpO1xyXG4gIGlmICghdHJpZ2dlciB8fCAhcG9wdXApIHJldHVybjtcclxuXHJcbiAgY29uc3QgY2xvc2VCdG4gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWNsb3NlXCIpO1xyXG4gIGNvbnN0IGJhY2tkcm9wID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1iYWNrZHJvcFwiKTtcclxuICBjb25zdCB0YWJzID0gcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi50YWItaXRlbVwiKTtcclxuICBjb25zdCB0YWJDb250ZW50cyA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWNvbnRlbnRcIik7IC8vIFNob3VsZCBjaGVjayBjb3JyZWN0IGNsYXNzIG9yIGF0dHJpYnV0ZVxyXG5cclxuICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjbG9zZVBvcHVwID0gKCkgPT4ge1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVBvcHVwKTtcclxuICBiYWNrZHJvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQb3B1cCk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIiAmJiBwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIGNsb3NlUG9wdXAoKTtcclxuICB9KTtcclxuXHJcbiAgdGFicy5mb3JFYWNoKCh0YWIpID0+IHtcclxuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0YWJzLmZvckVhY2goKHQpID0+IHQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSk7XHJcbiAgICAgIC8vIEZpeDogc2VsZWN0IHBvcHVwLXRhYi1jb250ZW50IGluc3RlYWQgb2YgZ2VuZXJpYyB0YWItY29udGVudCBpZiByZXVzZWRcclxuICAgICAgY29uc3QgcG9wdXBDb250ZW50cyA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXAtdGFiLWNvbnRlbnRcIik7XHJcbiAgICAgIHBvcHVwQ29udGVudHMuZm9yRWFjaCgoYykgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuXHJcbiAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICBjb25zdCB0YXJnZXRJZCA9IHRhYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhYlwiKTtcclxuICAgICAgY29uc3QgdGFyZ2V0Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKTtcclxuICAgICAgaWYgKHRhcmdldENvbnRlbnQpIHRhcmdldENvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBQcm9kdWN0IERlc2NyaXB0aW9uIFNjcm9sbCBFZmZlY3RcclxuICogU2Nyb2xsIFVwIC0+IEhpZGUgZGVzY1xyXG4gKiBTY3JvbGwgRG93biAtPiBTaG93IGRlc2NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0UHJvZHVjdERlc2NTY3JvbGwoKSB7XHJcbiAgY29uc3QgZGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1kZXNjXCIpO1xyXG4gIGlmICghZGVzYykgcmV0dXJuO1xyXG5cclxuICBsZXQgbGFzdFNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gIGxldCBpc1Njcm9sbGluZztcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICBcInNjcm9sbFwiLFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICAvLyBEZXNrdG9wIG9ubHkgY2hlY2tcclxuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTAyNCkge1xyXG4gICAgICAgIGRlc2MuY2xhc3NMaXN0LnJlbW92ZShcImNvbGxhcHNlZFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN0ID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcblxyXG4gICAgICAvLyBJZ25vcmUgdG9wIGJvdW5jZSBvciBzbWFsbCBtb3ZlbWVudHNcclxuICAgICAgaWYgKHN0IDwgMCkgcmV0dXJuO1xyXG4gICAgICBpZiAoTWF0aC5hYnMobGFzdFNjcm9sbFRvcCAtIHN0KSA8IDUpIHJldHVybjtcclxuXHJcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShpc1Njcm9sbGluZyk7XHJcblxyXG4gICAgICBpc1Njcm9sbGluZyA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdCA8IGxhc3RTY3JvbGxUb3ApIHtcclxuICAgICAgICAgIC8vIFNjcm9sbCBVUCAtPiBIaWRlXHJcbiAgICAgICAgICAvLyBPbmx5IGhpZGUgaWYgd2UgYXJlIG5vdCBhdCB0aGUgdmVyeSB0b3AgKG9wdGlvbmFsIFVYIGNob2ljZSwgc3RpY2tpbmcgdG8gcmVxdWVzdClcclxuICAgICAgICAgICAgZGVzYy5jbGFzc0xpc3QucmVtb3ZlKFwiY29sbGFwc2VkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBTY3JvbGwgRE9XTiAtPiBTaG93XHJcbiAgICAgICAgICBkZXNjLmNsYXNzTGlzdC5hZGQoXCJjb2xsYXBzZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgeyBwYXNzaXZlOiB0cnVlIH1cclxuICApO1xyXG59XHJcbiIsICJpbXBvcnQgU3dpcGVyIGZyb20gXCJzd2lwZXJcIjtcclxuaW1wb3J0IHtcclxuICBBdXRvcGxheSxcclxuICBFZmZlY3RGYWRlLFxyXG4gIEdyaWQsXHJcbiAgTW91c2V3aGVlbCxcclxuICBOYXZpZ2F0aW9uLFxyXG4gIFBhZ2luYXRpb24sXHJcbiAgVGh1bWJzLFxyXG4gIENvbnRyb2xsZXIsXHJcbn0gZnJvbSBcInN3aXBlci9tb2R1bGVzXCI7XHJcblxyXG4vKipcclxuICogQWJvdXQgUGFnZSBTY3JpcHRzXHJcbiAqIEhhbmRsZXMgVGltZWxpbmUgU3dpcGVyIGFuZCBJbnRlcmFjdGlvbnNcclxuICovXHJcblxyXG5leHBvcnQgY29uc3QgaW5pdEFib3V0Q21wID0gKCkgPT4ge1xyXG4gIGNvbnN0IHRpbWVsaW5lU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZWxpbmUtc2VjdGlvblwiKTtcclxuICBpZiAoIXRpbWVsaW5lU2VjdGlvbikgcmV0dXJuO1xyXG5cclxuICAvLyBJbml0aWFsaXplIFN3aXBlclxyXG4gIGNvbnN0IHN3aXBlckNvbnRhaW5lciA9IHRpbWVsaW5lU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLnRpbWVsaW5lLXNsaWRlclwiKTtcclxuICBpZiAoc3dpcGVyQ29udGFpbmVyKSB7XHJcbiAgICBjb25zdCB0aW1lbGluZVN3aXBlciA9IG5ldyBTd2lwZXIoc3dpcGVyQ29udGFpbmVyLCB7XHJcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBFZmZlY3RGYWRlXSxcclxuICAgICAgc3BlZWQ6IDgwMCxcclxuICAgICAgZWZmZWN0OiBcImZhZGVcIixcclxuICAgICAgZmFkZUVmZmVjdDoge1xyXG4gICAgICAgIGNyb3NzRmFkZTogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIHByZXZFbDogXCIuc2xpZGVyLWNvbnRyb2xzIC5idG4tbmF2LnByZXZcIixcclxuICAgICAgICBuZXh0RWw6IFwiLnNsaWRlci1jb250cm9scyAuYnRuLW5hdi5uZXh0XCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIG9uOiB7XHJcbiAgICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHVwZGF0ZUFjdGl2ZURvdCh0aGlzLmFjdGl2ZUluZGV4KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZG90cyA9IHRpbWVsaW5lU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLmRvdHMtbGlzdCAuZG90LWl0ZW1cIik7XHJcbiAgICBjb25zdCBwcm9ncmVzc0JhciA9IHRpbWVsaW5lU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLnRpbWVsaW5lLXByb2dyZXNzXCIpO1xyXG5cclxuICAgIC8vIENsaWNrIEV2ZW50XHJcbiAgICBkb3RzLmZvckVhY2goKGRvdCkgPT4ge1xyXG4gICAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSk7XHJcbiAgICAgICAgaWYgKCFpc05hTihpbmRleCkpIHtcclxuICAgICAgICAgIHRpbWVsaW5lU3dpcGVyLnNsaWRlVG8oaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBIYW5kbGUgV2luZG93IFJlc2l6ZVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICB1cGRhdGVBY3RpdmVEb3QodGltZWxpbmVTd2lwZXIuYWN0aXZlSW5kZXgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTWFpbiBGdW5jdGlvbiB0byBVcGRhdGUgU3RhdGVcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZURvdChpbmRleCkge1xyXG4gICAgICAvLyAxLiBEZXRlcm1pbmUgYnJlYWtwb2ludCBhbmQgbGltaXRzXHJcbiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgIGxldCBtYXhWaXNpYmxlID0gZG90cy5sZW5ndGg7IC8vIERlZmF1bHQgZGVza3RvcCAoPj0gMTI4MClcclxuXHJcbiAgICAgIGlmICh3aWR0aCA8IDc2OCkge1xyXG4gICAgICAgIG1heFZpc2libGUgPSAzO1xyXG4gICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMTI4MCkge1xyXG4gICAgICAgIG1heFZpc2libGUgPSA1O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAyLiBDYWxjdWxhdGUgVmlzaWJsZSBSYW5nZSAoQ2VudGVyIGFjdGl2ZSBpbmRleClcclxuICAgICAgbGV0IHN0YXJ0ID0gMDtcclxuICAgICAgbGV0IGVuZCA9IGRvdHMubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgIGlmIChtYXhWaXNpYmxlIDwgZG90cy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBoYWxmID0gTWF0aC5mbG9vcihtYXhWaXNpYmxlIC8gMik7XHJcbiAgICAgICAgc3RhcnQgPSBpbmRleCAtIGhhbGY7XHJcbiAgICAgICAgZW5kID0gaW5kZXggKyBoYWxmO1xyXG5cclxuICAgICAgICAvLyBBZGp1c3QgYm91bmRhcmllc1xyXG4gICAgICAgIGlmIChzdGFydCA8IDApIHtcclxuICAgICAgICAgIHN0YXJ0ID0gMDtcclxuICAgICAgICAgIGVuZCA9IG1heFZpc2libGUgLSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZW5kID49IGRvdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBlbmQgPSBkb3RzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICBzdGFydCA9IGRvdHMubGVuZ3RoIC0gbWF4VmlzaWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIDMuIFVwZGF0ZSBWaXNpYmlsaXR5IGFuZCBBY3RpdmUgQ2xhc3Nlc1xyXG4gICAgICBsZXQgdmlzaWJsZUNvdW50ID0gMDtcclxuICAgICAgbGV0IHJlbGF0aXZlQWN0aXZlSW5kZXggPSAwO1xyXG5cclxuICAgICAgZG90cy5mb3JFYWNoKChkLCBpKSA9PiB7XHJcbiAgICAgICAgLy8gUmVzZXQgY2xhc3Nlc1xyXG4gICAgICAgIGQuY2xhc3NMaXN0LnJlbW92ZShcImN1cnJlbnRcIiwgXCJhY3RpdmVcIiwgXCJpcy1oaWRkZW5cIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVmlzaWJpbGl0eSBDaGVja1xyXG4gICAgICAgIGlmIChpID49IHN0YXJ0ICYmIGkgPD0gZW5kKSB7XHJcbiAgICAgICAgICBkLnN0eWxlLmRpc3BsYXkgPSBcIlwiOyAvLyBTaG93XHJcbiAgICAgICAgICB2aXNpYmxlQ291bnQrKztcclxuICAgICAgICAgIGlmIChpID09PSBpbmRleCkgcmVsYXRpdmVBY3RpdmVJbmRleCA9IGkgLSBzdGFydDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZC5jbGFzc0xpc3QuYWRkKFwiaXMtaGlkZGVuXCIpOyAvLyBIaWRlIGNsYXNzIGZvciBTYXNzXHJcbiAgICAgICAgICBkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgICAgIC8vIElubGluZSBmYWxsYmFja1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWN0aXZlIFN0YXRlIChBbGwgcHJldmlvdXMgaXRlbXMgYWN0aXZlKVxyXG4gICAgICAgIGlmIChpIDw9IGluZGV4KSB7XHJcbiAgICAgICAgICBkLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEN1cnJlbnQgU3RhdGVcclxuICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgIGQuY2xhc3NMaXN0LmFkZChcImN1cnJlbnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIDQuIFVwZGF0ZSBQcm9ncmVzcyBCYXJcclxuICAgICAgaWYgKHByb2dyZXNzQmFyICYmIHZpc2libGVDb3VudCA+IDEpIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgcGVyY2VudGFnZSBiYXNlZCBvbiBSZWxhdGl2ZSBQb3NpdGlvbiBpbiBWaXNpYmxlIFNldFxyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gKHJlbGF0aXZlQWN0aXZlSW5kZXggLyAodmlzaWJsZUNvdW50IC0gMSkpICogMTAwO1xyXG4gICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7XHJcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAnMCUnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbCBMb2FkXHJcbiAgICB1cGRhdGVBY3RpdmVEb3QoMCk7XHJcbiAgfVxyXG59O1xyXG4iLCAiZXhwb3J0IGNvbnN0IGluaXRIb21lNCA9ICgpID0+IHtcclxuXHRjb25zdCBkZXNjV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbi1ob21lLXBvcHVsYXIgLnNlY3Rpb24tZGVzYy13cmFwcGVyXCIpO1xyXG5cdGNvbnN0IHJlYWRNb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWhvbWUtcG9wdWxhciAuYnRuLXJlYWRtb3JlXCIpO1xyXG5cdFxyXG5cdGlmIChkZXNjV3JhcHBlciAmJiByZWFkTW9yZUJ0bikge1xyXG5cdFx0cmVhZE1vcmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgaXNFeHBhbmRlZCA9IGRlc2NXcmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhcImlzLWV4cGFuZGVkXCIpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGlzRXhwYW5kZWQpIHtcclxuXHRcdFx0XHQvLyBDb2xsYXBzZVxyXG5cdFx0XHRcdGRlc2NXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1leHBhbmRlZFwiKTtcclxuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0XHRcdFx0Ly8gTmVlZCB0byByZXNldCBtYXgtaGVpZ2h0IHRvIHN0eWxpbmcgZGVmYXVsdCB2aWEgY2xhc3MgcmVtb3ZhbFxyXG5cdFx0XHRcdGRlc2NXcmFwcGVyLnN0eWxlLm1heEhlaWdodCA9IG51bGw7IFxyXG5cdFx0XHRcdHRoaXMucXVlcnlTZWxlY3RvcihcInNwYW5cIikudGV4dENvbnRlbnQgPSBcIlJlYWQgbW9yZVwiO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEV4cGFuZFxyXG5cdFx0XHRcdGRlc2NXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJpcy1leHBhbmRlZFwiKTtcclxuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblx0XHRcdFx0Ly8gZGlzdGluY3QgaGVpZ2h0IGZvciBuaWNlIHRyYW5zaXRpb24gaWYgd2Ugd2FudCBleGFjdCBoZWlnaHQgYW5pbWF0aW9uIGZyb20gSlNcclxuXHRcdFx0XHRkZXNjV3JhcHBlci5zdHlsZS5tYXhIZWlnaHQgPSBkZXNjV3JhcHBlci5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcblx0XHRcdFx0dGhpcy5xdWVyeVNlbGVjdG9yKFwic3BhblwiKS50ZXh0Q29udGVudCA9IFwiU2hvdyBsZXNzXCI7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuIiwgIi8qKlxyXG4gKiBTaG9wIFRvb2xiYXIgLSBGaWx0ZXIgRHJvcGRvd24gQ29udHJvbGxlclxyXG4gKiBcclxuICogRmVhdHVyZXM6XHJcbiAqIC0gVG9nZ2xlIGRyb3Bkb3duIG9wZW4vY2xvc2VcclxuICogLSBTZWxlY3QgZmlsdGVyIG9wdGlvblxyXG4gKiAtIENsZWFyIHNlbGVjdGlvbiB3aXRoIFggYnV0dG9uXHJcbiAqIC0gVXBkYXRlIFVSTCBwYXJhbXMgZm9yIFdvcmRQcmVzcyBjb21wYXRpYmlsaXR5XHJcbiAqIC0gQ2xvc2UgZHJvcGRvd24gb24gb3V0c2lkZSBjbGlja1xyXG4gKi9cclxuXHJcbmNsYXNzIFNob3BUb29sYmFyIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1kcm9wZG93bicpO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0aWYgKCF0aGlzLmRyb3Bkb3ducy5sZW5ndGgpIHJldHVybjtcclxuXHJcblx0XHR0aGlzLmRyb3Bkb3ducy5mb3JFYWNoKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0dGhpcy5pbml0RHJvcGRvd24oZHJvcGRvd24pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ2xvc2UgYWxsIGRyb3Bkb3ducyBvbiBvdXRzaWRlIGNsaWNrXHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmZpbHRlci1kcm9wZG93bicpKSB7XHJcblx0XHRcdFx0dGhpcy5jbG9zZUFsbERyb3Bkb3ducygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDbG9zZSBvbiBFU0Mga2V5XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuXHRcdFx0aWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG5cdFx0XHRcdHRoaXMuY2xvc2VBbGxEcm9wZG93bnMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBmcm9tIFVSTCBwYXJhbXNcclxuXHRcdHRoaXMuaW5pdEZyb21VUkwoKTtcclxuXHR9XHJcblxyXG5cdGluaXREcm9wZG93bihkcm9wZG93bikge1xyXG5cdFx0Y29uc3QgdHJpZ2dlciA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItdHJpZ2dlcicpO1xyXG5cdFx0Y29uc3QgY2xlYXJCdG4gPSBkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLWNsZWFyJyk7XHJcblx0XHRjb25zdCBvcHRpb25zID0gZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1vcHRpb24gYScpO1xyXG5cclxuXHRcdC8vIFRvZ2dsZSBkcm9wZG93blxyXG5cdFx0dHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdC8vIERvbid0IHRvZ2dsZSBpZiBjbGlja2luZyBjbGVhciBidXR0b25cclxuXHRcdFx0aWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5maWx0ZXItY2xlYXInKSkge1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0dGhpcy5jbGVhclNlbGVjdGlvbihkcm9wZG93bik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLnRvZ2dsZURyb3Bkb3duKGRyb3Bkb3duKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENsZWFyIGJ1dHRvbiBjbGlja1xyXG5cdFx0aWYgKGNsZWFyQnRuKSB7XHJcblx0XHRcdGNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR0aGlzLmNsZWFyU2VsZWN0aW9uKGRyb3Bkb3duKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT3B0aW9uIHNlbGVjdGlvblxyXG5cdFx0b3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XHJcblx0XHRcdG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMuc2VsZWN0T3B0aW9uKGRyb3Bkb3duLCBvcHRpb24pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlRHJvcGRvd24oZHJvcGRvd24pIHtcclxuXHRcdGNvbnN0IGlzT3BlbiA9IGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtb3BlbicpO1xyXG5cclxuXHRcdC8vIENsb3NlIGFsbCBvdGhlciBkcm9wZG93bnNcclxuXHRcdHRoaXMuY2xvc2VBbGxEcm9wZG93bnMoKTtcclxuXHJcblx0XHQvLyBUb2dnbGUgY3VycmVudFxyXG5cdFx0aWYgKCFpc09wZW4pIHtcclxuXHRcdFx0ZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y2xvc2VBbGxEcm9wZG93bnMoKSB7XHJcblx0XHR0aGlzLmRyb3Bkb3ducy5mb3JFYWNoKGQgPT4gZC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJykpO1xyXG5cdH1cclxuXHJcblx0c2VsZWN0T3B0aW9uKGRyb3Bkb3duLCBvcHRpb25MaW5rKSB7XHJcblx0XHRjb25zdCB0YXhvbm9teSA9IGRyb3Bkb3duLmRhdGFzZXQudGF4b25vbXk7XHJcblx0XHRjb25zdCB2YWx1ZSA9IG9wdGlvbkxpbmsuZGF0YXNldC5maWx0ZXJWYWx1ZTtcclxuXHRcdGNvbnN0IGxhYmVsID0gb3B0aW9uTGluay5xdWVyeVNlbGVjdG9yKCcub3B0aW9uLWxhYmVsJykudGV4dENvbnRlbnQ7XHJcblx0XHRjb25zdCB0cmlnZ2VyTGFiZWwgPSBkcm9wZG93bi5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLWxhYmVsJyk7XHJcblx0XHRjb25zdCBvcHRpb25JdGVtID0gb3B0aW9uTGluay5jbG9zZXN0KCcuZmlsdGVyLW9wdGlvbicpO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBVSVxyXG5cdFx0ZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnaGFzLXZhbHVlJyk7XHJcblx0XHRkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XHJcblx0XHR0cmlnZ2VyTGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbDtcclxuXHJcblx0XHQvLyBNYXJrIG9wdGlvbiBhcyBzZWxlY3RlZFxyXG5cdFx0ZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1vcHRpb24nKS5mb3JFYWNoKG9wdCA9PiB7XHJcblx0XHRcdG9wdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1zZWxlY3RlZCcpO1xyXG5cdFx0fSk7XHJcblx0XHRvcHRpb25JdGVtLmNsYXNzTGlzdC5hZGQoJ2lzLXNlbGVjdGVkJyk7XHJcblxyXG5cdFx0Ly8gU3RvcmUgc2VsZWN0ZWQgdmFsdWVcclxuXHRcdGRyb3Bkb3duLmRhdGFzZXQuc2VsZWN0ZWRWYWx1ZSA9IHZhbHVlO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBVUkwgYW5kIHRyaWdnZXIgZmlsdGVyXHJcblx0XHR0aGlzLnVwZGF0ZVVSTCh0YXhvbm9teSwgdmFsdWUpO1xyXG5cdFx0dGhpcy50cmlnZ2VyRmlsdGVyKCk7XHJcblx0fVxyXG5cclxuXHRjbGVhclNlbGVjdGlvbihkcm9wZG93bikge1xyXG5cdFx0Y29uc3QgdGF4b25vbXkgPSBkcm9wZG93bi5kYXRhc2V0LnRheG9ub215O1xyXG5cdFx0Y29uc3QgZmlsdGVyTmFtZSA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItdHJpZ2dlcicpLmRhdGFzZXQuZmlsdGVyTmFtZTtcclxuXHRcdGNvbnN0IHRyaWdnZXJMYWJlbCA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItbGFiZWwnKTtcclxuXHJcblx0XHQvLyBSZXNldCBVSVxyXG5cdFx0ZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaGFzLXZhbHVlJyk7XHJcblx0XHRkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XHJcblx0XHR0cmlnZ2VyTGFiZWwudGV4dENvbnRlbnQgPSBmaWx0ZXJOYW1lO1xyXG5cclxuXHRcdC8vIENsZWFyIHNlbGVjdGVkIG9wdGlvblxyXG5cdFx0ZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1vcHRpb24nKS5mb3JFYWNoKG9wdCA9PiB7XHJcblx0XHRcdG9wdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1zZWxlY3RlZCcpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQ2xlYXIgc3RvcmVkIHZhbHVlXHJcblx0XHRkZWxldGUgZHJvcGRvd24uZGF0YXNldC5zZWxlY3RlZFZhbHVlO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBVUkwgYW5kIHRyaWdnZXIgZmlsdGVyXHJcblx0XHR0aGlzLnVwZGF0ZVVSTCh0YXhvbm9teSwgbnVsbCk7XHJcblx0XHR0aGlzLnRyaWdnZXJGaWx0ZXIoKTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZVVSTCh0YXhvbm9teSwgdmFsdWUpIHtcclxuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cclxuXHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHR1cmwuc2VhcmNoUGFyYW1zLnNldCh0YXhvbm9teSwgdmFsdWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dXJsLnNlYXJjaFBhcmFtcy5kZWxldGUodGF4b25vbXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFVwZGF0ZSBicm93c2VyIFVSTCB3aXRob3V0IHJlbG9hZCAoZm9yIEFKQVggZmlsdGVyaW5nKVxyXG5cdFx0d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgdXJsLnRvU3RyaW5nKCkpO1xyXG5cdH1cclxuXHJcblx0aW5pdEZyb21VUkwoKSB7XHJcblx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcblx0XHR0aGlzLmRyb3Bkb3ducy5mb3JFYWNoKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0Y29uc3QgdGF4b25vbXkgPSBkcm9wZG93bi5kYXRhc2V0LnRheG9ub215O1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KHRheG9ub215KTtcclxuXHJcblx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdC8vIEZpbmQgYW5kIHNlbGVjdCB0aGUgb3B0aW9uXHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9uID0gZHJvcGRvd24ucXVlcnlTZWxlY3RvcihgW2RhdGEtZmlsdGVyLXZhbHVlPVwiJHt2YWx1ZX1cIl1gKTtcclxuXHRcdFx0XHRpZiAob3B0aW9uKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdE9wdGlvbihkcm9wZG93biwgb3B0aW9uKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dHJpZ2dlckZpbHRlcigpIHtcclxuXHRcdC8vIENvbGxlY3QgYWxsIGFjdGl2ZSBmaWx0ZXJzXHJcblx0XHRjb25zdCBhY3RpdmVGaWx0ZXJzID0ge307XHJcblxyXG5cdFx0dGhpcy5kcm9wZG93bnMuZm9yRWFjaChkcm9wZG93biA9PiB7XHJcblx0XHRcdGNvbnN0IHRheG9ub215ID0gZHJvcGRvd24uZGF0YXNldC50YXhvbm9teTtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBkcm9wZG93bi5kYXRhc2V0LnNlbGVjdGVkVmFsdWU7XHJcblxyXG5cdFx0XHRpZiAodmFsdWUpIHtcclxuXHRcdFx0XHRhY3RpdmVGaWx0ZXJzW3RheG9ub215XSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnQgZm9yIFdvcmRQcmVzcyBBSkFYIGludGVncmF0aW9uXHJcblx0XHRjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnc2hvcEZpbHRlckNoYW5nZScsIHtcclxuXHRcdFx0ZGV0YWlsOiB7XHJcblx0XHRcdFx0ZmlsdGVyczogYWN0aXZlRmlsdGVycyxcclxuXHRcdFx0XHR1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcblxyXG5cdFx0Ly8gTG9nIGZvciBkZWJ1Z2dpbmdcclxuXHRcdGNvbnNvbGUubG9nKCdBY3RpdmUgRmlsdGVyczonLCBhY3RpdmVGaWx0ZXJzKTtcclxuXHR9XHJcblxyXG5cdC8vIEdldCBjdXJyZW50IGZpbHRlcnMgKGZvciBleHRlcm5hbCB1c2UpXHJcblx0Z2V0QWN0aXZlRmlsdGVycygpIHtcclxuXHRcdGNvbnN0IGZpbHRlcnMgPSB7fTtcclxuXHJcblx0XHR0aGlzLmRyb3Bkb3ducy5mb3JFYWNoKGRyb3Bkb3duID0+IHtcclxuXHRcdFx0Y29uc3QgdGF4b25vbXkgPSBkcm9wZG93bi5kYXRhc2V0LnRheG9ub215O1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IGRyb3Bkb3duLmRhdGFzZXQuc2VsZWN0ZWRWYWx1ZTtcclxuXHJcblx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdGZpbHRlcnNbdGF4b25vbXldID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBmaWx0ZXJzO1xyXG5cdH1cclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBvbiBET00gcmVhZHlcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHR3aW5kb3cuc2hvcFRvb2xiYXIgPSBuZXcgU2hvcFRvb2xiYXIoKTtcclxufSk7XHJcblxyXG4vLyBFeHBvcnQgZm9yIG1vZHVsZSB1c2FnZVxyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuXHRtb2R1bGUuZXhwb3J0cyA9IFNob3BUb29sYmFyO1xyXG59XHJcbiIsICIvKipcclxuICogV2VsY29tZSBQb3B1cHMgQ29udHJvbGxlclxyXG4gKiBcclxuICogRmVhdHVyZXM6XHJcbiAqIC0gU2hvdyBwb3B1cHMgb25seSBvbiBmaXJzdCB2aXNpdCAobG9jYWxTdG9yYWdlKVxyXG4gKiAtIFNlcXVlbnRpYWw6IFNoaXBwaW5nIExvY2F0aW9uIC0+IE5ld3NsZXR0ZXIgLT4gRG9uZVxyXG4gKiAtIFNhdmUgdXNlciBwcmVmZXJlbmNlc1xyXG4gKiAtIENGNyBmb3JtIGludGVncmF0aW9uIHJlYWR5XHJcbiAqL1xyXG5cclxuY2xhc3MgV2VsY29tZVBvcHVwcyB7XHJcblx0Y29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSB7XHJcblx0XHRcdHN0b3JhZ2VLZXk6ICdodXl2b193ZWxjb21lX3Nob3duJyxcclxuXHRcdFx0c2hpcHBpbmdTdG9yYWdlS2V5OiAnaHV5dm9fc2hpcHBpbmdfbG9jYXRpb24nLFxyXG5cdFx0XHRuZXdzbGV0dGVyU3RvcmFnZUtleTogJ2h1eXZvX25ld3NsZXR0ZXJfc3Vic2NyaWJlZCcsXHJcblx0XHRcdHNob3dEZWxheTogMTAwMCwgLy8gRGVsYXkgYmVmb3JlIHNob3dpbmcgZmlyc3QgcG9wdXAgKG1zKVxyXG5cdFx0XHRzZXF1ZW5jZTogWydzaGlwcGluZycsICduZXdzbGV0dGVyJ10sIC8vIFBvcHVwIHNlcXVlbmNlXHJcblx0XHRcdC4uLm9wdGlvbnNcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5wb3B1cHMgPSB7XHJcblx0XHRcdHNoaXBwaW5nOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtc2hpcHBpbmcnKSxcclxuXHRcdFx0bmV3c2xldHRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwLW5ld3NsZXR0ZXInKVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmN1cnJlbnRQb3B1cEluZGV4ID0gMDtcclxuXHRcdHRoaXMuaW5pdCgpO1xyXG5cdH1cclxuXHJcblx0aW5pdCgpIHtcclxuXHRcdC8vIENoZWNrIGlmIHBvcHVwcyBleGlzdFxyXG5cdFx0aWYgKCF0aGlzLnBvcHVwcy5zaGlwcGluZyAmJiAhdGhpcy5wb3B1cHMubmV3c2xldHRlcikge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQmluZCBldmVudHNcclxuXHRcdHRoaXMuYmluZEV2ZW50cygpO1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHNob3VsZCBzaG93IHBvcHVwc1xyXG5cdFx0aWYgKHRoaXMuc2hvdWxkU2hvd1BvcHVwcygpKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuc2hvd05leHRQb3B1cCgpO1xyXG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuc2hvd0RlbGF5KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHNob3VsZFNob3dQb3B1cHMoKSB7XHJcblx0XHQvLyBDaGVjayBzZXNzaW9uU3RvcmFnZVxyXG5cdFx0Y29uc3Qgd2VsY29tZVNob3duID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm9wdGlvbnMuc3RvcmFnZUtleSk7XHJcblx0XHRyZXR1cm4gIXdlbGNvbWVTaG93bjtcclxuXHR9XHJcblxyXG5cdGJpbmRFdmVudHMoKSB7XHJcblx0XHQvLyBDbG9zZSBidXR0b25zXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtY2xvc2UnKS5mb3JFYWNoKGJ0biA9PiB7XHJcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcG9wdXAgPSBlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAtb3ZlcmxheScpO1xyXG5cdFx0XHRcdHRoaXMuY2xvc2VQb3B1cChwb3B1cCk7XHJcblx0XHRcdFx0dGhpcy5tYXJrQXNDb21wbGV0ZSgpO1xyXG5cdFx0XHRcdC8vIERvbid0IGF1dG8tc2hvdyBuZXh0IHBvcHVwIHdoZW4gbWFudWFsbHkgY2xvc2luZ1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENsb3NlIG9uIG92ZXJsYXkgY2xpY2tcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC1vdmVybGF5JykuZm9yRWFjaChvdmVybGF5ID0+IHtcclxuXHRcdFx0b3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0ID09PSBvdmVybGF5KSB7XHJcblx0XHRcdFx0XHR0aGlzLmNsb3NlUG9wdXAob3ZlcmxheSk7XHJcblx0XHRcdFx0XHR0aGlzLm1hcmtBc0NvbXBsZXRlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENsb3NlIG9uIEVTQ1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcblx0XHRcdGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuXHRcdFx0XHRjb25zdCBhY3RpdmVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1vdmVybGF5LmlzLWFjdGl2ZScpO1xyXG5cdFx0XHRcdGlmIChhY3RpdmVQb3B1cCkge1xyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZVBvcHVwKGFjdGl2ZVBvcHVwKTtcclxuXHRcdFx0XHRcdHRoaXMubWFya0FzQ29tcGxldGUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRcdC8vIFBPUFVQIFRSSUdHRVJTICg8YT4gb3IgPGJ1dHRvbj4gd2l0aCBkYXRhLXBvcHVwLXRyaWdnZXIpXHJcblx0XHQvLyBVc2FnZTogPGEgaHJlZj1cIiNcIiBkYXRhLXBvcHVwLXRyaWdnZXI9XCJuZXdzbGV0dGVyXCI+U3Vic2NyaWJlPC9hPlxyXG5cdFx0Ly8gICAgICAgIDxhIGhyZWY9XCIjXCIgZGF0YS1wb3B1cC10cmlnZ2VyPVwic2hpcHBpbmdcIj5DaGFuZ2UgTG9jYXRpb248L2E+XHJcblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wb3B1cC10cmlnZ2VyXScpLmZvckVhY2godHJpZ2dlciA9PiB7XHJcblx0XHRcdHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjb25zdCBwb3B1cElkID0gdHJpZ2dlci5kYXRhc2V0LnBvcHVwVHJpZ2dlcjtcclxuXHRcdFx0XHR0aGlzLnNob3dQb3B1cChwb3B1cElkKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTaGlwcGluZyBmb3JtIHN1Ym1pdFxyXG5cdFx0Y29uc3Qgc2hpcHBpbmdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3Rpb249XCJzdWJtaXQtc2hpcHBpbmdcIl0nKTtcclxuXHRcdGlmIChzaGlwcGluZ0J0bikge1xyXG5cdFx0XHRzaGlwcGluZ0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMuaGFuZGxlU2hpcHBpbmdTdWJtaXQoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTmV3c2xldHRlciBmb3JtIHN1Ym1pdCAoQ0Y3IGNvbXBhdGlibGUpXHJcblx0XHRjb25zdCBuZXdzbGV0dGVyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1uZXdzbGV0dGVyLWZvcm0nKTtcclxuXHRcdGlmIChuZXdzbGV0dGVyRm9ybSkge1xyXG5cdFx0XHRuZXdzbGV0dGVyRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR0aGlzLmhhbmRsZU5ld3NsZXR0ZXJTdWJtaXQoZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2hvd1BvcHVwKHBvcHVwSWQpIHtcclxuXHRcdGNvbnN0IHBvcHVwID0gdGhpcy5wb3B1cHNbcG9wdXBJZF07XHJcblx0XHRpZiAocG9wdXApIHtcclxuXHRcdFx0Ly8gUHJldmVudCBib2R5IHNjcm9sbFxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblx0XHRcdFxyXG5cdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcclxuXHJcblx0XHRcdC8vIERpc3BhdGNoIGN1c3RvbSBldmVudFxyXG5cdFx0XHRwb3B1cC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncG9wdXA6b3BlbicsIHtcclxuXHRcdFx0XHRkZXRhaWw6IHsgcG9wdXBJZCB9XHJcblx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNsb3NlUG9wdXAocG9wdXApIHtcclxuXHRcdGlmIChwb3B1cCkge1xyXG5cdFx0XHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcclxuXHJcblx0XHRcdC8vIFJlc3RvcmUgYm9keSBzY3JvbGwgaWYgbm8gYWN0aXZlIHBvcHVwc1xyXG5cdFx0XHRpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1vdmVybGF5LmlzLWFjdGl2ZScpKSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnRcclxuXHRcdFx0cG9wdXAuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BvcHVwOmNsb3NlJywge1xyXG5cdFx0XHRcdGRldGFpbDogeyBwb3B1cElkOiBwb3B1cC5kYXRhc2V0LnBvcHVwIH1cclxuXHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2hvd05leHRQb3B1cCgpIHtcclxuXHRcdGNvbnN0IHNlcXVlbmNlID0gdGhpcy5vcHRpb25zLnNlcXVlbmNlO1xyXG5cdFx0XHJcblx0XHRpZiAodGhpcy5jdXJyZW50UG9wdXBJbmRleCA8IHNlcXVlbmNlLmxlbmd0aCkge1xyXG5cdFx0XHRjb25zdCBuZXh0UG9wdXBJZCA9IHNlcXVlbmNlW3RoaXMuY3VycmVudFBvcHVwSW5kZXhdO1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRQb3B1cEluZGV4Kys7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTbWFsbCBkZWxheSBiZXR3ZWVuIHBvcHVwc1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNob3dQb3B1cChuZXh0UG9wdXBJZCk7XHJcblx0XHRcdH0sIDMwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBBbGwgcG9wdXBzIHNob3duLCBtYXJrIGFzIGNvbXBsZXRlXHJcblx0XHRcdHRoaXMubWFya0FzQ29tcGxldGUoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGhhbmRsZVNoaXBwaW5nU3VibWl0KCkge1xyXG5cdFx0Y29uc3QgY291bnRyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGlwcGluZy1jb3VudHJ5Jyk/LnZhbHVlO1xyXG5cdFx0Y29uc3QgbGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hpcHBpbmctbGFuZ3VhZ2UnKT8udmFsdWU7XHJcblxyXG5cdFx0Ly8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcclxuXHRcdGNvbnN0IHNoaXBwaW5nRGF0YSA9IHtcclxuXHRcdFx0Y291bnRyeSxcclxuXHRcdFx0bGFuZ3VhZ2UsXHJcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcblx0XHR9O1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5vcHRpb25zLnNoaXBwaW5nU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmdEYXRhKSk7XHJcblxyXG5cdFx0Ly8gRGlzcGF0Y2ggY3VzdG9tIGV2ZW50IGZvciBXb3JkUHJlc3Mvb3RoZXIgaW50ZWdyYXRpb25zXHJcblx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2hpcHBpbmc6c2VsZWN0ZWQnLCB7XHJcblx0XHRcdGRldGFpbDogc2hpcHBpbmdEYXRhXHJcblx0XHR9KSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ1NoaXBwaW5nIGxvY2F0aW9uIHNhdmVkOicsIHNoaXBwaW5nRGF0YSk7XHJcblxyXG5cdFx0Ly8gQ2xvc2UgYW5kIHNob3cgbmV4dFxyXG5cdFx0dGhpcy5jbG9zZVBvcHVwKHRoaXMucG9wdXBzLnNoaXBwaW5nKTtcclxuXHRcdHRoaXMuc2hvd05leHRQb3B1cCgpO1xyXG5cdH1cclxuXHJcblx0aGFuZGxlTmV3c2xldHRlclN1Ym1pdChlKSB7XHJcblx0XHRjb25zdCBmb3JtID0gZS50YXJnZXQ7XHJcblx0XHRjb25zdCBlbWFpbCA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImVtYWlsXCJdJyk/LnZhbHVlO1xyXG5cdFx0Y29uc3QgbWFya2V0aW5nQ29uc2VudCA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1hcmtldGluZy1jb25zZW50XCJdJyk/LmNoZWNrZWQ7XHJcblxyXG5cdFx0aWYgKCFlbWFpbCkge1xyXG5cdFx0XHRhbGVydCgnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzcycpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9yIENGNyBpbnRlZ3JhdGlvbiAtIGxldCBDRjcgaGFuZGxlIHRoZSBhY3R1YWwgc3VibWlzc2lvblxyXG5cdFx0Ly8gVGhpcyBpcyBqdXN0IGZvciB0aGUgcG9wdXAgZmxvd1xyXG5cdFx0Y29uc3QgbmV3c2xldHRlckRhdGEgPSB7XHJcblx0XHRcdGVtYWlsLFxyXG5cdFx0XHRtYXJrZXRpbmdDb25zZW50LFxyXG5cdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBTYXZlIHN1YnNjcmlwdGlvbiBzdGF0dXNcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5uZXdzbGV0dGVyU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkobmV3c2xldHRlckRhdGEpKTtcclxuXHJcblx0XHQvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnQgZm9yIFdvcmRQcmVzcy9vdGhlciBpbnRlZ3JhdGlvbnNcclxuXHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCduZXdzbGV0dGVyOnN1YnNjcmliZWQnLCB7XHJcblx0XHRcdGRldGFpbDogbmV3c2xldHRlckRhdGFcclxuXHRcdH0pKTtcclxuXHJcblx0XHRjb25zb2xlLmxvZygnTmV3c2xldHRlciBzdWJzY3JpcHRpb246JywgbmV3c2xldHRlckRhdGEpO1xyXG5cclxuXHRcdC8vIElmIENGNyBpcyBhdmFpbGFibGUsIHRyaWdnZXIgaXRzIHN1Ym1pc3Npb25cclxuXHRcdGlmICh3aW5kb3cud3BjZjcgJiYgZm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ3dwY2Y3LWZvcm0nKSkge1xyXG5cdFx0XHQvLyBDRjcgd2lsbCBoYW5kbGUgZm9ybSBzdWJtaXNzaW9uXHJcblx0XHRcdC8vIEp1c3QgY2xvc2UgcG9wdXAgYWZ0ZXIgYSBkZWxheVxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmNsb3NlUG9wdXAodGhpcy5wb3B1cHMubmV3c2xldHRlcik7XHJcblx0XHRcdFx0dGhpcy5tYXJrQXNDb21wbGV0ZSgpO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFN0YXRpYyBmb3JtIC0gY2xvc2UgYW5kIGNvbXBsZXRlXHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCh0aGlzLnBvcHVwcy5uZXdzbGV0dGVyKTtcclxuXHRcdFx0dGhpcy5tYXJrQXNDb21wbGV0ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0bWFya0FzQ29tcGxldGUoKSB7XHJcblx0XHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5zdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdHNob3duOiB0cnVlLFxyXG5cdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG5cdFx0fSkpO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKCdXZWxjb21lIHBvcHVwcyBjb21wbGV0ZWQnKTtcclxuXHR9XHJcblxyXG5cdC8vIFB1YmxpYyBtZXRob2RzIGZvciBleHRlcm5hbCBjb250cm9sXHJcblx0cmVzZXQoKSB7XHJcblx0XHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMub3B0aW9ucy5zdG9yYWdlS2V5KTtcclxuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMub3B0aW9ucy5zaGlwcGluZ1N0b3JhZ2VLZXkpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5vcHRpb25zLm5ld3NsZXR0ZXJTdG9yYWdlS2V5KTtcclxuXHRcdHRoaXMuY3VycmVudFBvcHVwSW5kZXggPSAwO1xyXG5cdFx0Y29uc29sZS5sb2coJ1dlbGNvbWUgcG9wdXBzIHJlc2V0Jyk7XHJcblx0fVxyXG5cclxuXHRmb3JjZVNob3cocG9wdXBJZCkge1xyXG5cdFx0aWYgKHBvcHVwSWQgJiYgdGhpcy5wb3B1cHNbcG9wdXBJZF0pIHtcclxuXHRcdFx0dGhpcy5zaG93UG9wdXAocG9wdXBJZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBTaG93IGZpcnN0IHBvcHVwXHJcblx0XHRcdHRoaXMuY3VycmVudFBvcHVwSW5kZXggPSAwO1xyXG5cdFx0XHR0aGlzLnNob3dOZXh0UG9wdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldFNoaXBwaW5nRGF0YSgpIHtcclxuXHRcdGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm9wdGlvbnMuc2hpcHBpbmdTdG9yYWdlS2V5KTtcclxuXHRcdHJldHVybiBkYXRhID8gSlNPTi5wYXJzZShkYXRhKSA6IG51bGw7XHJcblx0fVxyXG5cclxuXHRpc1N1YnNjcmliZWQoKSB7XHJcblx0XHRyZXR1cm4gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm9wdGlvbnMubmV3c2xldHRlclN0b3JhZ2VLZXkpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBvbiBET00gcmVhZHlcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHR3aW5kb3cud2VsY29tZVBvcHVwcyA9IG5ldyBXZWxjb21lUG9wdXBzKCk7XHJcbn0pO1xyXG5cclxuLy8gRXhwb3J0IGZvciBtb2R1bGUgdXNhZ2VcclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lUG9wdXBzO1xyXG59XHJcbiIsICJpbXBvcnQgQU9TIGZyb20gXCJhb3NcIjtcclxuaW1wb3J0IGxvemFkIGZyb20gXCJsb3phZFwiO1xyXG5pbXBvcnQge1xyXG4gIHNldEJhY2tncm91bmRFbGVtZW50LFxyXG4gIGJ1dHRvblRvVG9wLFxyXG4gIG1lbnVTcHksXHJcbiAgc3RpY2tFbGVtZW50VG9FZGdlLFxyXG4gIGluaXRBY2NvcmRpb24sXHJcbn0gZnJvbSBcIi4vaGVscGVyXCI7XHJcbmltcG9ydCB7IGhlYWRlciB9IGZyb20gXCIuL2hlYWRlclwiO1xyXG5pbXBvcnQgeyBoZXJvQmFubmVyIH0gZnJvbSBcIi4vaGVyb0Jhbm5lclwiO1xyXG5pbXBvcnQgeyBzd2lwZXJJbml0IH0gZnJvbSBcIi4vc3dpcGVyXCI7XHJcbmltcG9ydCB7IGluaXRQcm9kdWN0TWVkaWFTY3JvbGwsIGluaXRTaXplR3VpZGVQb3B1cCwgaW5pdFByb2R1Y3RNZWRpYVNsaWRlck1vYmlsZSwgaW5pdFByb2R1Y3REZXNjU2Nyb2xsIH0gZnJvbSBcIi4vc2hvcERldGFpbFwiO1xyXG5pbXBvcnQgeyBpbml0QWJvdXRDbXAgfSBmcm9tIFwiLi9hYm91dFwiO1xyXG5pbXBvcnQgeyBpbml0SG9tZTQgfSBmcm9tIFwiLi9ob21lXCI7XHJcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvZ2xvYmFsL1Nob3BUb29sYmFyL1Nob3BUb29sYmFyXCI7IC8vIFNob3AgZmlsdGVyIGRyb3Bkb3duXHJcbmltcG9ydCBcIi4uL2NvbXBvbmVudHMvZ2xvYmFsL1BvcHVwL1BvcHVwXCI7IC8vIFdlbGNvbWUgcG9wdXBzIChTaGlwcGluZyArIE5ld3NsZXR0ZXIpXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICBzZXRCYWNrZ3JvdW5kRWxlbWVudCgpO1xyXG4gIHN0aWNrRWxlbWVudFRvRWRnZSgpO1xyXG4gIG1lbnVTcHkoKTtcclxuICBidXR0b25Ub1RvcCgpO1xyXG4gIGluaXRBY2NvcmRpb24oKTtcclxuICBoZWFkZXIuaW5pdCgpO1xyXG4gIGhlcm9CYW5uZXIuaW5pdCgpO1xyXG4gIHN3aXBlckluaXQoKTtcclxuICBpbml0UHJvZHVjdE1lZGlhU2Nyb2xsKCk7XHJcbiAgaW5pdFByb2R1Y3RNZWRpYVNsaWRlck1vYmlsZSgpO1xyXG4gIGluaXRTaXplR3VpZGVQb3B1cCgpO1xyXG4gIGluaXRQcm9kdWN0RGVzY1Njcm9sbCgpO1xyXG4gIGluaXRBYm91dENtcCgpO1xyXG4gIGluaXRIb21lNCgpO1xyXG59KTtcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT0gQW9zIEluaXQgPT09PT09PT09PT09PT09PT09PT0qL1xyXG5BT1MuaW5pdCh7XHJcbiAgb2Zmc2V0OiA1MCxcclxuICBvbmNlOiB0cnVlLFxyXG59KTtcclxuLyo9PT09PT09PT09PT09PT09PT09PSBMYXp5bG9hZCBKUyA9PT09PT09PT09PT09PT09PT09PSovXHJcbmNvbnN0IG9ic2VydmVyID0gbG96YWQoKTsgLy8gbGF6eSBsb2FkcyBlbGVtZW50cyB3aXRoIGRlZmF1bHQgc2VsZWN0b3IgYXMgJy5sb3phZCdcclxub2JzZXJ2ZXIub2JzZXJ2ZSgpO1xyXG5cclxud2luZG93LkZFID0ge1xyXG4gIGxvemFkOiBvYnNlcnZlci5vYnNlcnZlLFxyXG59O1xyXG5cclxuLy8gUHJvZHVjdCBTb3J0ICYgQUpBWCBGaWx0ZXJcclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gIC8vIFNvcnQgZnVuY3Rpb25hbGl0eVxyXG4gICQoXCIjcHJvZHVjdC1vcmRlcmJ5XCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IG9yZGVyYnkgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24pO1xyXG5cclxuICAgIGlmIChvcmRlcmJ5KSB7XHJcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwib3JkZXJieVwiLCBvcmRlcmJ5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwib3JkZXJieVwiKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cubG9jYXRpb24gPSB1cmwudG9TdHJpbmcoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gQ2F0ZWdvcnkgY29sbGFwc2UgdG9nZ2xlXHJcbiAgJChcIi5jYXRlZ29yeS1pdGVtIC50b2dnbGUtaWNvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNsaWNrXCIpO1xyXG5cclxuICAgIGNvbnN0ICRwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoXCIuY2F0ZWdvcnktaXRlbVwiKTtcclxuICAgIGNvbnN0ICRzdWJNZW51ID0gJHBhcmVudC5maW5kKFwiLnN1Yi1jYXRlZ29yeVwiKTtcclxuXHJcbiAgICBpZiAoJHN1Yk1lbnUubGVuZ3RoKSB7XHJcbiAgICAgICRzdWJNZW51LnNsaWRlVG9nZ2xlKDMwMCk7XHJcbiAgICAgICQodGhpcykuaHRtbChcclxuICAgICAgICAkKHRoaXMpLmh0bWwoKSA9PT0gJzxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGx1c1wiPjwvaT4nXHJcbiAgICAgICAgICA/ICc8aSBjbGFzcz1cImZhLXNvbGlkIGZhLW1pbnVzXCI+PC9pPidcclxuICAgICAgICAgIDogJzxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGx1c1wiPjwvaT4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFNtb290aCBzY3JvbGwgb24gcGFnaW5hdGlvblxyXG4gICQoXCIucHJvZHVjdC1wYWdpbmF0aW9uIGFcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcclxuICAgICAge1xyXG4gICAgICAgIHNjcm9sbFRvcDogJChcIi5wcm9kdWN0LWhlYWRlclwiKS5vZmZzZXQoKS50b3AgLSAxMDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDUwMFxyXG4gICAgKTtcclxuICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcbi8qKlxyXG4gKiBDdXN0b21TZWxlY3QgQ2xhc3MgLSBSZXVzYWJsZSBmb3IgbXVsdGlwbGUgc2VsZWN0IGluc3RhbmNlc1xyXG4gKiBVc2FnZTogbmV3IEN1c3RvbVNlbGVjdChlbGVtZW50LCBvcHRpb25zKVxyXG4gKi9cclxuY2xhc3MgQ3VzdG9tU2VsZWN0IHtcclxuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIG9uQ2hhbmdlOiBvcHRpb25zLm9uQ2hhbmdlIHx8IG51bGwsXHJcbiAgICAgIG9uT3Blbjogb3B0aW9ucy5vbk9wZW4gfHwgbnVsbCxcclxuICAgICAgb25DbG9zZTogb3B0aW9ucy5vbkNsb3NlIHx8IG51bGwsXHJcbiAgICAgIGNsb3NlT25TZWxlY3Q6IG9wdGlvbnMuY2xvc2VPblNlbGVjdCAhPT0gZmFsc2UsXHJcbiAgICAgIHNlYXJjaGFibGU6IG9wdGlvbnMuc2VhcmNoYWJsZSB8fCBmYWxzZSxcclxuICAgICAgcGxhY2Vob2xkZXI6IG9wdGlvbnMucGxhY2Vob2xkZXIgfHwgXCJTZWxlY3QgYW4gb3B0aW9uXCIsXHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudHJpZ2dlciA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdC10cmlnZ2VyXCIpO1xyXG4gICAgdGhpcy5kcm9wZG93biA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdC1kcm9wZG93blwiKTtcclxuICAgIHRoaXMuc2VsZWN0T3B0aW9ucyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlbGVjdC1vcHRpb25cIik7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZC12YWx1ZVwiKTtcclxuICAgIHRoaXMubmFtZSA9IHRoaXMuZWxlbWVudC5kYXRhc2V0Lm5hbWUgfHwgXCJcIjtcclxuXHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IC0xO1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgdGhpcy5zZXRJbml0aWFsVmFsdWUoKTtcclxuICB9XHJcblxyXG4gIGJpbmRFdmVudHMoKSB7XHJcbiAgICAvLyBUb2dnbGUgZHJvcGRvd24gb24gdHJpZ2dlciBjbGlja1xyXG4gICAgdGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLnRvZ2dsZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2VsZWN0IG9wdGlvbiBvbiBjbGlja1xyXG4gICAgdGhpcy5zZWxlY3RPcHRpb25zLmZvckVhY2goKG9wdGlvbiwgaW5kZXgpID0+IHtcclxuICAgICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uLCBpbmRleCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvbiBvbiBvcHRpb25zXHJcbiAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XHJcbiAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlT3B0aW9uS2V5ZG93bihlLCBvcHRpb24sIGluZGV4KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbG9zZSBvbiBvdXRzaWRlIGNsaWNrXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpICYmIHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uIG9uIHRyaWdnZXJcclxuICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZVRyaWdnZXJLZXlkb3duKGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJldmVudCBzY3JvbGwgd2hlbiBuYXZpZ2F0aW5nIHdpdGgga2V5Ym9hcmRcclxuICAgIHRoaXMuZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgaWYgKFtcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJTcGFjZVwiXS5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5pdGlhbFZhbHVlKCkge1xyXG4gICAgY29uc3QgYWN0aXZlT3B0aW9uID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0LW9wdGlvbi5hY3RpdmVcIik7XHJcbiAgICBpZiAoYWN0aXZlT3B0aW9uKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSBhY3RpdmVPcHRpb247XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZS50ZXh0Q29udGVudCA9IGFjdGl2ZU9wdGlvbi50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGUoKSB7XHJcbiAgICB0aGlzLmlzT3BlbiA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIC8vIENsb3NlIGFsbCBvdGhlciBzZWxlY3RzIGZpcnN0XHJcbiAgICBDdXN0b21TZWxlY3QuY2xvc2VBbGwodGhpcyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvcGVuXCIpO1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG5cclxuICAgIC8vIFNldCBBUklBIGF0dHJpYnV0ZXNcclxuICAgIHRoaXMudHJpZ2dlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgIHRoaXMuZHJvcGRvd24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcclxuXHJcbiAgICAvLyBGb2N1cyBmaXJzdCBvcHRpb24gb3Igc2VsZWN0ZWQgb3B0aW9uXHJcbiAgICBjb25zdCBhY3RpdmVPcHRpb24gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3Qtb3B0aW9uLmFjdGl2ZVwiKTtcclxuICAgIGlmIChhY3RpdmVPcHRpb24pIHtcclxuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBBcnJheS5mcm9tKHRoaXMuc2VsZWN0T3B0aW9ucykuaW5kZXhPZihhY3RpdmVPcHRpb24pO1xyXG4gICAgICBhY3RpdmVPcHRpb24uZm9jdXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gMDtcclxuICAgICAgdGhpcy5zZWxlY3RPcHRpb25zWzBdPy5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEN1c3RvbSBldmVudFxyXG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgIG5ldyBDdXN0b21FdmVudChcInNlbGVjdDpvcGVuXCIsIHtcclxuICAgICAgICBkZXRhaWw6IHsgc2VsZWN0OiB0aGlzIH0sXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcclxuXHJcbiAgICAvLyBTZXQgQVJJQSBhdHRyaWJ1dGVzXHJcbiAgICB0aGlzLnRyaWdnZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgdGhpcy5kcm9wZG93bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XHJcblxyXG4gICAgLy8gUmV0dXJuIGZvY3VzIHRvIHRyaWdnZXJcclxuICAgIHRoaXMudHJpZ2dlci5mb2N1cygpO1xyXG5cclxuICAgIC8vIENhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3VzdG9tIGV2ZW50XHJcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwic2VsZWN0OmNsb3NlXCIsIHtcclxuICAgICAgICBkZXRhaWw6IHsgc2VsZWN0OiB0aGlzIH0sXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0T3B0aW9uKG9wdGlvbiwgaW5kZXgpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uLmRhdGFzZXQudmFsdWU7XHJcbiAgICBjb25zdCB0ZXh0ID0gb3B0aW9uLnRleHRDb250ZW50LnRyaW0oKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgYWN0aXZlIGZyb20gYWxsIG9wdGlvbnNcclxuICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5mb3JFYWNoKChvcHQpID0+IG9wdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuXHJcbiAgICAvLyBBZGQgYWN0aXZlIHRvIHNlbGVjdGVkIG9wdGlvblxyXG4gICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gb3B0aW9uO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBkaXNwbGF5ZWQgdGV4dFxyXG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlLnRleHRDb250ZW50ID0gdGV4dDtcclxuXHJcbiAgICAvLyBDbG9zZSBkcm9wZG93biBpZiBjb25maWd1cmVkXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25TZWxlY3QpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoYW5nZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoYW5nZSh2YWx1ZSwgdGV4dCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3VzdG9tIGV2ZW50XHJcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcclxuICAgICAgbmV3IEN1c3RvbUV2ZW50KFwic2VsZWN0OmNoYW5nZVwiLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgc2VsZWN0OiB0aGlzLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlVHJpZ2dlcktleWRvd24oZSkge1xyXG4gICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICBjYXNlIFwiRW50ZXJcIjpcclxuICAgICAgY2FzZSBcIiBcIjpcclxuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XHJcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcclxuICAgICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVPcHRpb25LZXlkb3duKGUsIG9wdGlvbiwgaW5kZXgpIHtcclxuICAgIHN3aXRjaCAoZS5rZXkpIHtcclxuICAgICAgY2FzZSBcIkVudGVyXCI6XHJcbiAgICAgIGNhc2UgXCIgXCI6XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKG9wdGlvbiwgaW5kZXgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuZm9jdXNOZXh0T3B0aW9uKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuZm9jdXNQcmV2aW91c09wdGlvbigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiRXNjYXBlXCI6XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkhvbWVcIjpcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uc1swXT8uZm9jdXMoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkVuZFwiOlxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggLSAxO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uc1t0aGlzLmZvY3VzZWRJbmRleF0/LmZvY3VzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb2N1c05leHRPcHRpb24oKSB7XHJcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IE1hdGgubWluKFxyXG4gICAgICB0aGlzLmZvY3VzZWRJbmRleCArIDEsXHJcbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggLSAxXHJcbiAgICApO1xyXG4gICAgdGhpcy5zZWxlY3RPcHRpb25zW3RoaXMuZm9jdXNlZEluZGV4XT8uZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIGZvY3VzUHJldmlvdXNPcHRpb24oKSB7XHJcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IE1hdGgubWF4KHRoaXMuZm9jdXNlZEluZGV4IC0gMSwgMCk7XHJcbiAgICB0aGlzLnNlbGVjdE9wdGlvbnNbdGhpcy5mb2N1c2VkSW5kZXhdPy5mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmFsdWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZE9wdGlvbiA/IHRoaXMuc2VsZWN0ZWRPcHRpb24uZGF0YXNldC52YWx1ZSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRUZXh0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRWYWx1ZS50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZSh2YWx1ZSkge1xyXG4gICAgY29uc3Qgb3B0aW9uID0gQXJyYXkuZnJvbSh0aGlzLnNlbGVjdE9wdGlvbnMpLmZpbmQoXHJcbiAgICAgIChvcHQpID0+IG9wdC5kYXRhc2V0LnZhbHVlID09PSB2YWx1ZVxyXG4gICAgKTtcclxuICAgIGlmIChvcHRpb24pIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBBcnJheS5mcm9tKHRoaXMuc2VsZWN0T3B0aW9ucykuaW5kZXhPZihvcHRpb24pO1xyXG4gICAgICB0aGlzLnNlbGVjdE9wdGlvbihvcHRpb24sIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc2FibGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB0aGlzLnRyaWdnZXIucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgLy8gUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGNsZWFuIHVwXHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudG9nZ2xlKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBTdGF0aWMgbWV0aG9kIHRvIGNsb3NlIGFsbCBzZWxlY3RzIGV4Y2VwdCBjdXJyZW50XHJcbiAgc3RhdGljIGNsb3NlQWxsKGV4Y2VwdFNlbGVjdCA9IG51bGwpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY3VzdG9tLXNlbGVjdC5vcGVuXCIpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xyXG4gICAgICBpZiAoc2VsZWN0ICE9PSBleGNlcHRTZWxlY3Q/LmVsZW1lbnQpIHtcclxuICAgICAgICBzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gU3RhdGljIG1ldGhvZCB0byBpbml0aWFsaXplIGFsbCBzZWxlY3RzIG9uIHBhZ2VcclxuICBzdGF0aWMgaW5pdEFsbChzZWxlY3RvciA9IFwiLmN1c3RvbS1zZWxlY3RcIiwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBpbnN0YW5jZXMgPSBbXTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgaW5zdGFuY2VzLnB1c2gobmV3IEN1c3RvbVNlbGVjdChlbGVtZW50LCBvcHRpb25zKSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnN0YW5jZXM7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT0gQVVUTyBJTklUSUFMSVpBVElPTiA9PT09PT09PT09PT1cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIC8vIEluaXRpYWxpemUgYWxsIGN1c3RvbSBzZWxlY3RzXHJcbiAgY29uc3Qgc2VsZWN0cyA9IEN1c3RvbVNlbGVjdC5pbml0QWxsKFwiLmN1c3RvbS1zZWxlY3RcIik7XHJcblxyXG4gIC8vID09PT09PT09PT09PSBFWEFNUExFOiBIYW5kbGUgZmlsdGVyIGNoYW5nZXMgPT09PT09PT09PT09XHJcbiAgY29uc3QgZmlsdGVycyA9IHtcclxuICAgIG9yZGVyYnk6IFwiXCIsXHJcbiAgICBwZXJwYWdlOiBcIjEyXCIsXHJcbiAgICBjYXRlZ29yeTogXCJcIixcclxuICB9O1xyXG5cclxuICAvLyBMaXN0ZW4gdG8gYWxsIHNlbGVjdCBjaGFuZ2VzXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jdXN0b20tc2VsZWN0XCIpLmZvckVhY2goKHNlbGVjdCkgPT4ge1xyXG4gICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Q6Y2hhbmdlXCIsIChlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIHRleHQgfSA9IGUuZGV0YWlsO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIGZpbHRlcnMgb2JqZWN0XHJcbiAgICAgIGZpbHRlcnNbbmFtZV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRmlsdGVyIGNoYW5nZWQ6XCIsIHsgbmFtZSwgdmFsdWUsIHRleHQgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBmaWx0ZXJzOlwiLCBmaWx0ZXJzKTtcclxuXHJcbiAgICAgIC8vIEFwcGx5IGZpbHRlcnMgKGNob29zZSBvbmUgbWV0aG9kKVxyXG4gICAgICBhcHBseUZpbHRlcnMoZmlsdGVycyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09IE1FVEhPRCAxOiBVUkwgUGFyYW1ldGVycyAoUGFnZSBSZWxvYWQpID09PT09PT09PT09PVxyXG4gIGZ1bmN0aW9uIGFwcGx5RmlsdGVycyhmaWx0ZXJzKSB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XHJcblxyXG4gICAgLy8gVXBkYXRlIFVSTCBwYXJhbWV0ZXJzXHJcbiAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgaWYgKGZpbHRlcnNba2V5XSkge1xyXG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgZmlsdGVyc1trZXldKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZWxvYWQgcGFnZSB3aXRoIG5ldyBwYXJhbWV0ZXJzXHJcbiAgICB3aW5kb3cubG9jYXRpb24gPSB1cmwudG9TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PSBNRVRIT0QgMjogQUpBWCAoTm8gUGFnZSBSZWxvYWQpID09PT09PT09PT09PVxyXG4gIGZ1bmN0aW9uIGFwcGx5RmlsdGVyc0FqYXgoZmlsdGVycykge1xyXG4gICAgY29uc3QgJGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2R1Y3QtZ3JpZFwiKTtcclxuXHJcbiAgICBmZXRjaCh3cEFqYXguYWpheHVybCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgYWN0aW9uOiBcImZpbHRlcl9wcm9kdWN0c1wiLFxyXG4gICAgICAgIC4uLmZpbHRlcnMsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgJGdyaWQuaW5uZXJIVE1MID0gZGF0YS5kYXRhLmh0bWw7XHJcbiAgICAgICAgICAvLyBVcGRhdGUgcGFnaW5hdGlvbiBpZiBuZWVkZWRcclxuICAgICAgICAgIHVwZGF0ZVBhZ2luYXRpb24oZGF0YS5kYXRhLnBhZ2luYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGaWx0ZXIgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT0gRVhBTVBMRTogR2V0IGFsbCBmaWx0ZXIgdmFsdWVzID09PT09PT09PT09PVxyXG4gIGZ1bmN0aW9uIGdldEFsbEZpbHRlclZhbHVlcygpIHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgc2VsZWN0cy5mb3JFYWNoKChzZWxlY3QpID0+IHtcclxuICAgICAgY29uc3QgbmFtZSA9IHNlbGVjdC5uYW1lO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHNlbGVjdC5nZXRWYWx1ZSgpO1xyXG4gICAgICBpZiAobmFtZSAmJiB2YWx1ZSkge1xyXG4gICAgICAgIHZhbHVlc1tuYW1lXSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICAvLyA9PT09PT09PT09PT0gRVhBTVBMRTogU2V0IGZpbHRlciB2YWx1ZSBwcm9ncmFtbWF0aWNhbGx5ID09PT09PT09PT09PVxyXG4gIC8vIHNlbGVjdHNbMF0uc2V0VmFsdWUoJ3ByaWNlJyk7IC8vIFNldCBmaXJzdCBzZWxlY3QgdG8gJ3ByaWNlJyBvcHRpb25cclxuXHJcbiAgLy8gPT09PT09PT09PT09IEVYQU1QTEU6IERpc2FibGUvRW5hYmxlIHNlbGVjdCA9PT09PT09PT09PT1cclxuICAvLyBzZWxlY3RzWzBdLmRpc2FibGUoKTtcclxuICAvLyBzZWxlY3RzWzBdLmVuYWJsZSgpO1xyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PSBFWFBPUlQgRk9SIE1PRFVMRSBVU0FHRSA9PT09PT09PT09PT1cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IEN1c3RvbVNlbGVjdDtcclxufVxyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgLy8gPT09PT09PT09PT09IE1BTlVGQUNUVVJFUiBUQUJTID09PT09PT09PT09PVxyXG4gIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1hbnVmYWN0dXJlci10YWJzIC50YWItYnRuXCIpO1xyXG4gIGNvbnN0IHRhYlBhbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYW51ZmFjdHVyZXItdGFicyAudGFiLXBhbmVcIik7XHJcblxyXG4gIGlmICh0YWJCdXR0b25zLmxlbmd0aCA+IDAgJiYgdGFiUGFuZXMubGVuZ3RoID4gMCkge1xyXG4gICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VGFiID0gdGhpcy5kYXRhc2V0LnRhYjtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBmcm9tIGFsbCBidXR0b25zXHJcbiAgICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGFjdGl2ZSB0byBjbGlja2VkIGJ1dHRvblxyXG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgLy8gSGlkZSBhbGwgdGFiIHBhbmVzXHJcbiAgICAgICAgdGFiUGFuZXMuZm9yRWFjaCgocGFuZSkgPT4ge1xyXG4gICAgICAgICAgcGFuZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTaG93IHRhcmdldCB0YWIgcGFuZVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0UGFuZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldFRhYik7XHJcbiAgICAgICAgICBpZiAodGFyZ2V0UGFuZSkge1xyXG4gICAgICAgICAgICB0YXJnZXRQYW5lLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBTbW9vdGggc2Nyb2xsIHRvIHRhYiBjb250ZW50XHJcbiAgICAgICAgICAgIHRhcmdldFBhbmUuc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gICAgICAgICAgICAgIGJsb2NrOiBcIm5lYXJlc3RcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uXHJcbiAgICB0YWJCdXR0b25zLmZvckVhY2goKGJ1dHRvbiwgaW5kZXgpID0+IHtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbGV0IG5ld0luZGV4O1xyXG5cclxuICAgICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBuZXdJbmRleCA9IChpbmRleCArIDEpICUgdGFiQnV0dG9ucy5sZW5ndGg7XHJcbiAgICAgICAgICB0YWJCdXR0b25zW25ld0luZGV4XS5jbGljaygpO1xyXG4gICAgICAgICAgdGFiQnV0dG9uc1tuZXdJbmRleF0uZm9jdXMoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBuZXdJbmRleCA9IChpbmRleCAtIDEgKyB0YWJCdXR0b25zLmxlbmd0aCkgJSB0YWJCdXR0b25zLmxlbmd0aDtcclxuICAgICAgICAgIHRhYkJ1dHRvbnNbbmV3SW5kZXhdLmNsaWNrKCk7XHJcbiAgICAgICAgICB0YWJCdXR0b25zW25ld0luZGV4XS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7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QUUsS0FBSyxhQUFhLGVBQWUsRUFBRUMsRUFBRUQsRUFBRSxTQUFTQSxFQUFFLEtBQUssVUFBVSxJQUFJLGFBQWEsRUFBZSxPQUFPRSxHQUFwQixjQUFrQ0EsSUFBVixTQUFhLENBQUNDLEdBQVlELElBQVQsU0FBYUYsRUFBRSxLQUFLLFVBQVUsT0FBTyxhQUFhLENBQUMsRUFBRUUsRUFBRSxTQUFTRixFQUFFQyxFQUFFLENBQUMsSUFBSUMsRUFBRSxPQUFPLFlBQVlFLEVBQUUsT0FBTyxZQUFZSixFQUFFLFFBQVEsU0FBU0EsRUFBRTBCLEVBQUUsQ0FBQ3ZCLEVBQUVILEVBQUVJLEVBQUVGLEVBQUVELENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRUEsRUFBRSxRQUFRQyxDQUFDLEVBQUUsU0FBU0YsRUFBRUMsRUFBRUUsRUFBRSxDQUFDLGFBQWEsU0FBU0QsRUFBRUYsRUFBRSxDQUFDLE9BQU9BLEdBQUdBLEVBQUUsV0FBV0EsRUFBRSxDQUFDLFFBQVFBLENBQUMsQ0FBQyxDQUFDLE9BQU8sZUFBZUMsRUFBRSxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJRyxFQUFFRCxFQUFFLEVBQUUsRUFBRSxFQUFFRCxFQUFFRSxDQUFDLEVBQUVDLEVBQUUsU0FBU0wsRUFBRUMsRUFBRSxDQUFDLE9BQU9ELEVBQUUsUUFBUSxTQUFTQSxFQUFFRyxFQUFFLENBQUNILEVBQUUsS0FBSyxVQUFVLElBQUksVUFBVSxFQUFFQSxFQUFFLFlBQVksRUFBRSxTQUFTQSxFQUFFLEtBQUtDLEVBQUUsTUFBTSxDQUFDLENBQUMsRUFBRUQsQ0FBQyxFQUFFQyxFQUFFLFFBQVFJLENBQUMsRUFBRSxTQUFTTCxFQUFFQyxFQUFFRSxFQUFFLENBQUMsYUFBYSxTQUFTRCxFQUFFRixFQUFFLENBQUMsT0FBT0EsR0FBR0EsRUFBRSxXQUFXQSxFQUFFLENBQUMsUUFBUUEsQ0FBQyxDQUFDLENBQUMsT0FBTyxlQUFlQyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUlHLEVBQUVELEVBQUUsRUFBRSxF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R0FBS3dCLEVBQVcsT0FDcENBLEVBQVdPLENBQVEsRUFBRSxNQUFNLEVBQzNCUCxFQUFXTyxDQUFRLEVBQUUsTUFBTSxHQUNsQjlCLEVBQUUsTUFBUSxjQUNuQkEsRUFBRSxlQUFlLEVBQ2pCOEIsR0FBWS9CLEVBQVEsRUFBSXdCLEVBQVcsUUFBVUEsRUFBVyxPQUN4REEsRUFBV08sQ0FBUSxFQUFFLE1BQU0sRUFDM0JQLEVBQVdPLENBQVEsRUFBRSxNQUFNLEVBRS9CLENBQUMsQ0FDSCxDQUFDLEVBRUwsR0FBRyIsCiAgIm5hbWVzIjogWyJyZXF1aXJlX2FvcyIsICJfX2NvbW1vbkpTTWluIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImUiLCAidCIsICJvIiwgIm4iLCAiaSIsICJhIiwgInUiLCAiYyIsICJzIiwgImYiLCAiZCIsICJsIiwgInAiLCAibSIsICJiIiwgInYiLCAieSIsICJnIiwgImgiLCAidyIsICJrIiwgImoiLCAiTyIsICJNIiwgIlMiLCAiXyIsICJyIiwgIngiLCAicmVxdWlyZV9sb3phZF9taW4iLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0IiwgImciLCAiZiIsICJlIiwgInIiLCAiYSIsICJvIiwgImkiLCAibiIsICJkIiwgInUiLCAiQSIsICJtIiwgInYiLCAicyIsICJjIiwgImwiLCAiYiIsICJzZXRCYWNrZ3JvdW5kRWxlbWVudCIsICJiYWNrZ3JvdW5kIiwgImJ1dHRvblRvVG9wIiwgIndpbmRvd0hlaWdodCIsICJzY3JvbGxUb3AiLCAiZG9jdW1lbnRIZWlnaHQiLCAiaW5pdEFjY29yZGlvbiIsICIkYWNjb3JkaW9uIiwgIiRpdGVtcyIsICJzdGlja0VsZW1lbnRUb0VkZ2UiLCAidGFyZ2V0IiwgIiR0aGlzIiwgImVkZ2VQb3NpdGlvbiIsICJwb3NpdGlvbiIsICJ1bnN0aWNrIiwgIm9mZnNldCIsICJtZW51U3B5IiwgImVsbSIsICJkZWJvdW5jZVRpbWVyIiwgImlzQWN0aXZlIiwgIm1zIiwgImN1cnJlbnRJdGVtIiwgIm5vZGVQYXJlbnQiLCAiaW5pdF9oZWxwZXIiLCAiX19lc21NaW4iLCAiaGVhZGVyIiwgImluaXRfaGVhZGVyIiwgIl9fZXNtTWluIiwgImhlYWRlckVsIiwgImxhc3RTY3JvbGxZIiwgImhhbmRsZVNjcm9sbCIsICJjdXJyZW50U2Nyb2xsWSIsICJtZW51SXRlbXMiLCAiaXRlbSIsICJsaW5rIiwgImUiLCAiaXNBY3RpdmUiLCAib3RoZXJJdGVtIiwgInRvZ2dsZSIsICJoYW1idXJnZXIiLCAibW9iaWxlTWVudSIsICJtb2JpbGVNZW51Q2xvc2UiLCAibW9iaWxlTWVudU92ZXJsYXkiLCAib3Blbk1vYmlsZU1lbnUiLCAiZmlyc3RDYXRlZ29yeSIsICJjbG9zZU1vYmlsZU1lbnUiLCAibWVudUl0ZW0iLCAidGl0bGUiLCAic2VhcmNoQnRuIiwgInNlYXJjaE92ZXJsYXkiLCAic2VhcmNoQ2xvc2UiLCAic2VhcmNoQmFja2Ryb3AiLCAic2VhcmNoSW5wdXQiLCAib3BlblNlYXJjaCIsICJjbG9zZVNlYXJjaCIsICJzZWFyY2hGb3JtIiwgImhlcm9CYW5uZXIiLCAiaW5pdF9oZXJvQmFubmVyIiwgIl9fZXNtTWluIiwgImJhbm5lclNlY3Rpb24iLCAiYmFubmVyTWVkaWEiLCAidmlkZW8iLCAic291bmRUb2dnbGUiLCAicG9zdGVyIiwgImhhbmRsZVZpZGVvUGxheSIsICJoYW5kbGVWaWRlb0NhblBsYXkiLCAiYXR0ZW1wdEF1dG9wbGF5IiwgIl9fYXN5bmMiLCAiZXJyb3IiLCAib2JzZXJ2ZXJPcHRpb25zIiwgImhhbmRsZUludGVyc2VjdGlvbiIsICJlbnRyaWVzIiwgImVudHJ5IiwgIm9ic2VydmVyIiwgImlzT2JqZWN0IiwgIm9iaiIsICJleHRlbmQiLCAidGFyZ2V0IiwgInNyYyIsICJrZXkiLCAiZ2V0RG9jdW1lbnQiLCAiZG9jIiwgInNzckRvY3VtZW50IiwgImdldFdpbmRvdyIsICJ3aW4iLCAic3NyV2luZG93IiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiX19lc21NaW4iLCAiY2FsbGJhY2siLCAiaWQiLCAiY2xhc3Nlc1RvVG9rZW5zIiwgImNsYXNzZXMiLCAiYyIsICJkZWxldGVQcm9wcyIsICJvYmoiLCAib2JqZWN0IiwgImtleSIsICJlIiwgIm5leHRUaWNrIiwgImNhbGxiYWNrIiwgImRlbGF5IiwgIm5vdyIsICJnZXRDb21wdXRlZFN0eWxlIiwgImVsIiwgIndpbmRvdyIsICJnZXRXaW5kb3ciLCAic3R5bGUiLCAiZ2V0VHJhbnNsYXRlIiwgImF4aXMiLCAibWF0cml4IiwgImN1clRyYW5zZm9ybSIsICJ0cmFuc2Zvcm1NYXRyaXgiLCAiY3VyU3R5bGUiLCAiaXNPYmplY3QiLCAibyIsICJpc05vZGUiLCAibm9kZSIsICJleHRlbmQiLCAidG8iLCAibm9FeHRlbmQiLCAiaSIsICJuZXh0U291cmNlIiwgImtleXNBcnJheSIsICJuZXh0SW5kZXgiLCAibGVuIiwgIm5leHRLZXkiLCAiZGVzYyIsICJzZXRDU1NQcm9wZXJ0eSIsICJ2YXJOYW1lIiwgInZhclZhbHVlIiwgImFuaW1hdGVDU1NNb2RlU2Nyb2xsIiwgIl9yZWYiLCAic3dpcGVyIiwgInRhcmdldFBvc2l0aW9uIiwgInNpZGUiLCAic3RhcnRQb3NpdGlvbiIsICJzdGFydFRpbWUiLCAidGltZSIsICJkdXJhdGlvbiIsICJkaXIiLCAiaXNPdXRPZkJvdW5kIiwgImN1cnJlbnQiLCAidGFyZ2V0IiwgImFuaW1hdGUiLCAicHJvZ3Jlc3MiLCAiZWFzZVByb2dyZXNzIiwgImN1cnJlbnRQb3NpdGlvbiIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgInNsaWRlRWwiLCAiZWxlbWVudENoaWxkcmVuIiwgImVsZW1lbnQiLCAic2VsZWN0b3IiLCAic2hvd1dhcm5pbmciLCAidGV4dCIsICJlcnIiLCAiY3JlYXRlRWxlbWVudCIsICJ0YWciLCAiZWxlbWVudFByZXZBbGwiLCAicHJldkVscyIsICJwcmV2IiwgImVsZW1lbnROZXh0QWxsIiwgIm5leHRFbHMiLCAibmV4dCIsICJlbGVtZW50U3R5bGUiLCAicHJvcCIsICJlbGVtZW50SW5kZXgiLCAiY2hpbGQiLCAiZWxlbWVudFBhcmVudHMiLCAicGFyZW50cyIsICJwYXJlbnQiLCAiZWxlbWVudFRyYW5zaXRpb25FbmQiLCAiZmlyZUNhbGxCYWNrIiwgImVsZW1lbnRPdXRlclNpemUiLCAic2l6ZSIsICJpbmNsdWRlTWFyZ2lucyIsICJpbml0X3V0aWxzIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiY2FsY1N1cHBvcnQiLCAid2luZG93IiwgImdldFdpbmRvdyIsICJkb2N1bWVudCIsICJnZXREb2N1bWVudCIsICJnZXRTdXBwb3J0IiwgInN1cHBvcnQiLCAiY2FsY0RldmljZSIsICJfdGVtcCIsICJ1c2VyQWdlbnQiLCAicGxhdGZvcm0iLCAidWEiLCAiZGV2aWNlIiwgInNjcmVlbldpZHRoIiwgInNjcmVlbkhlaWdodCIsICJhbmRyb2lkIiwgImlwYWQiLCAiaXBvZCIsICJpcGhvbmUiLCAid2luZG93cyIsICJtYWNvcyIsICJpUGFkU2NyZWVucyIsICJnZXREZXZpY2UiLCAib3ZlcnJpZGVzIiwgImRldmljZUNhY2hlZCIsICJjYWxjQnJvd3NlciIsICJuZWVkUGVyc3BlY3RpdmVGaXgiLCAiaXNTYWZhcmkiLCAibWFqb3IiLCAibWlub3IiLCAibnVtIiwgImdldEJyb3dzZXIiLCAiYnJvd3NlciIsICJSZXNpemUiLCAiX3JlZiIsICJzd2lwZXIiLCAib24iLCAiZW1pdCIsICJvYnNlcnZlciIsICJhbmltYXRpb25GcmFtZSIsICJyZXNpemVIYW5kbGVyIiwgImNyZWF0ZU9ic2VydmVyIiwgImVudHJpZXMiLCAid2lkdGgiLCAiaGVpZ2h0IiwgIm5ld1dpZHRoIiwgIm5ld0hlaWdodCIsICJfcmVmMiIsICJjb250ZW50Qm94U2l6ZSIsICJjb250ZW50UmVjdCIsICJ0YXJnZXQiLCAicmVtb3ZlT2JzZXJ2ZXIiLCAib3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyIiwgIk9ic2VydmVyIiwgImV4dGVuZFBhcmFtcyIsICJvYnNlcnZlcnMiLCAiYXR0YWNoIiwgIm9wdGlvbnMiLCAiT2JzZXJ2ZXJGdW5jIiwgIm11dGF0aW9ucyIsICJvYnNlcnZlclVwZGF0ZSIsICJpbml0IiwgImNvbnRhaW5lclBhcmVudHMiLCAiZWxlbWVudFBhcmVudHMiLCAiaSIsICJkZXN0cm95IiwgInVwZGF0ZVNpemUiLCAiZWwiLCAiZWxlbWVudFN0eWxlIiwgInVwZGF0ZVNsaWRlcyIsICJnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlIiwgIm5vZGUiLCAibGFiZWwiLCAicGFyYW1zIiwgIndyYXBwZXJFbCIsICJzbGlkZXNFbCIsICJzd2lwZXJTaXplIiwgInJ0bCIsICJ3cm9uZ1JUTCIsICJpc1ZpcnR1YWwiLCAicHJldmlvdXNTbGlkZXNMZW5ndGgiLCAic2xpZGVzIiwgImVsZW1lbnRDaGlsZHJlbiIsICJzbGlkZXNMZW5ndGgiLCAic25hcEdyaWQiLCAic2xpZGVzR3JpZCIsICJzbGlkZXNTaXplc0dyaWQiLCAib2Zmc2V0QmVmb3JlIiwgIm9mZnNldEFmdGVyIiwgInByZXZpb3VzU25hcEdyaWRMZW5ndGgiLCAicHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoIiwgInNwYWNlQmV0d2VlbiIsICJzbGlkZVBvc2l0aW9uIiwgInByZXZTbGlkZVNpemUiLCAiaW5kZXgiLCAic2xpZGVFbCIsICJzZXRDU1NQcm9wZXJ0eSIsICJncmlkRW5hYmxlZCIsICJzbGlkZVNpemUiLCAic2hvdWxkUmVzZXRTbGlkZVNpemUiLCAia2V5IiwgInNsaWRlIiwgInNsaWRlU3R5bGVzIiwgImN1cnJlbnRUcmFuc2Zvcm0iLCAiY3VycmVudFdlYktpdFRyYW5zZm9ybSIsICJlbGVtZW50T3V0ZXJTaXplIiwgInBhZGRpbmdMZWZ0IiwgInBhZGRpbmdSaWdodCIsICJtYXJnaW5MZWZ0IiwgIm1hcmdpblJpZ2h0IiwgImJveFNpemluZyIsICJjbGllbnRXaWR0aCIsICJvZmZzZXRXaWR0aCIsICJuZXdTbGlkZXNHcmlkIiwgInNsaWRlc0dyaWRJdGVtIiwgInNpemUiLCAiZ3JvdXBzIiwgImdyb3VwU2l6ZSIsICJfIiwgInNsaWRlSW5kZXgiLCAiYWxsU2xpZGVzU2l6ZSIsICJzbGlkZVNpemVWYWx1ZSIsICJtYXhTbmFwIiwgInNuYXAiLCAiYWxsU2xpZGVzT2Zmc2V0IiwgInNuYXBJbmRleCIsICJhZGRUb1NuYXBHcmlkIiwgImFkZFRvU2xpZGVzR3JpZCIsICJ2IiwgImJhY2tGYWNlSGlkZGVuQ2xhc3MiLCAiaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQiLCAidXBkYXRlQXV0b0hlaWdodCIsICJzcGVlZCIsICJhY3RpdmVTbGlkZXMiLCAiZ2V0U2xpZGVCeUluZGV4IiwgInVwZGF0ZVNsaWRlc09mZnNldCIsICJtaW51c09mZnNldCIsICJ1cGRhdGVTbGlkZXNQcm9ncmVzcyIsICJ0cmFuc2xhdGUiLCAib2Zmc2V0Q2VudGVyIiwgInNsaWRlT2Zmc2V0IiwgInNsaWRlUHJvZ3Jlc3MiLCAib3JpZ2luYWxTbGlkZVByb2dyZXNzIiwgInNsaWRlQmVmb3JlIiwgInNsaWRlQWZ0ZXIiLCAiaXNGdWxseVZpc2libGUiLCAidXBkYXRlUHJvZ3Jlc3MiLCAibXVsdGlwbGllciIsICJ0cmFuc2xhdGVzRGlmZiIsICJwcm9ncmVzcyIsICJpc0JlZ2lubmluZyIsICJpc0VuZCIsICJwcm9ncmVzc0xvb3AiLCAid2FzQmVnaW5uaW5nIiwgIndhc0VuZCIsICJpc0JlZ2lubmluZ1JvdW5kZWQiLCAiaXNFbmRSb3VuZGVkIiwgImZpcnN0U2xpZGVJbmRleCIsICJsYXN0U2xpZGVJbmRleCIsICJmaXJzdFNsaWRlVHJhbnNsYXRlIiwgImxhc3RTbGlkZVRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVNYXgiLCAidHJhbnNsYXRlQWJzIiwgInVwZGF0ZVNsaWRlc0NsYXNzZXMiLCAiYWN0aXZlSW5kZXgiLCAiZ2V0RmlsdGVyZWRTbGlkZSIsICJzZWxlY3RvciIsICJhY3RpdmVTbGlkZSIsICJwcmV2U2xpZGUiLCAibmV4dFNsaWRlIiwgImVsZW1lbnROZXh0QWxsIiwgImVsZW1lbnRQcmV2QWxsIiwgImdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUiLCAidXBkYXRlQWN0aXZlSW5kZXgiLCAibmV3QWN0aXZlSW5kZXgiLCAicHJldmlvdXNJbmRleCIsICJwcmV2aW91c1JlYWxJbmRleCIsICJwcmV2aW91c1NuYXBJbmRleCIsICJnZXRWaXJ0dWFsUmVhbEluZGV4IiwgImFJbmRleCIsICJyZWFsSW5kZXgiLCAic2tpcCIsICJmaXJzdFNsaWRlSW5Db2x1bW4iLCAiYWN0aXZlU2xpZGVJbmRleCIsICJwcmVsb2FkIiwgInVwZGF0ZUNsaWNrZWRTbGlkZSIsICJwYXRoIiwgInBhdGhFbCIsICJzbGlkZUZvdW5kIiwgImdldFN3aXBlclRyYW5zbGF0ZSIsICJheGlzIiwgImN1cnJlbnRUcmFuc2xhdGUiLCAiZ2V0VHJhbnNsYXRlIiwgInNldFRyYW5zbGF0ZSIsICJieUNvbnRyb2xsZXIiLCAieCIsICJ5IiwgInoiLCAibmV3UHJvZ3Jlc3MiLCAibWluVHJhbnNsYXRlIiwgIm1heFRyYW5zbGF0ZSIsICJ0cmFuc2xhdGVUbyIsICJydW5DYWxsYmFja3MiLCAidHJhbnNsYXRlQm91bmRzIiwgImludGVybmFsIiwgIm5ld1RyYW5zbGF0ZSIsICJpc0giLCAiYW5pbWF0ZUNTU01vZGVTY3JvbGwiLCAiZSIsICJzZXRUcmFuc2l0aW9uIiwgImR1cmF0aW9uIiwgInRyYW5zaXRpb25FbWl0IiwgImRpcmVjdGlvbiIsICJzdGVwIiwgImRpciIsICJ0cmFuc2l0aW9uU3RhcnQiLCAidHJhbnNpdGlvbkVuZCIsICJzbGlkZVRvIiwgImluaXRpYWwiLCAiZW5hYmxlZCIsICJub3JtYWxpemVkVHJhbnNsYXRlIiwgIm5vcm1hbGl6ZWRHcmlkIiwgIm5vcm1hbGl6ZWRHcmlkTmV4dCIsICJ0IiwgInNsaWRlVG9Mb29wIiwgIm5ld0luZGV4IiwgInRhcmdldFNsaWRlSW5kZXgiLCAiY29scyIsICJjZW50ZXJlZFNsaWRlcyIsICJzbGlkZXNQZXJWaWV3IiwgIm5lZWRMb29wRml4IiwgInNsaWRlTmV4dCIsICJhbmltYXRpbmciLCAicGVyR3JvdXAiLCAiaW5jcmVtZW50IiwgInNsaWRlUHJldiIsICJydGxUcmFuc2xhdGUiLCAibm9ybWFsaXplIiwgInZhbCIsICJub3JtYWxpemVkU25hcEdyaWQiLCAicHJldlNuYXAiLCAicHJldlNuYXBJbmRleCIsICJwcmV2SW5kZXgiLCAibGFzdEluZGV4IiwgInNsaWRlUmVzZXQiLCAic2xpZGVUb0Nsb3Nlc3QiLCAidGhyZXNob2xkIiwgImN1cnJlbnRTbmFwIiwgIm5leHRTbmFwIiwgInNsaWRlVG9DbGlja2VkU2xpZGUiLCAic2xpZGVUb0luZGV4IiwgInNsaWRlU2VsZWN0b3IiLCAibmV4dFRpY2siLCAibG9vcENyZWF0ZSIsICJzbGlkZVJlYWxJbmRleCIsICJpbml0U2xpZGVzIiwgInNsaWRlc1Blckdyb3VwIiwgInNob3VsZEZpbGxHcm91cCIsICJzaG91bGRGaWxsR3JpZCIsICJhZGRCbGFua1NsaWRlcyIsICJhbW91bnRPZlNsaWRlcyIsICJjcmVhdGVFbGVtZW50IiwgInNsaWRlc1RvQWRkIiwgInNob3dXYXJuaW5nIiwgImxvb3BGaXgiLCAiYnlNb3VzZXdoZWVsIiwgImFsbG93U2xpZGVQcmV2IiwgImFsbG93U2xpZGVOZXh0IiwgImxvb3BlZFNsaWRlcyIsICJwcmVwZW5kU2xpZGVzSW5kZXhlcyIsICJhcHBlbmRTbGlkZXNJbmRleGVzIiwgImlzTmV4dCIsICJpc1ByZXYiLCAic2xpZGVzUHJlcGVuZGVkIiwgInNsaWRlc0FwcGVuZGVkIiwgImFjdGl2ZUNvbEluZGV4V2l0aFNoaWZ0IiwgImNvbEluZGV4VG9QcmVwZW5kIiwgImN1cnJlbnRTbGlkZVRyYW5zbGF0ZSIsICJkaWZmIiwgInNoaWZ0IiwgImxvb3BQYXJhbXMiLCAiYyIsICJfX3NwcmVhZFByb3BzIiwgIl9fc3ByZWFkVmFsdWVzIiwgImxvb3BEZXN0cm95IiwgIm5ld1NsaWRlc09yZGVyIiwgInNldEdyYWJDdXJzb3IiLCAibW92aW5nIiwgInVuc2V0R3JhYkN1cnNvciIsICJjbG9zZXN0RWxlbWVudCIsICJiYXNlIiwgIl9fY2xvc2VzdEZyb20iLCAiZm91bmQiLCAicHJldmVudEVkZ2VTd2lwZSIsICJldmVudCIsICJzdGFydFgiLCAiZWRnZVN3aXBlRGV0ZWN0aW9uIiwgImVkZ2VTd2lwZVRocmVzaG9sZCIsICJvblRvdWNoU3RhcnQiLCAiZGF0YSIsICJ0b3VjaGVzIiwgInRhcmdldEVsIiwgInN3aXBpbmdDbGFzc0hhc1ZhbHVlIiwgImV2ZW50UGF0aCIsICJub1N3aXBpbmdTZWxlY3RvciIsICJpc1RhcmdldFNoYWRvdyIsICJzdGFydFkiLCAibm93IiwgInByZXZlbnREZWZhdWx0IiwgInNob3VsZFByZXZlbnREZWZhdWx0IiwgIm9uVG91Y2hNb3ZlIiwgInRhcmdldFRvdWNoIiwgInBhZ2VYIiwgInBhZ2VZIiwgImRpZmZYIiwgImRpZmZZIiwgIl9fcG93IiwgInRvdWNoQW5nbGUiLCAidG91Y2hlc0RpZmYiLCAicHJldlRvdWNoZXNEaXJlY3Rpb24iLCAiaXNMb29wIiwgImFsbG93TG9vcEZpeCIsICJldnQiLCAibG9vcEZpeGVkIiwgImRpc2FibGVQYXJlbnRTd2lwZXIiLCAicmVzaXN0YW5jZVJhdGlvIiwgIm9uVG91Y2hFbmQiLCAidG91Y2hFbmRUaW1lIiwgInRpbWVEaWZmIiwgInBhdGhUcmVlIiwgImN1cnJlbnRQb3MiLCAic3dpcGVUb0xhc3QiLCAic3RvcEluZGV4IiwgInJld2luZEZpcnN0SW5kZXgiLCAicmV3aW5kTGFzdEluZGV4IiwgInJhdGlvIiwgIm9uUmVzaXplIiwgImlzVmlydHVhbExvb3AiLCAib25DbGljayIsICJvblNjcm9sbCIsICJvbkxvYWQiLCAicHJvY2Vzc0xhenlQcmVsb2FkZXIiLCAib25Eb2N1bWVudFRvdWNoU3RhcnQiLCAiYXR0YWNoRXZlbnRzIiwgImV2ZW50cyIsICJkZXRhY2hFdmVudHMiLCAic2V0QnJlYWtwb2ludCIsICJpbml0aWFsaXplZCIsICJicmVha3BvaW50cyIsICJicmVha3BvaW50IiwgImJyZWFrcG9pbnRQYXJhbXMiLCAid2FzTXVsdGlSb3ciLCAiaXNHcmlkRW5hYmxlZCIsICJpc011bHRpUm93IiwgIndhc0VuYWJsZWQiLCAicHJvcCIsICJ3YXNNb2R1bGVFbmFibGVkIiwgImlzTW9kdWxlRW5hYmxlZCIsICJkaXJlY3Rpb25DaGFuZ2VkIiwgIm5lZWRzUmVMb29wIiwgIndhc0xvb3AiLCAiZXh0ZW5kIiwgImlzRW5hYmxlZCIsICJoYXNMb29wIiwgImdldEJyZWFrcG9pbnQiLCAiY29udGFpbmVyRWwiLCAiY3VycmVudEhlaWdodCIsICJwb2ludHMiLCAicG9pbnQiLCAibWluUmF0aW8iLCAiYiIsICJ2YWx1ZSIsICJwcmVwYXJlQ2xhc3NlcyIsICJwcmVmaXgiLCAicmVzdWx0Q2xhc3NlcyIsICJpdGVtIiwgImNsYXNzTmFtZXMiLCAiYWRkQ2xhc3NlcyIsICJzdWZmaXhlcyIsICJyZW1vdmVDbGFzc2VzIiwgImNoZWNrT3ZlcmZsb3ciLCAid2FzTG9ja2VkIiwgInNsaWRlc09mZnNldEJlZm9yZSIsICJsYXN0U2xpZGVSaWdodEVkZ2UiLCAibW9kdWxlRXh0ZW5kUGFyYW1zIiwgImFsbE1vZHVsZXNQYXJhbXMiLCAib2JqIiwgIm1vZHVsZVBhcmFtTmFtZSIsICJtb2R1bGVQYXJhbXMiLCAiZXZlbnRzRW1pdHRlciIsICJ1bmxhenkiLCAidXBkYXRlIiwgInRyYW5zaXRpb24iLCAibG9vcCIsICJncmFiQ3Vyc29yIiwgImV2ZW50cyQxIiwgImNsYXNzZXMiLCAiY2hlY2tPdmVyZmxvdyQxIiwgImRlZmF1bHRzIiwgInByb3RvdHlwZXMiLCAiZXh0ZW5kZWREZWZhdWx0cyIsICJTd2lwZXIiLCAiaW5pdF9zd2lwZXJfY29yZSIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgImluaXRfdXRpbHMiLCAiaGFuZGxlciIsICJwcmlvcml0eSIsICJzZWxmIiwgIm1ldGhvZCIsICJvbmNlSGFuZGxlciIsICJfbGVuIiwgImFyZ3MiLCAiX2tleSIsICJldmVudEhhbmRsZXIiLCAiY29udGV4dCIsICJfbGVuMiIsICJfa2V5MiIsICJpbWFnZUVsIiwgImxhenlFbCIsICJhbW91bnQiLCAibGVuIiwgImFjdGl2ZUNvbHVtbiIsICJwcmVsb2FkQ29sdW1ucyIsICJzbGlkZUluZGV4TGFzdEluVmlldyIsICJjYXB0dXJlIiwgImRvbU1ldGhvZCIsICJzd2lwZXJNZXRob2QiLCAiX1N3aXBlciIsICJzd2lwZXJzIiwgIm5ld1BhcmFtcyIsICJtb2QiLCAic3dpcGVyUGFyYW1zIiwgImV2ZW50TmFtZSIsICJwcm9wZXJ0eSIsICJlbGVtZW50SW5kZXgiLCAibWluIiwgImN1cnJlbnQiLCAiY2xzIiwgImNsYXNzTmFtZSIsICJ1cGRhdGVzIiwgInZpZXciLCAiZXhhY3QiLCAic3B2IiwgImJyZWFrTG9vcCIsICJ0cmFuc2xhdGVWYWx1ZSIsICJ0cmFuc2xhdGVkIiwgIm5ld0RpcmVjdGlvbiIsICJuZWVkVXBkYXRlIiwgImN1cnJlbnREaXJlY3Rpb24iLCAiZWxlbWVudCIsICJnZXRXcmFwcGVyU2VsZWN0b3IiLCAibGF6eUVsZW1lbnRzIiwgImRlbGV0ZUluc3RhbmNlIiwgImNsZWFuU3R5bGVzIiwgImRlbGV0ZVByb3BzIiwgIm5ld0RlZmF1bHRzIiwgIm1vZHVsZXMiLCAibW9kdWxlIiwgIm0iLCAicHJvdG90eXBlR3JvdXAiLCAicHJvdG9NZXRob2QiLCAiaW5pdF9zd2lwZXIiLCAiX19lc21NaW4iLCAiaW5pdF9zd2lwZXJfY29yZSIsICJpbml0X3ZpcnR1YWwiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgImluaXRfa2V5Ym9hcmQiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgIk1vdXNld2hlZWwiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAid2luZG93IiwgImdldFdpbmRvdyIsICJ0aW1lb3V0IiwgImxhc3RTY3JvbGxUaW1lIiwgIm5vdyIsICJsYXN0RXZlbnRCZWZvcmVTbmFwIiwgInJlY2VudFdoZWVsRXZlbnRzIiwgIm5vcm1hbGl6ZSIsICJlIiwgInNYIiwgInNZIiwgInBYIiwgInBZIiwgImhhbmRsZU1vdXNlRW50ZXIiLCAiaGFuZGxlTW91c2VMZWF2ZSIsICJhbmltYXRlU2xpZGVyIiwgIm5ld0V2ZW50IiwgInJlbGVhc2VTY3JvbGwiLCAicGFyYW1zIiwgImhhbmRsZSIsICJldmVudCIsICJkaXNhYmxlUGFyZW50U3dpcGVyIiwgInRhcmdldEVsIiwgInRhcmdldEVsQ29udGFpbnNUYXJnZXQiLCAiZGVsdGEiLCAicnRsRmFjdG9yIiwgImRhdGEiLCAicG9zaXRpb25zIiwgInByZXZFdmVudCIsICJpZ25vcmVXaGVlbEV2ZW50cyIsICJwb3NpdGlvbiIsICJ3YXNCZWdpbm5pbmciLCAid2FzRW5kIiwgImZpcnN0RXZlbnQiLCAic25hcFRvVGhyZXNob2xkIiwgIm5leHRUaWNrIiwgImV2ZW50cyIsICJtZXRob2QiLCAiZW5hYmxlIiwgImRpc2FibGUiLCAiaW5pdF9tb3VzZXdoZWVsIiwgIl9fZXNtTWluIiwgImluaXRfc3NyX3dpbmRvd19lc20iLCAiaW5pdF91dGlscyIsICJjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIiwgInN3aXBlciIsICJvcmlnaW5hbFBhcmFtcyIsICJwYXJhbXMiLCAiY2hlY2tQcm9wcyIsICJrZXkiLCAiZWxlbWVudCIsICJlbGVtZW50Q2hpbGRyZW4iLCAiY3JlYXRlRWxlbWVudCIsICJpbml0X2NyZWF0ZV9lbGVtZW50X2lmX25vdF9kZWZpbmVkIiwgIl9fZXNtTWluIiwgImluaXRfdXRpbHMiLCAiTmF2aWdhdGlvbiIsICJfcmVmIiwgInN3aXBlciIsICJleHRlbmRQYXJhbXMiLCAib24iLCAiZW1pdCIsICJtYWtlRWxlbWVudHNBcnJheSIsICJlbCIsICJlIiwgImdldEVsIiwgInJlcyIsICJ0b2dnbGVFbCIsICJkaXNhYmxlZCIsICJwYXJhbXMiLCAic3ViRWwiLCAidXBkYXRlIiwgIm5leHRFbCIsICJwcmV2RWwiLCAib25QcmV2Q2xpY2siLCAib25OZXh0Q2xpY2siLCAiaW5pdCIsICJjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIiwgImluaXRCdXR0b24iLCAiZGlyIiwgImRlc3Ryb3kiLCAiZGVzdHJveUJ1dHRvbiIsICJkaXNhYmxlIiwgIl9zIiwgInRhcmdldEVsIiwgImlzSGlkZGVuIiwgImVuYWJsZSIsICJpbml0X25hdmlnYXRpb24iLCAiX19lc21NaW4iLCAiaW5pdF9jcmVhdGVfZWxlbWVudF9pZl9ub3RfZGVmaW5lZCIsICJjbGFzc2VzVG9TZWxlY3RvciIsICJjbGFzc2VzIiwgImluaXRfY2xhc3Nlc190b19zZWxlY3RvciIsICJfX2VzbU1pbiIsICJQYWdpbmF0aW9uIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlbWl0IiwgInBmeCIsICJudW1iZXIiLCAiYnVsbGV0U2l6ZSIsICJkeW5hbWljQnVsbGV0SW5kZXgiLCAibWFrZUVsZW1lbnRzQXJyYXkiLCAiZWwiLCAiZSIsICJpc1BhZ2luYXRpb25EaXNhYmxlZCIsICJzZXRTaWRlQnVsbGV0cyIsICJidWxsZXRFbCIsICJwb3NpdGlvbiIsICJidWxsZXRBY3RpdmVDbGFzcyIsICJvbkJ1bGxldENsaWNrIiwgImNsYXNzZXNUb1NlbGVjdG9yIiwgImluZGV4IiwgImVsZW1lbnRJbmRleCIsICJ1cGRhdGUiLCAicnRsIiwgInBhcmFtcyIsICJjdXJyZW50IiwgInByZXZpb3VzSW5kZXgiLCAic2xpZGVzTGVuZ3RoIiwgInRvdGFsIiwgImJ1bGxldHMiLCAiZmlyc3RJbmRleCIsICJsYXN0SW5kZXgiLCAibWlkSW5kZXgiLCAiZWxlbWVudE91dGVyU2l6ZSIsICJzdWJFbCIsICJjbGFzc2VzVG9SZW1vdmUiLCAic3VmZml4IiwgInMiLCAiYnVsbGV0IiwgImJ1bGxldEluZGV4IiwgImZpcnN0RGlzcGxheWVkQnVsbGV0IiwgImxhc3REaXNwbGF5ZWRCdWxsZXQiLCAiaSIsICJkeW5hbWljQnVsbGV0c0xlbmd0aCIsICJidWxsZXRzT2Zmc2V0IiwgIm9mZnNldFByb3AiLCAic3ViRWxJbmRleCIsICJmcmFjdGlvbkVsIiwgInRvdGFsRWwiLCAicHJvZ3Jlc3NiYXJEaXJlY3Rpb24iLCAic2NhbGUiLCAic2NhbGVYIiwgInNjYWxlWSIsICJwcm9ncmVzc0VsIiwgInJlbmRlciIsICJwYWdpbmF0aW9uSFRNTCIsICJudW1iZXJPZkJ1bGxldHMiLCAiaW5pdCIsICJjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIiwgImVsZW1lbnRQYXJlbnRzIiwgImRlc3Ryb3kiLCAiZGlzYWJsZSIsICJfcyIsICJ0YXJnZXRFbCIsICJpc0hpZGRlbiIsICJlbmFibGUiLCAiaW5pdF9wYWdpbmF0aW9uIiwgIl9fZXNtTWluIiwgImluaXRfY2xhc3Nlc190b19zZWxlY3RvciIsICJpbml0X2NyZWF0ZV9lbGVtZW50X2lmX25vdF9kZWZpbmVkIiwgImluaXRfdXRpbHMiLCAiaW5pdF9zY3JvbGxiYXIiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgImluaXRfY3JlYXRlX2VsZW1lbnRfaWZfbm90X2RlZmluZWQiLCAiaW5pdF9jbGFzc2VzX3RvX3NlbGVjdG9yIiwgImluaXRfcGFyYWxsYXgiLCAiX19lc21NaW4iLCAiaW5pdF91dGlscyIsICJpbml0X3pvb20iLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgImluaXRfY29udHJvbGxlciIsICJfX2VzbU1pbiIsICJpbml0X3V0aWxzIiwgImluaXRfYTExeSIsICJfX2VzbU1pbiIsICJpbml0X2NsYXNzZXNfdG9fc2VsZWN0b3IiLCAiaW5pdF91dGlscyIsICJpbml0X2hpc3RvcnkiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X2hhc2hfbmF2aWdhdGlvbiIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgImluaXRfdXRpbHMiLCAiQXV0b3BsYXkiLCAiX3JlZiIsICJzd2lwZXIiLCAiZXh0ZW5kUGFyYW1zIiwgIm9uIiwgImVtaXQiLCAicGFyYW1zIiwgInRpbWVvdXQiLCAicmFmIiwgImF1dG9wbGF5RGVsYXlUb3RhbCIsICJhdXRvcGxheURlbGF5Q3VycmVudCIsICJhdXRvcGxheVRpbWVMZWZ0IiwgImF1dG9wbGF5U3RhcnRUaW1lIiwgIndhc1BhdXNlZCIsICJpc1RvdWNoZWQiLCAicGF1c2VkQnlUb3VjaCIsICJ0b3VjaFN0YXJ0VGltZW91dCIsICJzbGlkZUNoYW5nZWQiLCAicGF1c2VkQnlJbnRlcmFjdGlvbiIsICJwYXVzZWRCeVBvaW50ZXJFbnRlciIsICJvblRyYW5zaXRpb25FbmQiLCAiZSIsICJyZXN1bWUiLCAiY2FsY1RpbWVMZWZ0IiwgInRpbWVMZWZ0IiwgImdldFNsaWRlRGVsYXkiLCAiYWN0aXZlU2xpZGVFbCIsICJzbGlkZUVsIiwgInJ1biIsICJkZWxheUZvcmNlIiwgImRlbGF5IiwgImN1cnJlbnRTbGlkZURlbGF5IiwgInNwZWVkIiwgInByb2NlZWQiLCAic3RhcnQiLCAic3RvcCIsICJwYXVzZSIsICJpbnRlcm5hbCIsICJyZXNldCIsICJvblZpc2liaWxpdHlDaGFuZ2UiLCAiZG9jdW1lbnQiLCAiZ2V0RG9jdW1lbnQiLCAib25Qb2ludGVyRW50ZXIiLCAib25Qb2ludGVyTGVhdmUiLCAiYXR0YWNoTW91c2VFdmVudHMiLCAiZGV0YWNoTW91c2VFdmVudHMiLCAiYXR0YWNoRG9jdW1lbnRFdmVudHMiLCAiZGV0YWNoRG9jdW1lbnRFdmVudHMiLCAiX3MiLCAiaW5pdF9hdXRvcGxheSIsICJfX2VzbU1pbiIsICJpbml0X3Nzcl93aW5kb3dfZXNtIiwgIlRodW1iIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJpbml0aWFsaXplZCIsICJzd2lwZXJDcmVhdGVkIiwgIm9uVGh1bWJDbGljayIsICJ0aHVtYnNTd2lwZXIiLCAiY2xpY2tlZEluZGV4IiwgImNsaWNrZWRTbGlkZSIsICJzbGlkZVRvSW5kZXgiLCAiaW5pdCIsICJ0aHVtYnNQYXJhbXMiLCAiU3dpcGVyQ2xhc3MiLCAiaXNPYmplY3QiLCAidGh1bWJzU3dpcGVyUGFyYW1zIiwgInVwZGF0ZSIsICJpbml0aWFsIiwgInNsaWRlc1BlclZpZXciLCAidGh1bWJzVG9BY3RpdmF0ZSIsICJ0aHVtYkFjdGl2ZUNsYXNzIiwgInNsaWRlRWwiLCAiaSIsICJlbGVtZW50Q2hpbGRyZW4iLCAiYXV0b1Njcm9sbE9mZnNldCIsICJ1c2VPZmZzZXQiLCAiY3VycmVudFRodW1ic0luZGV4IiwgIm5ld1RodW1ic0luZGV4IiwgImRpcmVjdGlvbiIsICJuZXdUaHVtYnNTbGlkZSIsICJ0aHVtYnMiLCAiZG9jdW1lbnQiLCAiZ2V0RG9jdW1lbnQiLCAiZ2V0VGh1bWJzRWxlbWVudEFuZEluaXQiLCAidGh1bWJzRWxlbWVudCIsICJvblRodW1ic1N3aXBlciIsICJlIiwgIndhdGNoRm9yVGh1bWJzVG9BcHBlYXIiLCAiX3MiLCAiZHVyYXRpb24iLCAiaW5pdF90aHVtYnMiLCAiX19lc21NaW4iLCAiaW5pdF9zc3Jfd2luZG93X2VzbSIsICJpbml0X3V0aWxzIiwgImZyZWVNb2RlIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJlbWl0IiwgIm9uY2UiLCAib25Ub3VjaFN0YXJ0IiwgInRyYW5zbGF0ZSIsICJvblRvdWNoTW92ZSIsICJkYXRhIiwgInRvdWNoZXMiLCAibm93IiwgIm9uVG91Y2hFbmQiLCAiX3JlZjIiLCAiY3VycmVudFBvcyIsICJwYXJhbXMiLCAid3JhcHBlckVsIiwgInJ0bCIsICJzbmFwR3JpZCIsICJ0aW1lRGlmZiIsICJsYXN0TW92ZUV2ZW50IiwgInZlbG9jaXR5RXZlbnQiLCAiZGlzdGFuY2UiLCAidGltZSIsICJtb21lbnR1bUR1cmF0aW9uIiwgIm1vbWVudHVtRGlzdGFuY2UiLCAibmV3UG9zaXRpb24iLCAiZG9Cb3VuY2UiLCAiYWZ0ZXJCb3VuY2VQb3NpdGlvbiIsICJib3VuY2VBbW91bnQiLCAibmVlZHNMb29wRml4IiwgIm5leHRTbGlkZSIsICJqIiwgIm1vdmVEaXN0YW5jZSIsICJjdXJyZW50U2xpZGVTaXplIiwgImVsZW1lbnRUcmFuc2l0aW9uRW5kIiwgImluaXRfZnJlZV9tb2RlIiwgIl9fZXNtTWluIiwgImluaXRfdXRpbHMiLCAiaW5pdF9ncmlkIiwgIl9fZXNtTWluIiwgImluaXRfbWFuaXB1bGF0aW9uIiwgIl9fZXNtTWluIiwgImVmZmVjdEluaXQiLCAicGFyYW1zIiwgImVmZmVjdCIsICJzd2lwZXIiLCAib24iLCAic2V0VHJhbnNsYXRlIiwgInNldFRyYW5zaXRpb24iLCAib3ZlcndyaXRlUGFyYW1zIiwgInBlcnNwZWN0aXZlIiwgInJlY3JlYXRlU2hhZG93cyIsICJnZXRFZmZlY3RQYXJhbXMiLCAib3ZlcndyaXRlUGFyYW1zUmVzdWx0IiwgIl9zIiwgImR1cmF0aW9uIiwgInNsaWRlRWwiLCAic2hhZG93RWwiLCAicmVxdWlyZVVwZGF0ZU9uVmlydHVhbCIsICJpbml0X2VmZmVjdF9pbml0IiwgIl9fZXNtTWluIiwgImVmZmVjdFRhcmdldCIsICJlZmZlY3RQYXJhbXMiLCAic2xpZGVFbCIsICJ0cmFuc2Zvcm1FbCIsICJnZXRTbGlkZVRyYW5zZm9ybUVsIiwgImluaXRfZWZmZWN0X3RhcmdldCIsICJfX2VzbU1pbiIsICJpbml0X3V0aWxzIiwgImVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIiwgIl9yZWYiLCAic3dpcGVyIiwgImR1cmF0aW9uIiwgInRyYW5zZm9ybUVsZW1lbnRzIiwgImFsbFNsaWRlcyIsICJhY3RpdmVJbmRleCIsICJnZXRTbGlkZSIsICJlbCIsICJzbGlkZUVsIiwgImV2ZW50VHJpZ2dlcmVkIiwgInRyYW5zaXRpb25FbmRUYXJnZXQiLCAidHJhbnNmb3JtRWwiLCAiZWxlbWVudFRyYW5zaXRpb25FbmQiLCAiZXZ0IiwgImluaXRfZWZmZWN0X3ZpcnR1YWxfdHJhbnNpdGlvbl9lbmQiLCAiX19lc21NaW4iLCAiaW5pdF91dGlscyIsICJFZmZlY3RGYWRlIiwgIl9yZWYiLCAic3dpcGVyIiwgImV4dGVuZFBhcmFtcyIsICJvbiIsICJlZmZlY3RJbml0IiwgInNsaWRlcyIsICJwYXJhbXMiLCAiaSIsICJzbGlkZUVsIiwgInR4IiwgInR5IiwgInNsaWRlT3BhY2l0eSIsICJ0YXJnZXRFbCIsICJlZmZlY3RUYXJnZXQiLCAiZHVyYXRpb24iLCAidHJhbnNmb3JtRWxlbWVudHMiLCAiZ2V0U2xpZGVUcmFuc2Zvcm1FbCIsICJlbCIsICJlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCIsICJpbml0X2VmZmVjdF9mYWRlIiwgIl9fZXNtTWluIiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgImluaXRfZWZmZWN0X3ZpcnR1YWxfdHJhbnNpdGlvbl9lbmQiLCAiaW5pdF91dGlscyIsICJpbml0X2VmZmVjdF9jdWJlIiwgIl9fZXNtTWluIiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF91dGlscyIsICJpbml0X2NyZWF0ZV9zaGFkb3ciLCAiX19lc21NaW4iLCAiaW5pdF91dGlscyIsICJpbml0X2VmZmVjdF9mbGlwIiwgIl9fZXNtTWluIiwgImluaXRfY3JlYXRlX3NoYWRvdyIsICJpbml0X2VmZmVjdF9pbml0IiwgImluaXRfZWZmZWN0X3RhcmdldCIsICJpbml0X2VmZmVjdF92aXJ0dWFsX3RyYW5zaXRpb25fZW5kIiwgImluaXRfdXRpbHMiLCAiaW5pdF9lZmZlY3RfY292ZXJmbG93IiwgIl9fZXNtTWluIiwgImluaXRfY3JlYXRlX3NoYWRvdyIsICJpbml0X2VmZmVjdF9pbml0IiwgImluaXRfZWZmZWN0X3RhcmdldCIsICJpbml0X3V0aWxzIiwgImluaXRfZWZmZWN0X2NyZWF0aXZlIiwgIl9fZXNtTWluIiwgImluaXRfY3JlYXRlX3NoYWRvdyIsICJpbml0X2VmZmVjdF9pbml0IiwgImluaXRfZWZmZWN0X3RhcmdldCIsICJpbml0X2VmZmVjdF92aXJ0dWFsX3RyYW5zaXRpb25fZW5kIiwgImluaXRfdXRpbHMiLCAiaW5pdF9lZmZlY3RfY2FyZHMiLCAiX19lc21NaW4iLCAiaW5pdF9jcmVhdGVfc2hhZG93IiwgImluaXRfZWZmZWN0X2luaXQiLCAiaW5pdF9lZmZlY3RfdGFyZ2V0IiwgImluaXRfZWZmZWN0X3ZpcnR1YWxfdHJhbnNpdGlvbl9lbmQiLCAiaW5pdF91dGlscyIsICJpbml0X21vZHVsZXMiLCAiX19lc21NaW4iLCAiaW5pdF92aXJ0dWFsIiwgImluaXRfa2V5Ym9hcmQiLCAiaW5pdF9tb3VzZXdoZWVsIiwgImluaXRfbmF2aWdhdGlvbiIsICJpbml0X3BhZ2luYXRpb24iLCAiaW5pdF9zY3JvbGxiYXIiLCAiaW5pdF9wYXJhbGxheCIsICJpbml0X3pvb20iLCAiaW5pdF9jb250cm9sbGVyIiwgImluaXRfYTExeSIsICJpbml0X2hpc3RvcnkiLCAiaW5pdF9oYXNoX25hdmlnYXRpb24iLCAiaW5pdF9hdXRvcGxheSIsICJpbml0X3RodW1icyIsICJpbml0X2ZyZWVfbW9kZSIsICJpbml0X2dyaWQiLCAiaW5pdF9tYW5pcHVsYXRpb24iLCAiaW5pdF9lZmZlY3RfZmFkZSIsICJpbml0X2VmZmVjdF9jdWJlIiwgImluaXRfZWZmZWN0X2ZsaXAiLCAiaW5pdF9lZmZlY3RfY292ZXJmbG93IiwgImluaXRfZWZmZWN0X2NyZWF0aXZlIiwgImluaXRfZWZmZWN0X2NhcmRzIiwgInN3aXBlckluaXQiLCAiaW5kZXgiLCAiJHRoaXMiLCAiY29uZmlnIiwgIlN3aXBlciIsICJfX3NwcmVhZFByb3BzIiwgIl9fc3ByZWFkVmFsdWVzIiwgIk5hdmlnYXRpb24iLCAiUGFnaW5hdGlvbiIsICJNb3VzZXdoZWVsIiwgIkF1dG9wbGF5IiwgIkVmZmVjdEZhZGUiLCAiY2xhc3NOYW1lIiwgInRpdGxlIiwgImluaXRfc3dpcGVyIiwgIl9fZXNtTWluIiwgImluaXRfbW9kdWxlcyIsICJpbml0UHJvZHVjdE1lZGlhU2Nyb2xsIiwgImVsZW1lbnRzIiwgInN0YXRlIiwgInN5bmNDdXJzb3JUb1Njcm9sbCIsICJyZWN0IiwgInZpZXdwb3J0SGVpZ2h0IiwgIm9mZnNldFRvcCIsICJzY3JvbGxhYmxlRGlzdCIsICJwZXJjZW50IiwgInRyYWNrSGVpZ2h0IiwgImN1cnNvckhlaWdodCIsICJtYXhDdXJzb3JUb3AiLCAibmV3VG9wIiwgIm9uRHJhZ1N0YXJ0IiwgImUiLCAiX2EiLCAiX2IiLCAib25EcmFnTW92ZSIsICJvbkRyYWdFbmQiLCAiZGVsdGFZIiwgImNvbnRhaW5lckN1cnJlbnRUb3AiLCAidGFyZ2V0U2Nyb2xsWSIsICJvbkRibENsaWNrIiwgImNsaWNrWSIsICJ0YXJnZXRUb3AiLCAiaW5pdFByb2R1Y3RNZWRpYVNsaWRlck1vYmlsZSIsICJtYWluU3dpcGVyIiwgInRodW1iU3dpcGVyIiwgImluaXRTd2lwZXIiLCAibWFpbkVsIiwgInRodW1iRWwiLCAiU3dpcGVyIiwgImZyZWVNb2RlIiwgIlRodW1iIiwgIk5hdmlnYXRpb24iLCAicmVzaXplVGltZXIiLCAiaW5pdFNpemVHdWlkZVBvcHVwIiwgInRyaWdnZXIiLCAicG9wdXAiLCAiY2xvc2VCdG4iLCAiYmFja2Ryb3AiLCAidGFicyIsICJ0YWJDb250ZW50cyIsICJjbG9zZVBvcHVwIiwgInRhYiIsICJ0IiwgImMiLCAidGFyZ2V0SWQiLCAidGFyZ2V0Q29udGVudCIsICJpbml0UHJvZHVjdERlc2NTY3JvbGwiLCAiZGVzYyIsICJsYXN0U2Nyb2xsVG9wIiwgImlzU2Nyb2xsaW5nIiwgInN0IiwgImluaXRfc2hvcERldGFpbCIsICJfX2VzbU1pbiIsICJpbml0X3N3aXBlciIsICJpbml0X21vZHVsZXMiLCAiaW5pdEFib3V0Q21wIiwgImluaXRfYWJvdXQiLCAiX19lc21NaW4iLCAiaW5pdF9zd2lwZXIiLCAiaW5pdF9tb2R1bGVzIiwgInRpbWVsaW5lU2VjdGlvbiIsICJzd2lwZXJDb250YWluZXIiLCAidXBkYXRlQWN0aXZlRG90IiwgImluZGV4IiwgIndpZHRoIiwgIm1heFZpc2libGUiLCAiZG90cyIsICJzdGFydCIsICJlbmQiLCAiaGFsZiIsICJ2aXNpYmxlQ291bnQiLCAicmVsYXRpdmVBY3RpdmVJbmRleCIsICJkIiwgImkiLCAicHJvZ3Jlc3NCYXIiLCAicHJvZ3Jlc3MiLCAidGltZWxpbmVTd2lwZXIiLCAiU3dpcGVyIiwgIk5hdmlnYXRpb24iLCAiRWZmZWN0RmFkZSIsICJkb3QiLCAiaW5pdEhvbWU0IiwgImluaXRfaG9tZSIsICJfX2VzbU1pbiIsICJkZXNjV3JhcHBlciIsICJyZWFkTW9yZUJ0biIsICJlIiwgInJlcXVpcmVfU2hvcFRvb2xiYXIiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJTaG9wVG9vbGJhciIsICJkcm9wZG93biIsICJ0cmlnZ2VyIiwgImNsZWFyQnRuIiwgIm9wdGlvbnMiLCAiZSIsICJvcHRpb24iLCAiaXNPcGVuIiwgImQiLCAib3B0aW9uTGluayIsICJ0YXhvbm9teSIsICJ2YWx1ZSIsICJsYWJlbCIsICJ0cmlnZ2VyTGFiZWwiLCAib3B0aW9uSXRlbSIsICJvcHQiLCAiZmlsdGVyTmFtZSIsICJ1cmwiLCAiYWN0aXZlRmlsdGVycyIsICJldmVudCIsICJmaWx0ZXJzIiwgInJlcXVpcmVfUG9wdXAiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJXZWxjb21lUG9wdXBzIiwgIm9wdGlvbnMiLCAiX19zcHJlYWRWYWx1ZXMiLCAiYnRuIiwgImUiLCAicG9wdXAiLCAib3ZlcmxheSIsICJhY3RpdmVQb3B1cCIsICJ0cmlnZ2VyIiwgInBvcHVwSWQiLCAic2hpcHBpbmdCdG4iLCAibmV3c2xldHRlckZvcm0iLCAic2VxdWVuY2UiLCAibmV4dFBvcHVwSWQiLCAiX2EiLCAiX2IiLCAiY291bnRyeSIsICJsYW5ndWFnZSIsICJzaGlwcGluZ0RhdGEiLCAiZm9ybSIsICJlbWFpbCIsICJtYXJrZXRpbmdDb25zZW50IiwgIm5ld3NsZXR0ZXJEYXRhIiwgImRhdGEiLCAicmVxdWlyZV9tYWluIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiaW1wb3J0X2FvcyIsICJpbXBvcnRfbG96YWQiLCAiaW5pdF9oZWxwZXIiLCAiaW5pdF9oZWFkZXIiLCAiaW5pdF9oZXJvQmFubmVyIiwgImluaXRfc3dpcGVyIiwgImluaXRfc2hvcERldGFpbCIsICJpbml0X2Fib3V0IiwgImluaXRfaG9tZSIsICJpbXBvcnRfU2hvcFRvb2xiYXIiLCAiaW1wb3J0X1BvcHVwIiwgInNldEJhY2tncm91bmRFbGVtZW50IiwgInN0aWNrRWxlbWVudFRvRWRnZSIsICJtZW51U3B5IiwgImJ1dHRvblRvVG9wIiwgImluaXRBY2NvcmRpb24iLCAiaGVhZGVyIiwgImhlcm9CYW5uZXIiLCAic3dpcGVySW5pdCIsICJpbml0UHJvZHVjdE1lZGlhU2Nyb2xsIiwgImluaXRQcm9kdWN0TWVkaWFTbGlkZXJNb2JpbGUiLCAiaW5pdFNpemVHdWlkZVBvcHVwIiwgImluaXRQcm9kdWN0RGVzY1Njcm9sbCIsICJpbml0QWJvdXRDbXAiLCAiaW5pdEhvbWU0IiwgIkFPUyIsICJvYnNlcnZlciIsICJsb3phZCIsICIkIiwgIm9yZGVyYnkiLCAidXJsIiwgIiRzdWJNZW51IiwgIkN1c3RvbVNlbGVjdCIsICJfQ3VzdG9tU2VsZWN0IiwgImVsZW1lbnQiLCAib3B0aW9ucyIsICJfX3NwcmVhZFZhbHVlcyIsICJvcHRpb24iLCAiaW5kZXgiLCAiZSIsICJhY3RpdmVPcHRpb24iLCAiX2EiLCAidmFsdWUiLCAidGV4dCIsICJvcHQiLCAiX2IiLCAiZXhjZXB0U2VsZWN0IiwgInNlbGVjdCIsICJzZWxlY3RvciIsICJpbnN0YW5jZXMiLCAic2VsZWN0cyIsICJmaWx0ZXJzIiwgIm5hbWUiLCAiYXBwbHlGaWx0ZXJzIiwgImtleSIsICJhcHBseUZpbHRlcnNBamF4IiwgIiRncmlkIiwgInJlc3BvbnNlIiwgImRhdGEiLCAiZXJyb3IiLCAiZ2V0QWxsRmlsdGVyVmFsdWVzIiwgInZhbHVlcyIsICJ0YWJCdXR0b25zIiwgInRhYlBhbmVzIiwgImJ1dHRvbiIsICJ0YXJnZXRUYWIiLCAiYnRuIiwgInBhbmUiLCAidGFyZ2V0UGFuZSIsICJuZXdJbmRleCJdCn0K
